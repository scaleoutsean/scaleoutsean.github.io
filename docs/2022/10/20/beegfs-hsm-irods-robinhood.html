<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>iRODS or Robinhood HSM with BeeGFS | Acting Technologist</title>
<meta name="description" content="External solution to move files between BeeGFS filesystem and external locations such as other BeeGFS FS, NFS shares, or S3 buckets">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="iRODS or Robinhood HSM with BeeGFS">
<meta property="og:url" content="https://scaleoutsean.github.io/2022/10/20/beegfs-hsm-irods-robinhood.html">


  <meta property="og:description" content="External solution to move files between BeeGFS filesystem and external locations such as other BeeGFS FS, NFS shares, or S3 buckets">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="iRODS or Robinhood HSM with BeeGFS">
  <meta name="twitter:description" content="External solution to move files between BeeGFS filesystem and external locations such as other BeeGFS FS, NFS shares, or S3 buckets">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2022/10/20/beegfs-hsm-irods-robinhood.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2022-10-20T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2022/10/20/beegfs-hsm-irods-robinhood.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->


<meta name="bingbot" content="noindex,noarchive,nofollow">


  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="iRODS or Robinhood HSM with BeeGFS">
    <meta itemprop="description" content="External solution to move files between BeeGFS filesystem and external locations such as other BeeGFS FS, NFS shares, or S3 buckets">
    <meta itemprop="datePublished" content="2022-10-20T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2022/10/20/beegfs-hsm-irods-robinhood.html" itemprop="url">iRODS or Robinhood HSM with BeeGFS
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-10-20T00:00:00+08:00">2022-10-20 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>BeeGFS can work with different storage targets, so just like with Spectrum Scale it is possible to create a filesystem that spans across different disk media and protection schemes.</p>

<p>But sometimes you need to move data to another location, for which different filesystems have different approaches. For example:</p>

<ul>
  <li>Tier cold <em>blocks</em> to a lower cost tier and fetch them on-demand, or</li>
  <li>Move specific files to a lower cost tier (e.g. from /mnt/beegfs to Glacier)</li>
</ul>

<p>This functionality can be built into storage system or employed externally.</p>

<p>NetApp WAFL (the filesystem of NetApp ONTAP), for example, has this functionality available in its system and can tier to S3-compatible buckets.</p>

<p>BeeGFS and many other filesystems rely on external software, often called HSM (Hierarchical Storage Management) rather than tiering (at least I prefer to use these names, to avoid confusion with block-tiering features present in many enterprise storage systems).</p>

<p>That software usually moves entire files and leaves a filesystem stub, or creates a shortcut, or maybe doesn't (in the case the user is supposed to find the file by querying a database rather than looking the filesystem).</p>

<p>In HPC there are two popular open-source solutions for HSM (and more): iRODS and Robinhood Policy Engine. In general terms filesystem is scanned for matching files which are then copied to the right place and the original is then deleted leaving a replica or replicas as the new original.</p>

<p>Based on a quick read of the documentation, below are my impressions.</p>

<h2 id="irods">iRODS</h2>

<ul>
  <li>Seems more comprehensive and powerful, but also more complex</li>
  <li>Seems to have more developer resources</li>
  <li>Works with POSIX-y filesystems including BeeGFS and NFS</li>
  <li>S3 plugin</li>
  <li>Docs for current version 4.3.0 can be found <a href="https://docs.irods.org/4.3.0/">here</a></li>
</ul>

<p>I used iRODS briefly because it has an S3 resource plugin. I submitted a pull request with added S3 service included in iRODS demo "stack", so that it's easier for folks new to iRODS to get started without wasting too much time (it wasn't fun!).</p>

<p>Once it's up and running, there's a nice Web UI called ZMT:</p>

<p><img src="/assets/images/irods-zmt-01.png" alt="iRODS ZMT" /></p>

<p>After this pull request, S3 plugin is included, and there's a MinIO container running as well.</p>

<p>All you need to do is:</p>

<ul>
  <li>Create a bucket and MinIO user for iRODS provider</li>
  <li>Configure S3 plugin on iRODS</li>
</ul>

<p>That gives us an S3 resource to work with (here, in cacheless mode):</p>

<p><img src="/assets/images/irods-s3-resource-02.png" alt="S3 resource" /></p>

<p>In this mode you can use an iRODS client to put and get stuff to S3.</p>

<p><img src="/assets/images/irods-s3-bucket-04.png" alt="iRODS with S3" /></p>

<p>Check the bucket:</p>

<p><img src="/assets/images/irods-s3-03.png" alt="S3 bucket contents" /></p>

<p>I haven't had time to try a more meaningful (NFS &lt;=&gt; S3) demo yet.</p>

<h2 id="robinhood">Robinhood</h2>

<ul>
  <li>Less complex, and easier to get started</li>
  <li>Seems to have less developer resources</li>
  <li>Works with POSIX-y filesystems including BeeGFS and NFS, but I couldn't find anything on S3</li>
  <li>Docs for v3 can be found <a href="https://github.com/cea-hpc/robinhood/wiki/robinhood_v3_admin_doc">here</a></li>
</ul>

<h2 id="irods-and-robinhood-policy-engine-with-beegfs">iRODS and Robinhood Policy Engine with BeeGFS</h2>

<p>Please don't take "project has less resources" to mean "stay away from it" - as I said Robinhood seems easier to use and is very popular (e.g. among Lustre users), so I do not think it's risky to adopt it.</p>

<p>A better way to interpret that statement is "if you don't have a full time guru who can become an expert in this stuff, check out Robinhood first". I would also verify whether the plugin (such as S3 or perhaps LTFS) is available for the solution you want to use.</p>

<p>I haven't seen anything that indicates that BeeGFS would have any problem working with either Robinhood or iRODS. Some examples:</p>

<ul>
  <li>Tier0 on RAM-based BeeGFS filesystem</li>
  <li>Tier1 on NVMe-based BeeGFS backed by NetApp E-Series</li>
  <li>Tier2 on NL-SAS-based BeeGFS or XFS backed by NetApp E-Series</li>
  <li>Tier3 on NetApp StorageGRID appliances, ONTAP S3, ONTAP NFS, AWS S3, or MinIO backed by E-Series</li>
</ul>

<p>To tier from and to BeeGFS, iRODS and Robinhood would have to run on BeeGFS. Or we can export BeeGFS via NFSv4 and mount NFS from iRODS "client".</p>

<p>Depending on which you choose and the size of your environment, you may also need additional VMs or physical servers to run a dedicated database and other services.</p>

<p>In terms of S3 targets, standard targets should work:</p>

<ul>
  <li>NetApp StorageGRID (disk-based, with optional tiering to lower-cost external S3 storage including Glacier)</li>
  <li>MinIO (disk-based)</li>
  <li>FUJIFILM Object Archive (S3 gateway for tape media that officially supports iRODS)</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/beegfs" class="page__taxonomy-item p-category" rel="tag">beegfs</a><span class="sep">, </span>
    
      <a href="/tags/e-series" class="page__taxonomy-item p-category" rel="tag">e-series</a><span class="sep">, </span>
    
      <a href="/tags/eseries" class="page__taxonomy-item p-category" rel="tag">eseries</a><span class="sep">, </span>
    
      <a href="/tags/hsm" class="page__taxonomy-item p-category" rel="tag">hsm</a><span class="sep">, </span>
    
      <a href="/tags/irods" class="page__taxonomy-item p-category" rel="tag">irods</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-10-20T00:00:00+08:00">2022-10-20 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=iRODS+or+Robinhood+HSM+with+BeeGFS%20https%3A%2F%2Fscaleoutsean.github.io%2F2022%2F10%2F20%2Fbeegfs-hsm-irods-robinhood.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2022/10/20/beegfs-hsm-irods-robinhood.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2022/10/19/watch-beegfs-filesystem.html" class="pagination--pager" title="BeeGFS filesystem event monitoring with watcher">Previous</a>
    
    
      <a href="/2022/10/21/minio-performance-netapp-e-series.html" class="pagination--pager" title="Notes on MinIO performance with NetApp E-Series">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/27/epa-version-3-dot-4-dot-1.html" rel="permalink">EPA version 3.4.1
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-27T00:00:00+08:00">2025-08-27 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.4.1
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/24/epa-version-3-dot-4.html" rel="permalink">EPA version 3.4.0
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-24T00:00:00+08:00">2025-08-24 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.4.0
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/20/econfig-v2-updates.html" rel="permalink">E-Config v2 updated for QLC drives
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-20T00:00:00+08:00">2025-08-20 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I got carried away while making overdue updates to E-Config and added a new feature
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/11/epa-4-beta.html" rel="permalink">E-Series Performance Analyzer (EPA) v4 beta
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-11T00:00:00+08:00">2025-08-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">E-Series Performance Analyzer 4
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
