<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Gathering and forwarding E-Series SANtricity Major Event Log (MEL) | Acting Technologist</title>
<meta name="description" content="Forward SANtricity events to a remote syslog server and then Elasticsearch">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="Gathering and forwarding E-Series SANtricity Major Event Log (MEL)">
<meta property="og:url" content="https://scaleoutsean.github.io/2022/12/13/eseries-santricity-mel-forwarding.html">


  <meta property="og:description" content="Forward SANtricity events to a remote syslog server and then Elasticsearch">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="Gathering and forwarding E-Series SANtricity Major Event Log (MEL)">
  <meta name="twitter:description" content="Forward SANtricity events to a remote syslog server and then Elasticsearch">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2022/12/13/eseries-santricity-mel-forwarding.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2022-12-13T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2022/12/13/eseries-santricity-mel-forwarding.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Gathering and forwarding E-Series SANtricity Major Event Log (MEL)">
    <meta itemprop="description" content="Forward SANtricity events to a remote syslog server and then Elasticsearch">
    <meta itemprop="datePublished" content="2022-12-13T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2022/12/13/eseries-santricity-mel-forwarding.html" itemprop="url">Gathering and forwarding E-Series SANtricity Major Event Log (MEL)
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-12-13T00:00:00+08:00">2022-12-13 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>E-Series Performance Analyzer (EPA) v3.0.0 collects MEL (Major Event Log) events and send them to InfluxDB. I think SANtricity syslog events have similar information but I haven't yet observed them in that context.</p>

<h2 id="mel-major-event-log">MEL (Major Event Log)</h2>

<p>To get MEL events from the SANtricity API we query the API:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="s2">"https://</span><span class="k">${</span><span class="nv">API_IP</span><span class="k">}</span><span class="s2">:8443/devmgr/v2/storage-systems/</span><span class="k">${</span><span class="nv">SYSID</span><span class="k">}</span><span class="s2">/mel-events?startSequenceNumber=-1&amp;count=100&amp;critical=false&amp;includeDebug=false"</span> <span class="se">\</span>
  <span class="nt">-H</span>  <span class="s2">"accept: application/json"</span>
</code></pre></div></div>

<p>Where:</p>

<ul>
  <li>startSequenceNumber - <code class="language-plaintext highlighter-rouge">-1</code> from the beginning</li>
  <li>count - number of events (max = 8192)</li>
  <li>critical - include critical only</li>
  <li>includeDebug - include debug info</li>
</ul>

<p>EPA v3.0.0 gathers MEL information the same way.</p>

<p>In E-Series Performance Analyzer MEL collection is also enabled by default and sent to console with <code class="language-plaintext highlighter-rouge">--showMELMetrics</code>. MEL details - if any - are displayed in a table in System View Dashboard (EPA v3.0.0):</p>

<p><img src="/assets/images/santricity-syslog-mel-01.png" alt="Mel events in an EPA v3.0.0 table" /></p>

<p>The System Failures table (to the right) is currently empty. If the MPIO failure mentioned earlier was present but unresolved, it would be shown in that table.</p>

<p>MEL table in the screenshot contains non-critical events, including Link Down events and multiple failed attempts to authenticate against the SANtricity API or Web UI which resulted in a lockout (600 seconds with SANtricity 11.74). (Funny fact: if this (wrong password provided in docker-compose.yml) happens to EPA's collector script, you won't see this chart because nothing will be sent to Influx DB or visible in Grafana.)</p>

<p>The EPA's System dashboard doesn't let us search MEL events.</p>

<p>For that and other reasons it would be better to send MEL data to an indexed document database such as Elasticsearch. EPA v3.0.0 supports only InfluxDB v1 but Elasticsearch supports syslog, so the easiest alternative to gathering MEL data without writing new code or modifying EPA is to <a href="/2022/12/12/eseries-syslog-forwarding.html">forward SANtricity logs to a syslog server</a>.</p>

<p>The second easiest option is to improve EPA and optionally send MEL to Elasticsearch instead, or also to Elasticsearch (in addition to InfluxDB v1).</p>

<h2 id="failures">Failures</h2>

<p>Failure Discovered / Failure Resolved entries are different from MEL. The Systems dashboard has controls which can display discovered, resolved, or 
both types of failures.</p>

<p>This screenshot shows an MPIO-related failure.</p>

<p><img src="/assets/images/santricity-syslog-failure-01.png" alt="Failure in System dashboard" /></p>

<p>Edit: later I tested some other things and confirmed additional behavior of this feature. System failures such as this one appear in the System Failures table:</p>

<p><img src="/assets/images/santricity-syslog-failure-02.png" alt="System Failures" /></p>

<p>They're also overlaid on charts (red line).</p>

<p><img src="/assets/images/santricity-syslog-failure-04.png" alt="Discovered failure" /></p>

<p>Failures resolved are overlaid as well (green line).</p>

<p><img src="/assets/images/santricity-syslog-failure-03.png" alt="Resolved failure" /></p>

<p>What was the problem that caused it? I used the SANtricity API to create a very thin volume.</p>

<p><img src="/assets/images/santricity-syslog-failure-05.png" alt="Over-provisioned thin volume" /></p>

<h2 id="summary">Summary</h2>

<ul>
  <li>Failures: <code class="language-plaintext highlighter-rouge">/devmgr/v2/storage-systems/{system-id}/failures</code> and EPA v3.0.0 tags these with <code class="language-plaintext highlighter-rouge">failures</code></li>
  <li>MEL: <code class="language-plaintext highlighter-rouge">/devmgr/v2/storage-systems/{system-id}/mel-events</code> and EPA v3.0.0 tags these with <code class="language-plaintext highlighter-rouge">major_event_log</code>
    <ul>
      <li>New MEL events: <code class="language-plaintext highlighter-rouge">/devmgr/v2/storage-systems/{system-id}/mel-events/available</code></li>
    </ul>
  </li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/e-series" class="page__taxonomy-item p-category" rel="tag">e-series</a><span class="sep">, </span>
    
      <a href="/tags/eseries" class="page__taxonomy-item p-category" rel="tag">eseries</a><span class="sep">, </span>
    
      <a href="/tags/event" class="page__taxonomy-item p-category" rel="tag">event</a><span class="sep">, </span>
    
      <a href="/tags/log" class="page__taxonomy-item p-category" rel="tag">log</a><span class="sep">, </span>
    
      <a href="/tags/logging" class="page__taxonomy-item p-category" rel="tag">logging</a><span class="sep">, </span>
    
      <a href="/tags/mel" class="page__taxonomy-item p-category" rel="tag">mel</a><span class="sep">, </span>
    
      <a href="/tags/monitoring" class="page__taxonomy-item p-category" rel="tag">monitoring</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-12-13T00:00:00+08:00">2022-12-13 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=Gathering+and+forwarding+E-Series+SANtricity+Major+Event+Log+%28MEL%29%20https%3A%2F%2Fscaleoutsean.github.io%2F2022%2F12%2F13%2Feseries-santricity-mel-forwarding.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2022/12/13/eseries-santricity-mel-forwarding.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2022/12/12/monitoring-netapp-eseries-with-prometheus.html" class="pagination--pager" title="Prometheus exporter for NetApp E-Series SANtricity OS">Previous</a>
    
    
      <a href="/2022/12/16/eseries-beegfs-csi-driver-140.html" class="pagination--pager" title="NetApp BeeGFS CSI driver 1.4.0">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/24/epa-version-3-dot-4.html" rel="permalink">EPA version 3.4.0
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-24T00:00:00+08:00">2025-08-24 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.4.0
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/20/econfig-v2-updates.html" rel="permalink">E-Config v2 updated for QLC drives
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-20T00:00:00+08:00">2025-08-20 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I got carried away while making overdue updates to E-Config and added a new feature
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/11/epa-4-beta.html" rel="permalink">E-Series Performance Analyzer (EPA) v4 beta
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-11T00:00:00+08:00">2025-08-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">E-Series Performance Analyzer 4
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/11/bing-index-issue.html" rel="permalink">Got binged in July 2025
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-11T00:00:00+08:00">2025-08-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">How I got binged out of Bing in July 2025
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
