<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>SolidFire capacity and efficiency report generator | Acting Technologist</title>
<meta name="description" content="Generate basic capacity and efficiency utilization report for SolidFire with PowerShell">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="SolidFire capacity and efficiency report generator">
<meta property="og:url" content="https://scaleoutsean.github.io/2022/03/30/solidfire-capacity-report-html5.html">


  <meta property="og:description" content="Generate basic capacity and efficiency utilization report for SolidFire with PowerShell">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="SolidFire capacity and efficiency report generator">
  <meta name="twitter:description" content="Generate basic capacity and efficiency utilization report for SolidFire with PowerShell">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2022/03/30/solidfire-capacity-report-html5.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2022-03-30T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2022/03/30/solidfire-capacity-report-html5.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="SolidFire capacity and efficiency report generator">
    <meta itemprop="description" content="Generate basic capacity and efficiency utilization report for SolidFire with PowerShell">
    <meta itemprop="datePublished" content="2022-03-30T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2022/03/30/solidfire-capacity-report-html5.html" itemprop="url">SolidFire capacity and efficiency report generator
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-30T00:00:00+08:00">2022-03-30 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p><strong>NOTICE:</strong> any and all credentials and tokens on this page are samples, not leaked.</p>

<h2 id="intro">Intro</h2>

<p>Yesterday I <a href="/2022/03/29/manage-solidfire-jupyter-powershell.html">published a sample Jupyter notebook for SolidFire automation</a> and didn't have the time or will to screw around with tables and charts. But then I spent the entire evening working on it.</p>

<p>Couple of notes for those new to SolidFire or this blog:</p>

<ul>
  <li>Before taking action based on results you get with this report, compare key data with the SolidFire Web UI, Hybrid Cloud Control or ActiveIQ - just to make sure it's not completely wrong</li>
  <li>If wish to monitor this stuff on a sustained basis and generate reports over time, I recommend to collect data with SolidFire Exporter or HCI Collector or indirectly by sending SolidFire logs to Elasticsearch (and then you can generate reports in Kibana or Grafana, for example). Check this blog's <a href="/archive.html">Archive</a> for various posts about that</li>
</ul>

<h2 id="how">How</h2>

<p>Like in that Jupyter notebook, it's all done in PowerShell <strong>7</strong>, and the formulae are the same.</p>

<p>The HTML and what you see displayed is generated with the help of <a href="https://github.com/qschweitzer/Powershell-HTML5-Reporting/">POSHTML5</a>.</p>

<p>Two things about POSHTML5:</p>

<ul>
  <li>POSHTML5-related code is published under the GPL 3.0 license. I regret that I didn't notice this until I completed the script and was creating license notes for it.</li>
  <li>POSHTML5 is otherwise easy to work with - it's HTML5 so it's responsive and has "features" (see a demo, at the end)</li>
</ul>

<p>To get started, fire up PowerShell, install the modules.</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Install-Module</span><span class="w"> </span><span class="nx">SolidFire.Core</span><span class="w">
</span><span class="n">Install-Module</span><span class="w"> </span><span class="nx">POSHTML5</span><span class="w"> </span><span class="nt">-RequiredVersion</span><span class="w"> </span><span class="nx">0.0.7</span><span class="w">
</span></code></pre></div></div>

<p>Get the script from scripts directory <a href="https://github.com/scaleoutsean/awesome-solidfire">here</a> and check the sample output file in the same directory (HTML format; you may need to download it first).</p>

<p>I wrote the script on Linux. If you're on Windows, modify <code class="language-plaintext highlighter-rouge">$outFile</code> value (at the top of the script) which tells the script where to spit out the report. OS X users may be able to use it as-is while Windows users could try some temporary directory in current user's path. Maybe even current directory would work ("." on Windows).</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">.</span><span class="n">/solidfire-capacity-report.ps1</span><span class="w">
</span></code></pre></div></div>

<h2 id="security">Security</h2>

<p>The script doesn't require Internet connectivity. It only needs to connect to a SolidFire MVIP.</p>

<p>The script doesn't use hard-coded SolidFire credentials or MVIP. If you want to execute it periodically (e.g. every Friday 5pm) you can use various schedulers for that and feed credentials to the script from another file.</p>

<p>The report is a single file which makes it easy to forward to others. It doesn't have many components so it's reasonably easy to inspect as well. If you don't feel comfortable sharing HTML:</p>

<ul>
  <li>the first tab can be printed to PDF or screenshot</li>
  <li>entire tables in Volumes and Accounts tab can be exported</li>
  <li>original capacity &amp; efficiency script produces simple text output that appears when you run the script</li>
  <li>of course you can fork the script to create your own script, text or HTML free of JavaScript; the PowerShell code that calculates capacity is liberally licensed i.e. not under the GPL 3.0 license</li>
</ul>

<p>As mentioned earlier, POSHTML5 module is OSS. Feel free to inspect its code. The report script imports module version 0.0.7, which is latest version and what I used. If you later update it, remember to modify that Import-Module row.</p>

<h2 id="screenshots">Screenshots</h2>

<p>What's in the report?</p>

<p>Basically just a couple of things to get you an idea where you're at in terms of cluster capacity and potentially spot some outliers.</p>

<p>The first tab gives general cluster information:</p>
<ul>
  <li>Effective cluster capacity</li>
  <li>Raw cluster capacity</li>
  <li>Cluster efficiency</li>
  <li>Top 10 volumes by size</li>
  <li>Top 10 volumes by poor efficiency</li>
</ul>

<p><strong>NOTE:</strong> this report was generated from a SolidFire Demo VM (which you can download for free) so the capacity numbers are very low.</p>

<p><img src="/assets/images/solidfire-capacity-report-01.png" alt="SolidFire cluster information" /></p>

<p>The second tab is about storage (tenant) accounts and volumes. The idea is if you spot some big or low-efficiency volumes, you can go to that tab to find out more.</p>

<p>There you can:</p>
<ul>
  <li>Find which tenant has a ton of volumes</li>
  <li>Large volumes, their IDs, and who owns them</li>
  <li>Switch between different views <em>and</em> export this information in various formats</li>
</ul>

<p><img src="/assets/images/solidfire-capacity-report-02.png" alt="SolidFire account and volume information" /></p>

<h2 id="known-issues-and-workarounds">Known issues and workarounds</h2>

<ul>
  <li>Details from cards in the first tab can't be copy-pasted but the script outputs all details in text as well so you can get them there</li>
  <li>Table manipulation buttons in the second tab don't seem to render 100% properly (at least not on Firefox on Linux), but after a couple of clicks it's easy to figure out which button does what</li>
  <li>Color scheme may seem suboptimal. Feel free to edit it</li>
</ul>

<p>MVIP, IP addresses, etc. can be added to HTML and text output, but I wanted to limit the need for scrolling and collect only essential info, so there isn't much other information in the report.</p>

<p>Maybe I'll improve the script if I get to use it sometimes, or notice that others use it. I wrote it because recently I heard of several cases where people struggled to get this info with <code class="language-plaintext highlighter-rouge">curl</code> and whatever they were told to use.</p>

<p>Possibly useful improvements (that can be done by anyone):</p>

<ul>
  <li>Feature: obfuscation or encryption of account and volume names (something ActiveIQ doesn't do for SolidFire data).
    <ul>
      <li><strong>Update:</strong> DONE! If <code class="language-plaintext highlighter-rouge">$noName = $True</code> the script simply omits the names and uses Volume and Account IDs instead (these are always unique integers on SolidFire). This could be coded as a function and we could replace real names with code names rather than omit names, but for now this will do and it's easy to understand (volume IDs are easy to map to volume names for customer). Here's an example of what that looks like - Volume IDs instead of Volume Names:</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/images/solidfire-capacity-report-03.png" alt="SolidFire account and volume information with $noName option" /></p>

<ul>
  <li>Additional details: <a href="/2021/07/07/solidfire-onecollect-and-scripted-supportbundle-automation.html">NetApp OneCollect</a> already does this, which is why I'm reluctant to add more details to this HTML report. And usually users are reluctant to share the network configuration details, so the present minimalistic approach with very little identifiable data is likely to stay</li>
</ul>

<p>If you need to collect a whole bunch of data for tech support, I suggest to use OneCollect or enable ActiveIQ.</p>

<p>I think this report can be helpful when deciding on cluster expansion, upgrades or getting general high level advice for SolidFire management.</p>

<h2 id="demo">Demo</h2>

<ul>
  <li><a href="https://rumble.com/vz0ur4-solidfire-capacity-and-efficiency-report-generator.html">SolidFire capacity and efficiency report generator walk-through</a> - 1m30s</li>
  <li><a href="https://github.com/scaleoutsean/awesome-solidfire/tree/master/scripts/solidfire-capacity-report-sample.html">Sample report</a> from demo video</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/tags/powershell" class="page__taxonomy-item p-category" rel="tag">powershell</a><span class="sep">, </span>
    
      <a href="/tags/report" class="page__taxonomy-item p-category" rel="tag">report</a><span class="sep">, </span>
    
      <a href="/tags/solidfire" class="page__taxonomy-item p-category" rel="tag">solidfire</a><span class="sep">, </span>
    
      <a href="/tags/visualize" class="page__taxonomy-item p-category" rel="tag">visualize</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/solidfire" class="page__taxonomy-item p-category" rel="tag">solidfire</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-03-30T00:00:00+08:00">2022-03-30 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=SolidFire+capacity+and+efficiency+report+generator%20https%3A%2F%2Fscaleoutsean.github.io%2F2022%2F03%2F30%2Fsolidfire-capacity-report-html5.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2022/03/30/solidfire-capacity-report-html5.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2022/03/29/manage-solidfire-jupyter-powershell.html" class="pagination--pager" title="Manage SolidFire from Jupyter Python or .NET notebooks">Previous</a>
    
    
      <a href="/2022/03/31/platform-managed-kubernetes-pmk-on-prem-solidfire.html" class="pagination--pager" title="On-prem Platform9 Managed Kubernetes with SolidFire">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/09/08/solidfire-wac-gateway-client-powershell.html" rel="permalink">SolidFire WAC Gateway Client (PowerShell)
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-09-08T00:00:00+08:00">2025-09-08 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">About that thing that should have been done in 2016
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/09/04/sfc-solidfire-collector-v2-dot-1-dot-0.html" rel="permalink">SolidFire Collector v2.1.0
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-09-04T00:00:00+08:00">2025-09-04 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Stack complete and tagged
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/31/epa-version-3-dot-5.html" rel="permalink">EPA version 3.5.0
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-31T00:00:00+08:00">2025-08-31 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.5.0
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/27/epa-version-3-dot-4-dot-1.html" rel="permalink">EPA version 3.4.1
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-27T00:00:00+08:00">2025-08-27 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.4.1
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
