<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Check Active IQ connectivity from HCC on SolidFire mNode | Acting Technologist</title>
<meta name="description" content="Check connectivity to Active IQ from HCC on SolidFire mNode">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="Check Active IQ connectivity from HCC on SolidFire mNode">
<meta property="og:url" content="https://scaleoutsean.github.io/2022/03/11/solidfire-mnode-active-iq-connectivity.html">


  <meta property="og:description" content="Check connectivity to Active IQ from HCC on SolidFire mNode">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="Check Active IQ connectivity from HCC on SolidFire mNode">
  <meta name="twitter:description" content="Check connectivity to Active IQ from HCC on SolidFire mNode">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2022/03/11/solidfire-mnode-active-iq-connectivity.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2022-03-11T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2022/03/11/solidfire-mnode-active-iq-connectivity.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Check Active IQ connectivity from HCC on SolidFire mNode">
    <meta itemprop="description" content="One annoyance with Active IQ connectivity from Hybrid Cloud Control for SolidFire/NetApp HCI/eSDS is that it's not easy to tell what's going on with it when it doesn't work.">
    <meta itemprop="datePublished" content="2022-03-11T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2022/03/11/solidfire-mnode-active-iq-connectivity.html" itemprop="url">Check Active IQ connectivity from HCC on SolidFire mNode
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-11T00:00:00+08:00">2022-03-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>One annoyance with Active IQ connectivity from Hybrid Cloud Control for SolidFire/NetApp HCI/eSDS is that it's not easy to tell what's going on with it when it doesn't work.</p>

<p>This post is about some basic steps to check its status.</p>

<p>First we check if the container is up and running.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>docker ps <span class="nt">-a</span>
CONTAINER ID        IMAGE
612e2da2a12f        mnode-svc-aiq-collector:1.7.1
</code></pre></div></div>

<p>Then we can use HCC's Swagger or - simpler and faster - <code class="language-plaintext highlighter-rouge">sudo docker logs ${CONTAINERID}</code> to see if there are any obvious errors.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>docker logs 612e2da2a12f
Mar 11 2022 07:48:59.214 INFO log level <span class="nb">set </span>to INFO
Mar 11 2022 07:48:59.215 INFO Attempting to retrieve auth token...
/tmp/_MEIfmppJL/urllib3/connectionpool.py:1020: InsecureRequestWarning: Unverified HTTPS request is being made to host <span class="s1">'192.168.1.34'</span><span class="nb">.</span> Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
Mar 11 2022 07:48:59.258 INFO Token received from auth service.
Mar 11 2022 07:48:59.259 INFO Attempting to retrieve asset information...
Mar 11 2022 07:48:59.275 INFO Asset information retrieved from mnode-api service.
Mar 11 2022 07:48:59.275 INFO Attempting to retrieve mnode settings...
Mar 11 2022 07:48:59.371 INFO Mnode settings retrieved from mnode-api service.
Mar 11 2022 07:48:59.378 INFO Starting collector<span class="o">(</span>s<span class="o">)</span> <span class="k">for </span>mnode
Mar 11 2022 07:48:59.378 INFO Starting collector <span class="k">for </span>mnode <span class="nv">storage_id</span><span class="o">=</span>274fb77d-5faa-4530-a713-e24209bbacc5
Mar 11 2022 07:49:00.716 INFO ListClusterFaults summary : 5 of 5 faults are new, unresolved, or newly resolved
</code></pre></div></div>

<p>The problem with this is INFO log level doesn't give much useful information.</p>

<p>Has it connected to an Active IQ API endpoint? Has it sent any payload (even with INFO level, that should appear every 10 minutes)? Nothing.</p>

<p>It might be helpful in the case of major problems such as a proxy trying to MITM your outgoing connection. But in this case not much can be glanced from logs. I looked through the documentation on how to enable DEBUG log level, but could not find that information. So it's time to move on.</p>

<p>With that container ID we can do some additional checking.</p>

<p>We can enter the container and check its connections.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>docker <span class="nb">exec</span> <span class="nt">-it</span> 612e2da2a12f /bin/ash
<span class="c"># netstat </span>
Active Internet connections <span class="o">(</span>w/o servers<span class="o">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       
tcp        1      0 612e2da2a12f:41736      10.0.0.40:http          CLOSE_WAIT  
tcp        0      0 169.254.104.28:58326    ec2-44-239-179-120.us-west-2.compute.amazonaws.com:https ESTABLISHED 
tcp        1      0 612e2da2a12f:60332      10.0.0.20:http          CLOSE_WAIT  
tcp       70      0 169.254.104.28:56100    sfdr.datafabric.lab:https CLOSE_WAIT  
tcp        0      0 169.254.104.28:58118    sfdr.datafabric.lab:https TIME_WAIT   
Active UNIX domain sockets <span class="o">(</span>w/o servers<span class="o">)</span>
Proto RefCnt Flags       Type       State         I-Node Path
</code></pre></div></div>

<p>All right, so there's a connection to EC2 (IPv4: 44.239…). Exit the container, and use mNode shell to check if that IP may be AIQ API endpoint:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>nslookup monitoring.solidfire.com
Server:		192.168.1.4
Address:	192.168.1.4#53

Non-authoritative answer:
Name:	monitoring.solidfire.com
Address: 52.36.127.139
Name:	monitoring.solidfire.com
Address: 44.239.179.120
</code></pre></div></div>

<p>It looks that way. The second DNS result indicates our container is connected to AIQ via HTTPS and therefore we know it can get out to the Internet and connect to an Active IQ API endpoint.</p>

<p>Also on mNode, see if <a href="https://stackoverflow.com/questions/46704745/docker-stat-network-traffic">Transmit</a> on eth0 is increasing (as it tries to send data out). First we get Docker's PID for the AIQ collector container and then watch its traffic.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>docker inspect 612e2da2a12f | <span class="nb">grep</span> <span class="s1">'"Pid":'</span>
30756

<span class="nv">$ </span><span class="nb">cat</span> /proc/30756/net/dev
Inter-|   Receive                                                |  Transmit
 face |bytes    packets errs drop fifo frame compressed multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:    1686      20    0    0    0     0          0         0     1686      20    0    0    0     0       0          0
  eth1: 19009170    6125    0   24    0     0          0         0   928784    4524    0    0    0     0       0          0
  eth0:    5146      41    0    0    0     0          0         0     4956      22    0    0    0     0       0          0

<span class="nv">$ </span><span class="nb">cat</span> /proc/30756/net/dev
Inter-|   Receive                                                |  Transmit
 face |bytes    packets errs drop fifo frame compressed multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:    1686      20    0    0    0     0          0         0     1686      20    0    0    0     0       0          0
  eth1: 19013079    6136    0   24    0     0          0         0   931452    4534    0    0    0     0       0          0
  eth0:    5146      41    0    0    0     0          0         0     4956      22    0    0    0     0       0          0

</code></pre></div></div>

<p>eth1 might be used for iSCSI or something, so we'd watch the NIC used for the default route (here, eth0) to see if its Transmit counter is incrementing. It's not, but that may be because the storage is SolidFire Demo VM for which AIQ Collector probably doesn't feed details into AIQ.</p>

<p>I don't know what else can be done to make this easier. Potentially you could use tcpdump on mNode to watch if traffic is going to monitoring.solidfire.com:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>tcpdump <span class="nt">-i</span> eth0 44.239.179.120
dropped privs to tcpdump
tcpdump: verbose output suppressed, use <span class="nt">-v</span> or <span class="nt">-vv</span> <span class="k">for </span>full protocol decode
listening on eth0, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size 96 bytes
...
</code></pre></div></div>

<p>I happen to have this mNode configured with SF Demo VM, so I didn't see anything and I didn't expect it'd be sending anything. But a non-demo setup (eSDS or SolidFire or NetApp HCI) might dump traffic to Active IQ here.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/activeiq" class="page__taxonomy-item p-category" rel="tag">activeiq</a><span class="sep">, </span>
    
      <a href="/tags/aiq" class="page__taxonomy-item p-category" rel="tag">aiq</a><span class="sep">, </span>
    
      <a href="/tags/hcc" class="page__taxonomy-item p-category" rel="tag">hcc</a><span class="sep">, </span>
    
      <a href="/tags/hci" class="page__taxonomy-item p-category" rel="tag">hci</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/tags/solidfire" class="page__taxonomy-item p-category" rel="tag">solidfire</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-03-11T00:00:00+08:00">2022-03-11 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=Check+Active+IQ+connectivity+from+HCC+on+SolidFire+mNode%20https%3A%2F%2Fscaleoutsean.github.io%2F2022%2F03%2F11%2Fsolidfire-mnode-active-iq-connectivity.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2022/03/11/solidfire-mnode-active-iq-connectivity.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2022/03/10/s3-select-vs-remote-csv-over-fuse.html" class="pagination--pager" title="S3 Select vs. remote SQL access to CSV over FUSE">Previous</a>
    
    
      <a href="/2022/03/11/vmware-photon-iscsi-solidfire.html" class="pagination--pager" title="VMware Photon 4.0 with SolidFire 12 iSCSI Target">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/11/epa-4-beta.html" rel="permalink">E-Series Performance Analyzer (EPA) v4 beta
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-11T00:00:00+08:00">2025-08-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Introduction
  EPA 4
  EPA Collector-specific
  Details related to storage requirements
  What's next

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/11/bing-index-issue.html" rel="permalink">Got binged in July 2025
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-11T00:00:00+08:00">2025-08-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I don't track users (see Privacy page), don't have ads and don't care about "likes" or "followers", but generally I want my content to be in search engine in...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/07/30/solidfire-windows-admin-center-extension.html" rel="permalink">SolidFire Extension for Windows Admin Center 2025
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-07-30T00:00:00+08:00">2025-07-30 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          19 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Introduction
  Walk-through
  And now…
  Conclusion
  Appendix A: demo
    
      Animated GIF (no playback control)
      Video demo with voice-over
    ...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/07/26/solidfire-windows-admin-center-gateway.html" rel="permalink">SolidFire Gateway for Windows Admin Center 2025
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-07-26T00:00:00+08:00">2025-07-26 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
  Introduction
  What it is
  What it does
  IIS Setup
  Why this matters
  What about it?
  Conclusion

</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
