<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Apptainer with BeeGFS | Acting Technologist</title>
<meta name="description" content="Access BeeGFS from Apptainer container">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="Apptainer with BeeGFS">
<meta property="og:url" content="https://scaleoutsean.github.io/2022/08/08/apptainer-with-beegfs-mounts.html">


  <meta property="og:description" content="Access BeeGFS from Apptainer container">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="Apptainer with BeeGFS">
  <meta name="twitter:description" content="Access BeeGFS from Apptainer container">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2022/08/08/apptainer-with-beegfs-mounts.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2022-08-08T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2022/08/08/apptainer-with-beegfs-mounts.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->


<meta name="bingbot" content="noindex,noarchive,nofollow">


  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Apptainer with BeeGFS">
    <meta itemprop="description" content="Access BeeGFS from Apptainer container">
    <meta itemprop="datePublished" content="2022-08-08T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2022/08/08/apptainer-with-beegfs-mounts.html" itemprop="url">Apptainer with BeeGFS
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-08-08T00:00:00+08:00">2022-08-08 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Apptainer is <a href="https://apptainer.org/news/community-announcement-20211130/">based on the Singularity project</a>.</p>

<p>It has several advantages over Docker and Portman, but in this post I'll just write about the ease of use for users who use containers to interactively access shared files (in this case, files on BeeGFS).</p>

<p>Apptainer can be installed on hosts that have Docker and BeeGFS installed (no need to stand up a new VM with BeeGFS client) to check if we can access data on BeeGFS.</p>

<p>Create a directory on BeeGFS and make sure it's accessible to whoever needs to access it in terms of ownership or permissions.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir</span> /mnt/beegfs/apptainer
</code></pre></div></div>

<p>Start an Apptainer container with that directory mounted:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">APPTAINER_BIND</span><span class="o">=</span><span class="s2">"/mnt/beegfs/apptainer:/mnt"</span>

<span class="nv">$ </span>apptainer shell docker://alpine 
INFO:    Using cached SIF image

Apptainer&gt; <span class="nb">df
</span>Filesystem           1K-blocks      Used Available Use% Mounted on
tmpfs                    16384        12     16372   0% /
squashfuse               16384        12     16372   0% /etc/group
squashfuse           129125532  12353024 110170268  10% /etc/hosts
squashfuse               16384        12     16372   0% /etc/passwd
squashfuse               16384        12     16372   0% /etc/resolv.conf
squashfuse             3000304         0   3000304   0% /dev
squashfuse            10470400    184832  10285568   2% /mnt
squashfuse           129125532  12353024 110170268  10% /tmp
udev                   3000304         0   3000304   0% /dev
tmpfs                  3044440         0   3044440   0% /dev/shm
/dev/sda3            129125532  12353024 110170268  10% /etc/localtime
/dev/sda3            129125532  12353024 110170268  10% /etc/hosts
tmpfs                  3044440         0   3044440   0% /sys/fs/cgroup
/dev/sda3            129125532  12353024 110170268  10% /home/vagrant
/dev/sda3            129125532  12353024 110170268  10% /tmp
/dev/sda3            129125532  12353024 110170268  10% /var/tmp
tmpfs                    16384        12     16372   0% /etc/resolv.conf
tmpfs                    16384        12     16372   0% /etc/passwd
tmpfs                    16384        12     16372   0% /etc/group
beegfs_nodev          10470400    184832  10285568   2% /mnt
</code></pre></div></div>

<p>(/mnt is at the very bottom of the list)</p>

<p>Write and read a file to/from BeeGFS directory mounted at /mnt:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Apptainer&gt; ls /mnt/
Apptainer&gt; touch /mnt/from-container.txt
Apptainer&gt; echo "sean" &gt;&gt; /mnt/from-container.txt
Apptainer&gt; cat /mnt/from-container.txt
sean
Apptainer&gt; exit
</code></pre></div></div>

<p>Check the file from the host or any BeeGFS client that mounts the same filesystem:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ll /mnt/beegfs/apptainer/
total 2
drwxr-xr-x 2 sean sean 1 Aug  8 10:11 ./
drwxrwxrwx 7 root    root    5 Aug  8 10:05 ../
-rw-rw-r-- 1 sean sean 5 Aug  8 10:11 from-container.txt

$ cat /mnt/beegfs/apptainer/from-container.txt 
sean
</code></pre></div></div>

<p>If apptainer is started without <code class="language-plaintext highlighter-rouge">--no-home</code>, user's $HOME directory is made accessible without any extra steps.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Apptainer&gt; <span class="nb">ls</span> <span class="nt">-lat</span>
total 53376
<span class="nt">-rw-------</span>    1 sean  sean        212 Aug  8 10:12 .ash_history
drwxr-xr-x    3 sean  sean         60 Aug  8 10:11 ..
drwxr-xr-x   19 sean  sean       4096 Aug  8 10:10 <span class="nb">.</span>
drwx------    3 sean  sean       4096 Aug  8 09:29 .local
drwx------    3 sean  sean       4096 Aug  8 09:29 .apptainer
<span class="nt">-rw-------</span>    1 sean  sean     133867 Aug  8 08:57 .bash_history
<span class="nt">-rw-------</span>    1 sean  sean      23935 Aug  8 06:10 .viminfo
drwxrwxr-x   10 sean  sean       4096 Aug  8 06:08 njobs
drwxr-xr-x    2 sean  sean       4096 Aug  8 06:08 .vim
...
</code></pre></div></div>

<p>As you can see it's very easy to understand and convenient - more so than with Docker and Podman, I would say.</p>

<p>More on Apptainer mounts can be found in <a href="https://apptainer.org/docs/user/main/bind_paths_and_mounts.html">TFM</a>.</p>

<p>Some other advantages (copied from the project's Github page) that you may want to explore on your own:</p>

<ul>
  <li>An immutable single-file container image format, supporting cryptographic signatures and encryption</li>
  <li>Integration over isolation by default. Easily make use of GPUs, high speed networks, parallel filesystems on a cluster or server</li>
  <li>Mobility of compute. The single file SIF container format is easy to transport and share</li>
  <li>A simple, effective security model</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/apptainer" class="page__taxonomy-item p-category" rel="tag">apptainer</a><span class="sep">, </span>
    
      <a href="/tags/beegfs" class="page__taxonomy-item p-category" rel="tag">beegfs</a><span class="sep">, </span>
    
      <a href="/tags/e-series" class="page__taxonomy-item p-category" rel="tag">e-series</a><span class="sep">, </span>
    
      <a href="/tags/eseries" class="page__taxonomy-item p-category" rel="tag">eseries</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/containers" class="page__taxonomy-item p-category" rel="tag">containers</a><span class="sep">, </span>
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-08-08T00:00:00+08:00">2022-08-08 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=Apptainer+with+BeeGFS%20https%3A%2F%2Fscaleoutsean.github.io%2F2022%2F08%2F08%2Fapptainer-with-beegfs-mounts.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2022/08/08/apptainer-with-beegfs-mounts.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2022/08/04/solidfire-volume-to-node-and-min-guarantees-per-node.html" class="pagination--pager" title="Show per-node performance guarantees of SolidFire storage nodes">Previous</a>
    
    
      <a href="/2022/08/09/nomad-beegfs-minio-s3.html" class="pagination--pager" title="S3 service for BeeGFS using Hashicorp Nomad and MinIO gateway">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/31/epa-version-3-dot-5.html" rel="permalink">EPA version 3.5.0
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-31T00:00:00+08:00">2025-08-31 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.5.0
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/27/epa-version-3-dot-4-dot-1.html" rel="permalink">EPA version 3.4.1
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-27T00:00:00+08:00">2025-08-27 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.4.1
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/24/epa-version-3-dot-4.html" rel="permalink">EPA version 3.4.0
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-24T00:00:00+08:00">2025-08-24 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.4.0
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/20/econfig-v2-updates.html" rel="permalink">E-Config v2 updated for QLC drives
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-20T00:00:00+08:00">2025-08-20 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I got carried away while making overdue updates to E-Config and added a new feature
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
