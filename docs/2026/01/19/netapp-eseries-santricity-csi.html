<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>NetApp E-Series SANtricity CSI | Acting Technologist</title>
<meta name="description" content="Community SANtricity CSI driver for iSCSI and NVMe/RoCE">


  <meta name="author" content="Sean">
  
  <meta property="article:author" content="Sean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="NetApp E-Series SANtricity CSI">
<meta property="og:url" content="https://scaleoutsean.github.io/2026/01/19/netapp-eseries-santricity-csi.html">


  <meta property="og:description" content="Community SANtricity CSI driver for iSCSI and NVMe/RoCE">



  <meta property="og:image" content="https://scaleoutsean.github.io/assets/images/santricity-go-02-terraform-provider.png">



  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="NetApp E-Series SANtricity CSI">
  <meta name="twitter:description" content="Community SANtricity CSI driver for iSCSI and NVMe/RoCE">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2026/01/19/netapp-eseries-santricity-csi.html">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://scaleoutsean.github.io/assets/images/santricity-go-02-terraform-provider.png">
  

  



  <meta property="article:published_time" content="2026-01-19T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2026/01/19/netapp-eseries-santricity-csi.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="NetApp E-Series SANtricity CSI">
    <meta itemprop="description" content="Community CSI driver for NetApp E-Series arrays: what it is and what it does">
    <meta itemprop="datePublished" content="2026-01-19T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2026/01/19/netapp-eseries-santricity-csi.html" itemprop="url">NetApp E-Series SANtricity CSI
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-19T00:00:00+08:00">2026-01-19 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          12 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#introduction">Introduction</a></li><li><a href="#about-santricity-csi">About SANtricity CSI</a></li><li><a href="#features">Features</a><ul><li><a href="#ha-vs-non-ha-csi">HA vs. non-HA CSI</a></li></ul></li><li><a href="#hands-on-with-santricity-csi">Hands-on with SANtricity CSI</a></li><li><a href="#next-steps">Next steps</a></li><li><a href="#conclusion">Conclusion</a></li><li><a href="#appendix-a---update-jan-22-2026">Appendix A - Update (Jan 22, 2026)</a></li></ul>
            </nav>
          </aside>
        
        <h2 id="introduction">Introduction</h2>

<p>Having <a href="/2026/01/15/santricity-go-language-library-cli.html">built some building blocks</a> we can now have nice things, such as a proper CSI driver for E-Series.</p>

<p>If you're ignorant about E-Series and wonder whey someone would want a CSI driver for it, <a href="/2026/01/16/eseries-santricity-terraform-provider.html">you can read about Terraform SANtricity Provider here</a> - SANtricity CSI uses the same client library as SANtricity Provider. There's absolutely no doubt in my mind that many E-Series users want it.</p>

<p>Not to mention that, as NetApp also dropped support for OpenStack Cinder driver for E-Series before that, KubeVirt and similar approaches provide new alternatives to users of other OSS solutions.</p>

<h2 id="about-santricity-csi">About SANtricity CSI</h2>

<p>It's an opinionated, slim CSI provider for SANtricity 11.90+ storage systems with iSCSI and NVMe/RoCE host interfaces.</p>

<p>Why "opinionated"? Because I don't care about FC or targeting weak use cases. But, if you need that, the underlying SANtricity Go library is permissively licensed and you can use it to create your own or modify SANtricity CSI (also permissively licensed).</p>

<p>Why just these two protocols? Because they are the only ones that make sense. This (taken from the SANtricity Provider post) explains exactly what I'm after:</p>

<ul>
  <li>One or more hosts with exclusive access to volumes</li>
  <li>HA pairs with shared storage for "traditional" HA failover</li>
</ul>

<p><img src="/assets/images/santricity-go-02-terraform-provider.png" alt="Storage provisioning with SANtricity Provider" /></p>

<p>Unlike in the picture, we target only DDP pools (no traditional/classic RAID). Storage pools with classic RAID disk groups (usually incorrectly called "volume groups") can be used just fine, but are not recommended and I don't care about them at this time.</p>

<p>Imagine an EF600 with a single NVMe DDP pool. Configure SANtricity CSI with that pool ID and there's nothing else to do but monitor the thing (capacity, performance, events) and replace failed hardware components.</p>

<p><img src="/assets/images/santricity-csi-03-positioning-diagram.png" alt="Storage provisioning with SANtricity CSI" /></p>

<p>Note that there are <strong>other CSI drivers</strong> you can use with NetApp E-Series:</p>

<ul>
  <li>non-HA CSI drivers, where Kubernetes simply uses E-Series volumes as directly attached disks that do not failover to other hosts. That's more than good enough - and extremely simple - for many workloads (stand-alone, replicated, NoSQL, NuSQL, Ceph, etc.). You can see <a href="/2022/12/09/directpv-topolvm-csi-lvm-das-k8s-with-eseries.html">this post</a> and examples at the very bottom. These work with any storage protocol E-Series supports - as long as you can connect and mount, the rest is host-side stuff</li>
  <li>HA CSI for BeeGFS with NetApp E-Series - relies on "Building Blocks" (from NetApp) for HA of BeeGFS services, uses <a href="https://github.com/ThinkParQ/beegfs-csi-driver/">BeeGFS CSI</a></li>
</ul>

<p>You can even use all of these at the same time.</p>

<h2 id="features">Features</h2>

<p>SANtricity CSI isn't a features-focused CSI driver, but here's what it aims to be good at, and where it's not trying.</p>

<p>Good:</p>

<ul>
  <li>Direct API access - look ma, no SANtricity Web Services Proxy! Trident CSI required the separate Web Services Proxy software (running in a VM or container). I've promptly erradicated that thing (WSP) from every E-Series project I've forked (starting with E-Series Performance Analyzer, later also in the experimental SANtricty Python SDK for Python 3.0) and I do not support it in Trident CSI. No more "all egs in one basket". <em>¡Afuera!</em></li>
  <li>DDP focus and de-black-boxing: DDP-focused <code class="language-plaintext highlighter-rouge">poolId</code> configuration in the StorageClass makes the mapping explicit, removes ambiguity about which pool might get used when, simplifies capacity and Kubernetes management. It doesn't use "intelligent placement" and semi-randomly spray volumes around your pools</li>
  <li>Modern Protocol Logic:
    <ul>
      <li>NVMe-oF Support: PVCs can be presented to NVMe/RoCE hosts and host groups ("clusters")</li>
      <li>iSCSI support: continues iSCSI that Trident CSI supported</li>
      <li>No mixed node support; worker nodes should pick one. If you have 100G HICs on E-Series you probably won't want to use iSCSI, but if you absolutely had to, it'd have to be another cluster</li>
      <li>No FC or other protocol support. <em>¡Afuera!</em> I wouldn't mind iSER support, but that's unrealistic because I simply don't have any hardware to test it. iSER might work anyway (if you create hosts/host groups manually), but if someone has iSER boxes send your pull request (for <code class="language-plaintext highlighter-rouge">hosts</code> operations in SANtricity Go client library) and we'll see</li>
    </ul>
  </li>
  <li>Create, delete and resize: Trident CSI did not support resize as I recall, but NetApp wiped the old Trident documentation site on ReadTheDocs and I don't care enough to check in the source code</li>
  <li>Explicit support for RAID 1 volumes on DDP - excellent for popular E-Series workloads. Trident CSI did not support RAID 1</li>
  <li>PVC metadata injection in SANtricity volumes - PVC names extracted from Kubernetes metadata are injected as extraTags on the array, so you can map volume names to full PVC names and easily produce end-to-end mapping</li>
  <li>Slim and simple - less than 50MB, folks! No bloat and a smaller attack surface means relatively fewer bugs and CVEs. Easy to understand and debug</li>
  <li>Privacy - no anonymous statistics gathering or phone home</li>
  <li>More versatility compared to before - fewer hard requirements</li>
</ul>

<p>Bad:</p>

<ul>
  <li>0 support</li>
  <li>0 certifications</li>
  <li>0 install base (currently)</li>
  <li>Non-zero bugs</li>
  <li>No volume import feature which Trident CSI has (I don't recall if it ever supported E-Series) for time being</li>
  <li>No Operator - it can be built, and maybe will be, but why?</li>
</ul>

<p>My bet is many E-Series users who use Kubernetes don't care about the first two and maybe others either.</p>

<p>You can use LVM CSI (non-HA) today and get CSI support from your Kubernetes distribution (if it supports LVM CSI) or community. And you get protocol service and hardware support from NetApp, so there's nothing different from getting NetApp support for Ubuntu with iSCSI on E-Series here. You usually also don't get any "support" for LVM CSI driver either.</p>

<p>If you <strong>need</strong> an HA-capable CSI driver for E-Series with single-host filesystems, what then?</p>

<p>Well, you can't get it.</p>

<p>Or you can get it without support (this one here) just as you get single-host CSI drivers for generic block storage. You'll get better "0 support" from TopoLVM community than from me, but TopoLVM doesn't present PVs to multiple worker nodes.</p>

<p>If you can't (because of $$$) or won't (because you have Go and Kuberntes skills) buy another array just to use CSI with your workloads, you may as well try this CSI driver.</p>

<h3 id="ha-vs-non-ha-csi">HA vs. non-HA CSI</h3>

<p>I'm not sure if that's clear enough, so:</p>

<ul>
  <li>With (say) TopoLVM, you present vol01 to host01, vol02 to host02 and so on. Then you use TopoLVM to create PVCs on the hosts. That's good enough for many workloads (especially <a href="/2026/01/16/santricity-eseries-datalake-storage.html">analytics</a>) because your application has a replica or uses Erasure Coding (2+1, for example). If <code class="language-plaintext highlighter-rouge">host02</code> dies, you replace it with another, attach to the same volume (<code class="language-plaintext highlighter-rouge">vol02</code>) and recover data using application features or otherwise. With both one replica (RF2) or EC 2+1, you'd have no downtime</li>
  <li>With SANtricity CSI, you could create volumes (<code class="language-plaintext highlighter-rouge">vol01</code>, <code class="language-plaintext highlighter-rouge">vol02</code>, <code class="language-plaintext highlighter-rouge">vol03</code>) and present them to a cluster of hosts. Should <code class="language-plaintext highlighter-rouge">host02</code> fail, Kubernetes could reschedule the workload that was scheduled to <code class="language-plaintext highlighter-rouge">host02</code> and deploy it to <code class="language-plaintext highlighter-rouge">host04</code> or some other.</li>
</ul>

<p>So that's the main difference. SANtricity CSI should also work well for Active-Passive HA such as non-replicated PostgreSQL or MariaDB (although you could also use replication and provision "Master" using a <code class="language-plaintext highlighter-rouge">raid1</code> SC and a "Slave" on a <code class="language-plaintext highlighter-rouge">raid6</code> SC and so on).</p>

<h2 id="hands-on-with-santricity-csi">Hands-on with SANtricity CSI</h2>

<p>Watch out, because it hasn't been tested!</p>

<p>Wait, what?</p>

<p>That's true. I don't have a place to try it. It's written to work with the API (uses underlying SANtricity Go client library which does work in SANtricity Go CLI and Terraform SANtricity Provider), so it <em>should</em> work.</p>

<p>You need a DDP pool ID (although you can use any storage pool ID), and the usual (SANtricity management IP on port 8443, username and password for the user who can manipulate volumes, hosts, host groups and mappings).</p>

<p>Clone the <code class="language-plaintext highlighter-rouge">santricity-go</code> repository, enter <code class="language-plaintext highlighter-rouge">./csi/deploy</code> subdirectory, edit API access and pool ID details (create Kubernetes secret, there's a sample YAML file for that too), run <code class="language-plaintext highlighter-rouge">kubectl apply</code> on the YAML files. If you can't pull a SANtricity CSI image from GHCR, build your local copy (<code class="language-plaintext highlighter-rouge">docker build...</code>) and use it.</p>

<p><img src="/assets/images/santricity-csi-01-controller-node.png" alt="SANtricity CSI Controller and Node" /></p>

<p>CSI controller logs:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>/usr/bin/kubectl <span class="nt">--kubeconfig</span><span class="o">=</span>./kubeconfig logs <span class="nt">-n</span> kube-system santricity-csi-controller-5cc66c765-ddvpl
Defaulted container <span class="s2">"csi-driver"</span> out of: csi-driver, csi-provisioner, csi-attacher, csi-resizer
I0119 04:23:56.170095       1 driver.go:37] Driver: santricity.scaleoutsean.github.io Version: 0.1.1
I0119 04:23:56.170399       1 driver.go:79] Starting listener on /var/lib/csi/sockets/pluginproxy/csi.sock
I0119 04:23:56.170683       1 driver.go:101] Registering Controller Server
I0119 04:23:56.170754       1 driver.go:108] Registering Node Server
I0119 04:23:56.170787       1 driver.go:111] Serving GRPC
I0119 04:23:56.606544       1 driver.go:116] GRPC call: /csi.v1.Identity/Probe
I0119 04:23:56.607560       1 driver.go:116] GRPC call: /csi.v1.Identity/GetPluginInfo
I0119 04:23:56.608939       1 driver.go:116] GRPC call: /csi.v1.Identity/GetPluginCapabilities
I0119 04:23:56.610274       1 driver.go:116] GRPC call: /csi.v1.Controller/ControllerGetCapabilities
I0119 04:23:56.611139       1 driver.go:116] GRPC call: /csi.v1.Controller/ControllerGetCapabilities
I0119 04:23:56.949855       1 driver.go:116] GRPC call: /csi.v1.Identity/Probe
I0119 04:23:56.950735       1 driver.go:116] GRPC call: /csi.v1.Identity/GetPluginInfo
I0119 04:23:56.951595       1 driver.go:116] GRPC call: /csi.v1.Identity/GetPluginCapabilities
I0119 04:23:56.952564       1 driver.go:116] GRPC call: /csi.v1.Controller/ControllerGetCapabilities
I0119 04:23:57.161363       1 driver.go:116] GRPC call: /csi.v1.Identity/Probe
I0119 04:23:57.162510       1 driver.go:116] GRPC call: /csi.v1.Identity/GetPluginInfo
I0119 04:23:57.163576       1 driver.go:116] GRPC call: /csi.v1.Identity/GetPluginCapabilities
I0119 04:23:57.165291       1 driver.go:116] GRPC call: /csi.v1.Controller/ControllerGetCapabilities
</code></pre></div></div>

<p>CSI node logs:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>/usr/bin/kubectl <span class="nt">--kubeconfig</span><span class="o">=</span>./kubeconfig logs <span class="nt">-n</span> kube-system santricity-csi-node-9nc8k
Defaulted container <span class="s2">"csi-driver"</span> out of: csi-driver, csi-node-driver-registrar
I0119 04:24:09.638718       1 driver.go:37] Driver: santricity.scaleoutsean.github.io Version: 0.1.1
W0119 04:24:09.638782       1 driver.go:58] No valid SANtricity API URL provided. Controller operations will fail.
I0119 04:24:09.638793       1 driver.go:79] Starting listener on /csi/csi.sock
I0119 04:24:09.638945       1 driver.go:108] Registering Node Server
I0119 04:24:09.638956       1 driver.go:111] Serving GRPC
I0119 04:24:09.683293       1 driver.go:116] GRPC call: /csi.v1.Identity/GetPluginInfo
I0119 04:24:10.121258       1 driver.go:116] GRPC call: /csi.v1.Node/NodeGetInfo
</code></pre></div></div>

<p>As I've mentioned earlier, I don't have a place to test, so that warning is shown.</p>

<p>I can still create a PVC - just can't get a PV out of it.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>/usr/bin/kubectl <span class="nt">--kubeconfig</span><span class="o">=</span>./kubeconfig apply <span class="nt">-f</span> example/test-pod.yaml 
persistentvolumeclaim/basic-test-pvc created
pod/basic-test-pod created
</code></pre></div></div>

<p>Controller log:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>I0119 05:14:04.729121       1 driver.go:116] GRPC call: /csi.v1.Controller/CreateVolume
I0119 05:14:04.729754       1 controller.go:90] Volume name pvc-8d2425bb-ecef-45ac-bd1f-77a128af4f00 too long, shortened to pvc-8d2425bb-ecef-45a_435f3400
I0119 05:14:04.729849       1 controller.go:104] Creating volume pvc-8d2425bb-ecef-45a_435f3400 with size 1073741824
<span class="nb">time</span><span class="o">=</span><span class="s2">"2026-01-19T05:14:14Z"</span> <span class="nv">level</span><span class="o">=</span>warning <span class="nv">msg</span><span class="o">=</span><span class="s2">"Error communicating with controller https://10.10.10.10:8443/devmgr/v2: Get </span><span class="se">\"</span><span class="s2">https://https//10.10.10.10:8443/devmgr/v2:8443/devmgr/v2/storage-systems/storage-pools/0000000000000000000000000000000000000000</span><span class="se">\"</span><span class="s2">: context canceled"</span>
E0119 05:14:14.728969       1 driver.go:119] GRPC error: rpc error: code <span class="o">=</span> NotFound desc <span class="o">=</span> Specified poolID 0000000000000000000000000000000000000000 not found: could not get storage pool: Get <span class="s2">"https://https//10.10.10.10:8443/devmgr/v2:8443/devmgr/v2/storage-systems/storage-pools/0000000000000000000000000000000000000000"</span>: context canceled
I0119 05:14:15.730782       1 driver.go:116] GRPC call: /csi.v1.Controller/CreateVolume
I0119 05:14:15.730890       1 controller.go:90] Volume name pvc-8d2425bb-ecef-45ac-bd1f-77a128af4f00 too long, shortened to pvc-8d2425bb-ecef-45a_435f3400
I0119 05:14:15.731044       1 controller.go:104] Creating volume pvc-8d2425bb-ecef-45a_435f3400 with size 1073741824
</code></pre></div></div>

<p>This looks fine to me.</p>

<p>For most users, given one DDP pool per backend, storage classes would be one or two:</p>

<p><img src="/assets/images/santricity-csi-02-storage-classes.png" alt="SANtricity CSI storage classes" /></p>

<p>But with arrays like EF600, for example, you could have several backends (such as one NVMe DDP and another NL-SAS DDP) identified by their respective DDP IDs, and one or two storage classes per each.</p>

<p>Then - given the lack of support for multi-protocol within a single backend - you'd either need to group cluster nodes by protocol or have two Kubernetes clusters (one with iSCSI, one with NVMe/RoCE SANtricity backend).</p>

<h2 id="next-steps">Next steps</h2>

<p>I don't have unlimited time, so I'm not going to plan on adding a bunch of features or integrations. Here's what I'd like to do if I could, though.</p>

<p>Features-wise, some things on my wish-list:</p>

<ul>
  <li>Snapshots. Trident CSI didn't support them, but SANtricity CSI might. Snapshot support has to be added to the Go library and it's a bit tricky. The other day I started <a href="/2026/01/14/e-series-santricity-clones-consistency-group-clones.html">looking into this again</a> (warning: risk of migraine!).</li>
  <li>Clones. Same same, but different! SANtricity's clones are actually "Snapshot Volumes" and there are two ways to do that; the simpler one is to use Snapshot Volumes, the complicated one is to copy Snapshot Volume to a "real" volume. See the link just above. One could also say the first way to clone is from a snapshot, while the other is a volume copy. I believe CSI relies on the first approach (snapshot-to-clone), but I haven't started looking into that yet - still trying to figure out to do this in the API first…</li>
</ul>

<p>Integrations-wise:</p>

<ul>
  <li>Volume metadata and monitoring: you or I could update <a href="https://github.com/scaleoutsean/eseries-perf-analyzer">EPA</a> and/or <a href="https://github.com/scaleoutsean/eseries-santricity-collector">ESC</a> to extract volume metadata KVs and easily find and watch Kubernetes volumes. Then you get proper statistics (PVC volume count, etc.), capacity and performance monitoring for SANtricity CSI volumes</li>
  <li>Hashicorp Nomad CSI - hopefully just a matter of giving SANtricity CSI a try. Why bother with Kubernetes if you don't really need it? I like <a href="/2022/04/05/nomad-beegfs-eseries.html">Nomad</a> better than Kubernetes (if that's not obvious)</li>
</ul>

<p>Here's an example of a volume metadata key in volume JSON:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fstype"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xfs"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pv_name"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pvc-185bb457-d426-4645-9122-f5e80b286c0c"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pvc_name"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"basic-test-pvc"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pvc_namespace"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<p>It gives us enough to present a static volume (should we need to recover from CSI failure), back it up (after making a <a href="/2026/01/14/e-series-santricity-clones-consistency-group-clones.html">clone</a>) from a non-Kubernetes client, or use this for charge-back or show-back.</p>

<h2 id="conclusion">Conclusion</h2>

<p>SANtricity CSI re-enables E-Series users' access to HA CSI services for single host filesystems. This isn't an "official" driver, but I believe many users won't care.</p>

<p>It has most of the essential features E-Series had with Trident CSI. While some (various "certifications", that are also "features") are missing, some are vastly better because Trident CSI never had them for E-Series (RAID 1, volume resize, NVMe/RoCE support, SANtricity volume metadata).</p>

<p>I believe this driver is much better beucase it was <em>created with E-Series in mind</em> and should work better for workloads and use cases E-Series is best known for.</p>

<p>SANtricity CSI is <em>simple</em>, it performs no "black box" magic. Anyone can understand it, improve it and fix bugs whether it's in the Go client library or CSI driver.</p>

<p>Most improvements to the CSI driver need to first happen in the Go client library first, so even if I remain the only SANtricity CSI user, the Go client library will be used by many (or at least "enough" to be viable). Why? Because there's nothing out there. Unless you are happy running Ansible playbooks, you may want a native client (such as this SANtricity Go library) that can create volumes in seconds without any bloat. <em>Some</em> admins will use it.</p>

<p>Source code for SANtricity Go library and CSI can be found in my <code class="language-plaintext highlighter-rouge">santricity-go</code> repository.</p>

<h2 id="appendix-a---update-jan-22-2026">Appendix A - Update (Jan 22, 2026)</h2>

<p>CSI driver actually did not work - there were several bugs! But CSI Controller can now create PVs.</p>

<p><img src="/assets/images/santricity-csi-04-csi-controller-result.png" alt="SANtricity CSI controller" /></p>

<p>Some issues visible in the screenshot:</p>

<ul>
  <li>CSI Controller created a new host name (although the host was already registered as <code class="language-plaintext highlighter-rouge">Ubuntu_2204</code>). That bug was fixed. Now hosts are matched on IQN (or NQN).</li>
  <li>PVC size was 1 Gi, but SANtricity allocated 2.5 Gi. The PVC says it's 1GiB. In LUN properties, SANtricity says actual size is 1 Gi, while Allocated is 2.5 Gi. I will try with 4 Gi later.</li>
  <li>The last step is Node-side rescan, login and mount which is a TODO item.</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/api" class="page__taxonomy-item p-category" rel="tag">api</a><span class="sep">, </span>
    
      <a href="/tags/automation" class="page__taxonomy-item p-category" rel="tag">automation</a><span class="sep">, </span>
    
      <a href="/tags/csi" class="page__taxonomy-item p-category" rel="tag">csi</a><span class="sep">, </span>
    
      <a href="/tags/e-series" class="page__taxonomy-item p-category" rel="tag">e-series</a><span class="sep">, </span>
    
      <a href="/tags/go" class="page__taxonomy-item p-category" rel="tag">go</a><span class="sep">, </span>
    
      <a href="/tags/golang" class="page__taxonomy-item p-category" rel="tag">golang</a><span class="sep">, </span>
    
      <a href="/tags/kubernetes" class="page__taxonomy-item p-category" rel="tag">kubernetes</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/tags/nomad" class="page__taxonomy-item p-category" rel="tag">nomad</a><span class="sep">, </span>
    
      <a href="/tags/santricity" class="page__taxonomy-item p-category" rel="tag">santricity</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/kubernetes" class="page__taxonomy-item p-category" rel="tag">kubernetes</a><span class="sep">, </span>
    
      <a href="/categories/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2026-01-19T00:00:00+08:00">2026-01-19 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=NetApp+E-Series+SANtricity+CSI%20https%3A%2F%2Fscaleoutsean.github.io%2F2026%2F01%2F19%2Fnetapp-eseries-santricity-csi.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2026/01/19/netapp-eseries-santricity-csi.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2026/01/16/santricity-eseries-datalake-storage.html" class="pagination--pager" title="Big Data &amp; analytics patterns for NetApp object &amp; block">Previous</a>
    
    
      <a href="/2026/01/20/kubernetes-netapp-eseries-santricity-csi.html" class="pagination--pager" title="Kubernetes with NetApp E-Series SANtricity">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/26/santricity-glances-plugin.html" rel="permalink">Glances plugin for SANtricity in DAS environments
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-26T00:00:00+08:00">2026-01-26 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/25/eseries-santricity-ps-snapshots-clones.html" rel="permalink">santricity-powershell adds single volume snapshots and clones
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-25T00:00:00+08:00">2026-01-25 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Automate creation of single-volume snapshots and clones with PowerShell (Linux, Windows, OS X)
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/21/eseries-performance-analyzer-v353.html" rel="permalink">NetApp E-Series Performance Analyzer v3.5.3
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-21T00:00:00+08:00">2026-01-21 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">About new Prometheus metrics and PiT volume performance
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/20/kubernetes-netapp-eseries-santricity-csi.html" rel="permalink">Kubernetes with NetApp E-Series SANtricity
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-20T00:00:00+08:00">2026-01-20 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">CSI drivers you can use with NetApp E-Series arrays
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2026 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
