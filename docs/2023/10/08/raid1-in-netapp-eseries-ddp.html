<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Benefits of RAID 1 in E-Series DDP | Acting Technologist</title>
<meta name="description" content="Get performance and management improvements with RAID 1 on DDP">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="Benefits of RAID 1 in E-Series DDP">
<meta property="og:url" content="https://scaleoutsean.github.io/2023/10/08/raid1-in-netapp-eseries-ddp.html">


  <meta property="og:description" content="Get performance and management improvements with RAID 1 on DDP">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="Benefits of RAID 1 in E-Series DDP">
  <meta name="twitter:description" content="Get performance and management improvements with RAID 1 on DDP">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2023/10/08/raid1-in-netapp-eseries-ddp.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2023-10-08T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2023/10/08/raid1-in-netapp-eseries-ddp.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->


<meta name="bingbot" content="noindex,noarchive,nofollow">


  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Benefits of RAID 1 in E-Series DDP">
    <meta itemprop="description" content="Get performance and management improvements with RAID 1 on DDP">
    <meta itemprop="datePublished" content="2023-10-08T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2023/10/08/raid1-in-netapp-eseries-ddp.html" itemprop="url">Benefits of RAID 1 in E-Series DDP
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-10-08T00:00:00+08:00">2023-10-08 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <ul>
  <li><a href="#what-is-this-about-again">What is this about again?</a></li>
  <li><a href="#why-is-raid-1-on-ddp-a-good-idea">Why is RAID 1 on DDP a good idea?</a></li>
  <li><a href="#is-r1-on-ddp-really-faster">Is R1 on DDP really faster?</a></li>
  <li><a href="#which-workloads-can-benefit-from-mixed-raid-1-and-raid-6-volumes-in-ddp">Which workloads can benefit from mixed RAID 1 and RAID 6 volumes in DDP</a></li>
  <li><a href="#data-loss-protection-vs-classic-raid-1-vg">Data loss protection vs. classic RAID 1 VG</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<h2 id="what-is-this-about-again">What is this about again?</h2>

<p>Even now, few people know E-Series DDP can accommodate RAID 1 volumes. One of the reasons is it still can't be crated in the Web UI (as of SANtricity 11.80).</p>

<p>I wrote about it <a href="/2022/09/12/new-ddp-and-e-series-santricity-web-restful-api.html">here</a>, so check that long post if you're interested in details.</p>

<p>"Traditional" storage arrays and RAID controllers use disk groups (or volume groups, or RAID groups).</p>

<p>E-Series and EF-Series are no different - disks are used to create one or more volume groups (RAID 0 or 1 or 5 or 6) and one or more volumes are created on top of each. In addition, E-Series also has DDP (see that post for more) which is generally used to host RAID 6-style volumes.</p>

<p>But if we use the API we can create RAID 1 volumes as well.</p>

<p>This post adds some details about performance of R1 on DDP, as that's something I didn't have time to evaluate when I wrote that earlier post.</p>

<p><strong>Note</strong>: R1 and R10 will be used semi-interchangeably. The smallest "classical" RAID 1 VG would consist of 2 disks, whereas a VG with 4 or 8 would be "RAID 10" because data would be striped across mirrored R1 pairs. Data in RAID 1-style volumes in DDP with 11 or more disks is not striped across mirrored pairs; it's striped and mirrored across a different set of 10 randomly selected disks every time a write occurs.</p>

<h2 id="why-is-raid-1-on-ddp-a-good-idea">Why is RAID 1 on DDP a good idea?</h2>

<p>It's not <em>always</em> a good idea, but it's a great feature to have.</p>

<p>Before, when we needed RAID 1-like performance we'd either have to give up on DDP and create at least two volume groups (say, two RAID 1 and another RAID 5 or 6 - shown in the top image, without a hot spare for the R1 VGs).</p>

<p><img src="/assets/images/eseries-r1-ddp-mixed-r1-r2-volumes.png" alt="" /></p>

<p>Or we'd give up on that complexity, eliminate RAID 1 and and use RAID 5 or RAID 6 or R6-style DDP for all volumes.</p>

<p>Now (the bottom image) you can get 11+ disks, create a DDP and in this pool create RAID 1 and RAID 6 volumes.</p>

<p>You don't get physical disk segregation between R1 and R6 disks that you'd have with distinct Volume Groups, but R1 and R6 maintain their relative performance:</p>

<ul>
  <li>R6 stripes are spread each over 10 random disks in the pool (8 data + 2 parity)</li>
  <li>R1 stripes are spread the same way, but in a RAID 10-like fashion (5 + 5)</li>
</ul>

<p>We get R10-level performance without having to have 3 extra disks (and also potentially 3 disks less in DDP) which is the minimum required for one RAID 1 VG + 1 Hot Spare. In DDP, there are no hot spares: reconstruction capacity is usually set to 2 disks worth of capacity, and shared among all DDP volumes.</p>

<p>With DDP we also don't have to grow R10 volumes by adding 2 physical disks at a time.</p>

<p>With DDP, both R1 and R6-like volumes can be extended in volumes in GiB increments. If you add 3.84TB of capacity, that capacity is shared among all DDP volumes.</p>

<h2 id="is-r1-on-ddp-really-faster">Is R1 on DDP really faster?</h2>

<p>We should expect it is, and that seems to be the case with both sequential and random IO.</p>

<p>This chart is by no means scientific and representative of real life, but I think it is indicative enough.</p>

<p>My multipathing setup in this environment is not optimal, so any one (or all) of these tests could be slower than it should be. But in all tests R1 consistently outperformed R6, which is why I believe this is indicative.</p>

<p><img src="/assets/images/eseries-r1-ddp-4k-write-performance.png" alt="EF-570 R1 vs R6 on DDP" /></p>

<ul>
  <li>E-Series EF-570 (all-flash SAS) with SANtricity v11.80
    <ul>
      <li>DDP with 16 disks (2 disks of reserve capacity)</li>
    </ul>
  </li>
  <li>R1 and R6 volumes in DDP</li>
  <li>Ubuntu 22.04 LTS iSER client</li>
  <li>Workload: 8 jobs, QD 8, block size 4kB, 80/20 read-write (Note: <em>only</em> the write portion of the benchmark is shown above)</li>
</ul>

<p>What's R0_2D0P? It's a RAID 0 made of two SSD disks. I threw it in there to get another reference point. (I've never heard of anyone who uses RAID 0 on E-Series, but I'd almost certainly use for <em>something</em>).</p>

<p>I observed 1.5x to 2x faster performance with RAID 1 vs RAID 6 on DDP. And the latency was better as well (blue bars).</p>

<p>That's very encouraging and meets expectations. I'd also like to evaluate application performance, but since the system doesn't seem 100% properly configured, I'll leave that for later.</p>

<h2 id="which-workloads-can-benefit-from-mixed-raid-1-and-raid-6-volumes-in-ddp">Which workloads can benefit from mixed RAID 1 and RAID 6 volumes in DDP</h2>

<p>All workloads that benefit from RAID 6 (or 5) and RAID 10.</p>

<p>Example 1: traditional RDBMS. Transaction log on R1, data on R6. Ideally we'd want data on R5 but that's a small compromise compared to compromising on R1 (which as you can see in that chart above often gets us not only a ~50% jump in performance, but also a ~50% drop in latency).</p>

<p>Example 2: NoSQL/NuSQL. Elasticsearch, Splunk, Kafka, MongoDB, various new vector databases, etc.</p>

<p>Example 3: different workloads that use E-Series. If we size and manage correctly, we can just create one big DDP pool and offer R1 and R6 on top of it.</p>

<h2 id="data-loss-protection-vs-classic-raid-1-vg">Data loss protection vs. classic RAID 1 VG</h2>

<p>RAID 1 Volume Groups can lose 1 disk without losing data. Sometimes more than 1, but you need to rely on luck for that.</p>

<p>A RAID 1 volume on DDP can also survive the loss of only 1 disk at the same time, but - unlike the traditional R1 VG - DDP can recover and hours later our R1 volume can survive another disk loss (assuming DDP reserve is set to 2 or higher, which it usually is).</p>

<p>So, while "R1 on DDP" doesn't automatically make R1 volumes resistant to multiple disk failures, it increases its chances over weekends, holidays and in general, with much less reliance on luck. For example, data lost on a 3.84 TB disk that was 70% full (~2 TB) can be reconstructed in low single digit hours.</p>

<p>I should mention the case of modern replicated databases: let's say we have a database that creates three copies of data. In this case six disks in three R1 Volume Groups can lose 3 disks at the same time without losing data. In this case the resilience of "classic" VG beats R1 on DDP, but you also need 6 (or 12 or 24, for more capacity) disks to make that happen. If we wanted to minimize data loss risk, we'd use the approach similar to the upper image above and provision a RAID 1 pair to each instance.</p>

<p>This example shows that R1 on DDP isn't always more suitable or faster or "better", but in many cases it can be.</p>

<h2 id="conclusion">Conclusion</h2>

<p>R1 on DDP isn't widely known, but it's a very useful feature.</p>

<p>As long as total performance doesn't exceed the maximum performance of the array, the benefits of higher performance and lower latency can be significant and worth the overhead.</p>

<p>Because R10 has a greater capacity overhead (R6 - 25%, R10 - 100%), if you use R10 and R6 in DDP you need to carefully monitor DDP capacity utilization - especially so if you also use snapshots and clones.</p>

<p>Check the longer DDP post for more details, links to documentation and API examples.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/ddp" class="page__taxonomy-item p-category" rel="tag">ddp</a><span class="sep">, </span>
    
      <a href="/tags/e-series" class="page__taxonomy-item p-category" rel="tag">e-series</a><span class="sep">, </span>
    
      <a href="/tags/ef-series" class="page__taxonomy-item p-category" rel="tag">ef-series</a><span class="sep">, </span>
    
      <a href="/tags/eseries" class="page__taxonomy-item p-category" rel="tag">eseries</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/tags/r1" class="page__taxonomy-item p-category" rel="tag">r1</a><span class="sep">, </span>
    
      <a href="/tags/r10" class="page__taxonomy-item p-category" rel="tag">r10</a><span class="sep">, </span>
    
      <a href="/tags/raid1" class="page__taxonomy-item p-category" rel="tag">raid1</a><span class="sep">, </span>
    
      <a href="/tags/raid6" class="page__taxonomy-item p-category" rel="tag">raid6</a><span class="sep">, </span>
    
      <a href="/tags/volume-group" class="page__taxonomy-item p-category" rel="tag">volume group</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2023-10-08T00:00:00+08:00">2023-10-08 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=Benefits+of+RAID+1+in+E-Series+DDP%20https%3A%2F%2Fscaleoutsean.github.io%2F2023%2F10%2F08%2Fraid1-in-netapp-eseries-ddp.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2023/10/08/raid1-in-netapp-eseries-ddp.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2023/10/05/snapshots-and-consistency-groups-with-netapp-e-series.html" class="pagination--pager" title="Stand-alone and Consistency Group snapshots on NetApp E-Series">Previous</a>
    
    
      <a href="/2023/10/12/snapshot-clone-repository-monitoring-in-eseries.html" class="pagination--pager" title="Monitor snapshot and clone repositories of NetApp E-Series SANtricity OS">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/27/epa-version-3-dot-4-dot-1.html" rel="permalink">EPA version 3.4.1
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-27T00:00:00+08:00">2025-08-27 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.4.1
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/24/epa-version-3-dot-4.html" rel="permalink">EPA version 3.4.0
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-24T00:00:00+08:00">2025-08-24 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">What's new in EPA v3.4.0
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/20/econfig-v2-updates.html" rel="permalink">E-Config v2 updated for QLC drives
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-20T00:00:00+08:00">2025-08-20 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I got carried away while making overdue updates to E-Config and added a new feature
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/08/11/epa-4-beta.html" rel="permalink">E-Series Performance Analyzer (EPA) v4 beta
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-08-11T00:00:00+08:00">2025-08-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">E-Series Performance Analyzer 4
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
