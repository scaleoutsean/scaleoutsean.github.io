<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>E-Series Perf Analyzer (EPA) v3.3.0 | Acting Technologist</title>
<meta name="description" content="What's new in EPA v3.3.0">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="E-Series Perf Analyzer (EPA) v3.3.0">
<meta property="og:url" content="https://scaleoutsean.github.io/2023/11/04/eseries-perf-analyzer-epa-330.html">


  <meta property="og:description" content="What's new in EPA v3.3.0">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="E-Series Perf Analyzer (EPA) v3.3.0">
  <meta name="twitter:description" content="What's new in EPA v3.3.0">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2023/11/04/eseries-perf-analyzer-epa-330.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2023-11-04T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2023/11/04/eseries-perf-analyzer-epa-330.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="E-Series Perf Analyzer (EPA) v3.3.0">
    <meta itemprop="description" content="What's new in EPA v3.3.0">
    <meta itemprop="datePublished" content="2023-11-04T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2023/11/04/eseries-perf-analyzer-epa-330.html" itemprop="url">E-Series Perf Analyzer (EPA) v3.3.0
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-11-04T00:00:00+08:00">2023-11-04 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#power">Power</a></li>
  <li><a href="#temperature">Temperature</a></li>
  <li><a href="#what-does-v330-do-for-expansion-shelves">What does V3.3.0 do for expansion shelves?</a></li>
  <li><a href="#whats-next-for-epa">What's next for EPA?</a>
    <ul>
      <li><a href="#database">Database</a></li>
      <li><a href="#grafana">Grafana</a></li>
      <li><a href="#other-wish-list-items">Other wish-list items</a></li>
    </ul>
  </li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>My fork of E-Series Perf Analyzer (EPA) may soon see another release, v3.3.0. The changes are already in <code class="language-plaintext highlighter-rouge">master</code> branch, but I need to do some testing before I release.</p>

<p>What's new?</p>

<p>Really just two things. The collector now collects:</p>

<ul>
  <li>Total power consumption of the controller shelf</li>
  <li>Environmental sensors' readings in the controller shelf</li>
</ul>

<h2 id="power">Power</h2>

<p>E/EF Series (usually) have two working PSUs.</p>

<p>I didn't see a point in gathering each individually, so I just add them up into one.</p>

<p>On today's entry-level (E2800, EF300) arrays you may see something like 130W per PSU.</p>

<p>On EF570, I usually see 410W. You may be interested in what happens whenâ€¦ I don't know. I did't look except this one case:</p>

<ul>
  <li>100% read workload at 1.1 GB/s</li>
  <li>Total PSU wattage goes up 5W</li>
</ul>

<p><img src="/assets/images/epa-330-01-power-psu-reading-example.png" alt="Power consumption grows with workload" /></p>

<p>Other interesting details:</p>

<ul>
  <li>Performance metrics seem to lag behind PSU metrics</li>
  <li>Performance was way lower than 1 GB/s</li>
</ul>

<p>Both of these statements are false. Performance metrics don't lag, but <em>average</em> metrics do.</p>

<p>SANtricity OS has point-in-time metrics but I'm sure they vary wildly, so any point-in-time reading is probably highly inaccurate and requires averaging.</p>

<p>Like most storage arrays, E-Series averages recent metrics on the array and that's what we gather in EPA as well - the so called "analyzed" volume metrics.</p>

<p>So, what happens here is it takes some time for "analyzed" volume performance to start reflecting recent performance.</p>

<p>Secondly, if a performance burst lasts less than the averaging interval (say, my test runs 3 minutes and performance is averaged over 5), only 40% of my throughput may be reflected in the reading.</p>

<p>To precisely capture bursty workloads we'd have to sample every second or 5 seconds, which would be very hard for hundreds of disks and volumes. So we don't.</p>

<p>So, sustained/stable workloads are reflected in performance metrics, and bursty workloads not fully. But bursty may also be absorbed by cache, whether on the client or array, and we don't necessarily need to worry about them.</p>

<p>For PSU readings, one interesting part is they come from "hardware side of the house" and I assume they are near real-time.</p>

<h2 id="temperature">Temperature</h2>

<p>That's another interesting one.</p>

<p>I avoid using any "insider" info to gather and interpret metrics because as Open Source project EPA is not supposed to require non-transparent interpretation of what something might mean.</p>

<p>The API call to a dual controller EF570 array returns 6 values. I don't know if this applies to all arrays or not. I also don't know if sensors are named the same.</p>

<p>To keep things simple I only asked in public (NetApp Community) how to interpret them and was told they represent CPU temperature, inlet temperature, and overall temperature "goodness" (where 128 is OK, anything else isn't).</p>

<p>All right, so we can draw the first two (four curves for two controllers) in one chart, and the last two can be mapped to "Good or Crap" (on the right).</p>

<p><img src="/assets/images/epa-330-02-environmental-temp-sensor-reading-example.png" alt="Six sensors" /></p>

<p>Like PSU readings, these aren't particularly useful in terms of performance monitoring, but if equipment is both busy or insufficiently cooled we can use this to notify us when workloads must be stopped or some equipment shut down.</p>

<h2 id="what-does-v330-do-for-expansion-shelves">What does V3.3.0 do for expansion shelves?</h2>

<p>Nothing.</p>

<p>I don't know what the API returns for those. I assume PSU readings are still there, but can't count on the response being identical.</p>

<p>I also don't know if expansion shelves have the same number of sensors or not, and what each might mean.</p>

<p>So for now I'm not even trying to do something about expansion shelves.</p>

<p>Maybe, if I get a chance to access E-Series with expansion shelves or someone submits a pull request to add that, it can be added in a future version.</p>

<h2 id="whats-next-for-epa">What's next for EPA?</h2>

<p>I've no firm plans at this time, but I've been thinking about the following categories.</p>

<h3 id="database">Database</h3>

<p>As some of you know InfluxDB v1 is kind of old, but it's widely used and still maintained (although updates have slowed down).</p>

<p>I've been toying with the idea to update to InfluxDB v2 just so that I use the more actively maintained version. But it'd gain me nothing.</p>

<p>Another idea was to change to Elasticsearch 8, so that there's one place for logs and performance metrics. But I'd have to redo all dashboards, maybe in Kibana. Also too much trouble.</p>

<p>Then in September came the big news from Influx Data: InfluxDB v3 OSS will be compatible with InfluxDB v1, and it will be released in 2024. Perfect!</p>

<p>That may still require some work in Grafana, but it could potentially even allow in-place upgrades so that users can keep their historic data.</p>

<h3 id="grafana">Grafana</h3>

<p>Grafana 8 OSS is old and the last security update was 12 months ago, in <a href="https://grafana.com/grafana/download/8.5.15?edition=oss">November 2022</a>.</p>

<p>EPA doesn't <em>depend</em> on Grafana and even latest Grafana 10 works with InfluxDB v1, but EPA's ready-made dashboards were created for Grafana 8, so users who don't use stand-alone EPA need to continue using Grafana 8.</p>

<p>I don't want to be in dashboarding business, so I'm not going to try to update Grafana deployment scripts in EPA to use Grafana 9 or 10.</p>

<p>Users could give it a try - deploy Grafana 8, then upgrade container to version 9 or 10 and see if dashboards work fine or not. Or, those who are good at Grafana could just fix or recreate the dashboards.</p>

<p>In 2024 InfluxDB v3 OSS will come out and then we'll see if Grafana 10 works well with it. If it does, then I may look into refreshing and fixing the dashboards, as well as creating a simpler installer that no longer uses Ansible.</p>

<h3 id="other-wish-list-items">Other wish-list items</h3>

<p>As far as performance is concerned, EPA already collects everything I care about.</p>

<p>I'm interested in manageability metrics - something along the lines of what I already built <a href="/2023/10/29/consistency-group-monitoring-in-eseries.html#consistency-group-sensor-for-prtg">here</a> - but EPA has been focused on performance so I won't rush adding these "manageability" metrics unless I encounter a real-life user who can benefit from them.</p>

<p>I still think manageability is better served by gathering logs and events in one place and Splunk or Elasticsearch are better solutions for that. And, by the way, <a href="https://splunkbase.splunk.com/app/1932">NetApp SANtricity Performance App for Splunk Enterprise</a> is dated but with small updates solves the problem for Splunk Enterprise users. The one thing this does and EPA doesn't is capacity-related metrics.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/e-series" class="page__taxonomy-item p-category" rel="tag">e-series</a><span class="sep">, </span>
    
      <a href="/tags/e-series-perf-analyzer" class="page__taxonomy-item p-category" rel="tag">e-series perf analyzer</a><span class="sep">, </span>
    
      <a href="/tags/ef-series" class="page__taxonomy-item p-category" rel="tag">ef-series</a><span class="sep">, </span>
    
      <a href="/tags/epa" class="page__taxonomy-item p-category" rel="tag">epa</a><span class="sep">, </span>
    
      <a href="/tags/eseries" class="page__taxonomy-item p-category" rel="tag">eseries</a><span class="sep">, </span>
    
      <a href="/tags/grafana" class="page__taxonomy-item p-category" rel="tag">grafana</a><span class="sep">, </span>
    
      <a href="/tags/influxdb" class="page__taxonomy-item p-category" rel="tag">influxdb</a><span class="sep">, </span>
    
      <a href="/tags/monitoring" class="page__taxonomy-item p-category" rel="tag">monitoring</a><span class="sep">, </span>
    
      <a href="/tags/observability" class="page__taxonomy-item p-category" rel="tag">observability</a><span class="sep">, </span>
    
      <a href="/tags/psu" class="page__taxonomy-item p-category" rel="tag">psu</a><span class="sep">, </span>
    
      <a href="/tags/sensors" class="page__taxonomy-item p-category" rel="tag">sensors</a><span class="sep">, </span>
    
      <a href="/tags/temperature" class="page__taxonomy-item p-category" rel="tag">temperature</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2023-11-04T00:00:00+08:00">2023-11-04 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=E-Series+Perf+Analyzer+%28EPA%29+v3.3.0%20https%3A%2F%2Fscaleoutsean.github.io%2F2023%2F11%2F04%2Feseries-perf-analyzer-epa-330.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2023/11/04/eseries-perf-analyzer-epa-330.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2023/10/29/consistency-group-monitoring-in-eseries.html" class="pagination--pager" title="Monitor Snapshot Consistency Groups of NetApp E-Series SANtricity OS">Previous</a>
    
    
      <a href="/2023/11/06/netapp-eseries-sizing-for-splunk-smartstore.html" class="pagination--pager" title="NetApp E-Series sizing for Splunk 9 with SmartStore">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/09/13/mcp-for-netapp-eseries.html" rel="permalink">MCP Server for NetApp E-Series arrays
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-09-13T00:00:00+08:00">2025-09-13 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Use case for MCP server for NetApp E-Series arrays
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/09/12/beegfs-nfs-s3-for-dev-test-edu-edge.html" rel="permalink">Containerized BeeGFS with NFSv4 and S3
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-09-12T00:00:00+08:00">2025-09-12 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Revisiting that old idea for All-in-One BeeGFS stack
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/09/08/solidfire-wac-gateway-client-powershell.html" rel="permalink">SolidFire WAC Gateway Client (PowerShell)
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-09-08T00:00:00+08:00">2025-09-08 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">About that thing that should have been done in 2016
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/09/04/sfc-solidfire-collector-v2-dot-1-dot-0.html" rel="permalink">SolidFire Collector v2.1.0
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-09-04T00:00:00+08:00">2025-09-04 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Stack complete and tagged
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
