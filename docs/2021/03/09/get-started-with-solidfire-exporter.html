<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            Get started with solidfire-exporter | Acting Technologist
      
    </title>
    <meta name="description" content="
     SolidFire metrics for Kubernetes and other clusters
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Get started with solidfire-exporter | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Get started with solidfire-exporter" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SolidFire metrics for Kubernetes and other clusters" />
<meta property="og:description" content="SolidFire metrics for Kubernetes and other clusters" />
<link rel="canonical" href="https://scaleoutsean.github.io/2021/03/09/get-started-with-solidfire-exporter.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2021/03/09/get-started-with-solidfire-exporter.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-09T00:00:00+08:00" />
<script type="application/ld+json">
{"headline":"Get started with solidfire-exporter","dateModified":"2021-03-09T00:00:00+08:00","datePublished":"2021-03-09T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2021/03/09/get-started-with-solidfire-exporter.html"},"author":{"@type":"Person","name":"scaleoutSean"},"@type":"BlogPosting","url":"https://scaleoutsean.github.io/2021/03/09/get-started-with-solidfire-exporter.html","description":"SolidFire metrics for Kubernetes and other clusters","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">Get started with solidfire-exporter</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>09 Mar 2021</span> - <i class="far fa-clock"></i> 


  
  
    2 minute read
  

    </span>
  </div>
  
        <p><strong>NOTICE</strong>: any and all credentials and tokens on this page are samples, not leaked.</p>

<p>In yesterday’s <a href="https://scaleoutsean.github.io/2021/03/08/hcicollector-v0.7.html">post</a> about HCICollector v0.7 I mentioned <a href="https://github.com/mjavier2k/solidfire-exporter">solidfire-exporter</a>.</p>

<p>Here’s how to get started with it without Kubernetes and Docker in under 2 minutes.</p>

<p>You can read the project’s README file to the same effect, but in coming weeks I’ll expand this post to cover more than just how to get started so I’ll start with the basics and update the post later.</p>

<h2 id="get-started">Get started</h2>

<p>Assuming you’ll run both Prometheus and <code class="language-plaintext highlighter-rouge">solidfire-exporter</code> on your client, you can use 127.0.0.1 for both apps (i.e. listen address of solidfire-exporter and Web UI of Prometheus). My SolidFire management IP is 192.168.1.30 and I have version 12.2 (you may set this to 11.0 if on v11).</p>

<ul>
  <li>config.yaml for solidfire-exporter:</li>
</ul>

<pre><code class="language-raw">listen:
  address: 127.0.0.1:9987
client:
  endpoint: https://192.168.1.30/json-rpc/12.2
  username: admin
  password: admin
  insecure: true
  timeout: 30
</code></pre>

<p>Download, decompress (if you downloaded the compressed binary) and run <code class="language-plaintext highlighter-rouge">solidfire-exporter</code> on your client. I built mine from source (I’m happy to report that it appears to works fine on AMD64 as well as ARM64).</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># chmod 700 solidfire-exporter</span>
./solidfire-exporter <span class="nt">-c</span><span class="o">=</span>config.yaml
</code></pre></div></div>

<p>Open another terminal session for Prometheus.</p>

<p>Download and decompress Prometheus, <code class="language-plaintext highlighter-rouge">cd</code> to decompressed directory and either replace the pre-created prometheus.yml or create a new one (in its place or elsewhere, just remember to tell Prometheus where it is):</p>

<pre><code class="language-raw"># my global config
global:
  scrape_interval:     60s # Set the scrape interval to every 15 seconds. Default is every 1 minute.
  evaluation_interval: 60s # Evaluate rules every 15 seconds. The default is every 1 minute.

# Alertmanager configuration
alerting:
  alertmanagers:
  - static_configs:
    - targets:
      # - alertmanager:9093

# A scrape configuration containing exactly one endpoint to scrape:
# Here it's Prometheus itself.
scrape_configs:
  # The job name is added as a label `job=&lt;job_name&gt;` to any timeseries scraped from this config.
  - job_name: 'prometheus'

    # metrics_path defaults to '/metrics'
    # scheme defaults to 'http'.

    static_configs:
    - targets: ['localhost:9090','127.0.0.1:9987']
</code></pre>

<p>Note that I have two targets, one (9090) is Prometheus itself, the second one (127.0.0.1:9987) is my solidfire-exporter running on the same system.</p>

<p>Note that I set scrape and evaluation interval to 60 seconds. It doesn’t make much sense to fetch SolidFire metrics every 10 seconds. You can, of course.</p>

<p>Start Prometheus by telling it where your config file is and where to listen (use 0.0.0.0:9090 for all interfaces). I didn’t change directory so my prometheus file is outside of the decompressed Prometheus tree.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># chmod 700 /prometheus-2.25.0.linux-arm64/prometheus</span>
./prometheus-2.25.0.linux-arm64/prometheus <span class="nt">--config</span>.file<span class="o">=</span><span class="s2">"prometheus.yml"</span> <span class="nt">--web</span>.listen-address<span class="o">=</span><span class="s2">"127.0.0.1:9090"</span>
</code></pre></div></div>

<p>Start up your browser and go to http://127.0.0.1:9090. JFGI for the rest.</p>


      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#projects">projects</a>
      &nbsp; 
    
      <a href="
      /categories/#solidfire">solidfire</a>
       
    
  </span>
</div>
    

    
      <div class="related" data-pagefind-ignore>

    <h4>Possibly related - use live search at the top to find other content</h4>
    
    
    
    
    
    
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
          <div class = "related-posts">
          <h5><a href="/2024/02/11/add-solidfire-storage-from-kvm.html">• Add NetApp SolidFire iSCSI storage to KVM</a></h5>
          </div>
          
          
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
          <div class = "related-posts">
          <h5><a href="/2023/12/12/solidfire-unmap-hyper-v.html">• UNMAP/TRIM Hyper-V volumes backed by NetApp SolidFire</a></h5>
          </div>
          
          
        
    
      
    
        
        
    
        
    
        
          <div class = "related-posts">
          <h5><a href="/2023/12/10/solidfire-backup-to-minio-compression.html">• NetApp SolidFire backup to S3 and MinIO compression savings</a></h5>
          </div>
          
          
        
    
      
    
        
        
    
        
    
        
          <div class = "related-posts">
          <h5><a href="/2023/12/07/solidfire-rbac-for-json-rpc-api.html">• RBAC and delegation for SolidFire JSON-RPC API with Lua</a></h5>
          </div>
          
          
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
    
      
    
        
        
    
        
    
        
          <div class = "related-posts">
          <h5><a href="/2023/11/22/genai-with-netapp-solidfire.html">• NetApp SolidFire with GenAI and inferencing workloads</a></h5>
          </div>
          
          
            
    
    </div>

    

    
  </div><footer class= "footer">
    <p>2024-03-23 18:01 </p>
    <p>Copyright © 2024 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
