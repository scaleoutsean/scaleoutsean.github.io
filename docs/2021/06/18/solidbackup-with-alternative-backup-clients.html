<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>SolidBackup with alternative backup clients | Acting Technologist</title>
<meta name="description" content="How to modify SolidBackup to use another backup client">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="SolidBackup with alternative backup clients">
<meta property="og:url" content="https://scaleoutsean.github.io/2021/06/18/solidbackup-with-alternative-backup-clients.html">


  <meta property="og:description" content="How to modify SolidBackup to use another backup client">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="SolidBackup with alternative backup clients">
  <meta name="twitter:description" content="How to modify SolidBackup to use another backup client">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2021/06/18/solidbackup-with-alternative-backup-clients.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2021-06-18T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2021/06/18/solidbackup-with-alternative-backup-clients.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="SolidBackup with alternative backup clients">
    <meta itemprop="description" content="How to modify SolidBackup to use another backup client">
    <meta itemprop="datePublished" content="2021-06-18T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2021/06/18/solidbackup-with-alternative-backup-clients.html" itemprop="url">SolidBackup with alternative backup clients
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-06-18T00:00:00+08:00">2021-06-18 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>As I mentioned in one of previous posts on the topic of SolidBackup, we first use SolidSync to sync SolidFire Source volume(s) to Clone volume(s), and then SolidBackup generates scripts to run backup off those Clone volume(s). The first example I shared uses Restic, but it can be anything you fancy. How?</p>

<p>Given two volume pairs, (Src/Dst 398/401 and 399/402) and assuming volume (image) backup, we just need to adjust the SolidBackup function that generates backup commands.</p>

<p>In order to use Minio client I replaced <code class="language-plaintext highlighter-rouge">restic backup</code> with <code class="language-plaintext highlighter-rouge">minio pipe</code> in SolidBackup-generated backup script. Minio object tags can be set in <code class="language-plaintext highlighter-rouge">minio pipe</code> or separately with <code class="language-plaintext highlighter-rouge">mc tag</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="nb">sudo dd </span><span class="k">if</span><span class="o">=</span>/dev/disk/by-path/ip-192.168.103.30:3260-iscsi-iqn.2010-01.com.solidfire:mn4y.solidbackup-sb01.401-lun-0 <span class="se">\</span>
  <span class="nv">bs</span><span class="o">=</span>256kB <span class="nv">status</span><span class="o">=</span>none | <span class="nb">gzip</span> | mc pipe s3/s3backup/mn4y.solidbackup-sb01.401.gz<span class="p">;</span> <span class="se">\</span>
  mc tag <span class="nb">set </span>s3/s3backup/mn4y.solidbackup-sb01.401.gz <span class="s2">"src=398&amp;tgt=401"</span>
<span class="c"># or</span>
<span class="nb">sudo dd </span><span class="k">if</span><span class="o">=</span>/dev/disk/by-path/ip-192.168.103.30:3260-iscsi-iqn.2010-01.com.solidfire:mn4y.solidbackup-sb02.402-lun-0 <span class="se">\</span>
  <span class="nv">bs</span><span class="o">=</span>256kB <span class="nv">status</span><span class="o">=</span>none | <span class="nb">gzip</span> | mc pipe <span class="nt">--tags</span> <span class="s2">"src=399&amp;tgt=402"</span> s3/s3backup/mn4y.solidbackup-sb02.402.gz
</code></pre></div></div>

<p><img src="/assets/images/solidbackup-with-minio-client-01.png" alt="SolidBackup with MinIO client" /></p>

<p>The S3 bucket was populated with two compressed volume image files. Most of the time taken was to read the entire volume (2 GiB) - approximately 3 minutes (the curve in the screenshot above) because I use SolidFire Demo VM.</p>

<p>The actual contents (about 50 MB per volume/image) took seconds to compress and seconds to upload from my home lab to a GCP-based VM with S3 service.</p>

<p><img src="/assets/images/solidbackup-with-minio-client-02.png" alt="SolidBackup with MinIO client" /></p>

<p>The first time I tried my backed up objects were 30 MiB each, but subsequently 48 MiB each. Strangely, <code class="language-plaintext highlighter-rouge">mc</code> reported different sizes from one run to another and this was observed with both StorageGRID and Minio S3 object stores. Minio server-side figures from the UI weren't consistent with what <code class="language-plaintext highlighter-rouge">mc</code> client was showing. That's likely related to how object overwrite works (it takes an hour or two for eventual consistency to kick in and utilization to look like expected) but in any case, if the sum of backup jobs is 10 TB you may always need to have 10 TB free to be able to handle overwrites if temporary quota overruns aren't allowed.</p>

<p>Just like with SolidBackup and Restic, you can do file backup (not just image backup) and your S3 target doesn't have to be Minio. Here is the same thing with a StorageGRID cluster running version 11.5.</p>

<p><img src="/assets/images/solidbackup-with-minio-client-03.png" alt="SolidBackup with Minio client and StorageGRID 11.5" /></p>

<p>The bottom line is we need to edit just one function (<code class="language-plaintext highlighter-rouge">NewSbBackupCommand</code>) to make SolidBackup work with a backup client of your choice.</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/backup" class="page__taxonomy-item p-category" rel="tag">backup</a><span class="sep">, </span>
    
      <a href="/tags/data-protection" class="page__taxonomy-item p-category" rel="tag">data protection</a><span class="sep">, </span>
    
      <a href="/tags/duplicacy" class="page__taxonomy-item p-category" rel="tag">duplicacy</a><span class="sep">, </span>
    
      <a href="/tags/duplicati" class="page__taxonomy-item p-category" rel="tag">duplicati</a><span class="sep">, </span>
    
      <a href="/tags/kopia" class="page__taxonomy-item p-category" rel="tag">kopia</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/tags/rclone" class="page__taxonomy-item p-category" rel="tag">rclone</a><span class="sep">, </span>
    
      <a href="/tags/restic" class="page__taxonomy-item p-category" rel="tag">restic</a><span class="sep">, </span>
    
      <a href="/tags/s3" class="page__taxonomy-item p-category" rel="tag">s3</a><span class="sep">, </span>
    
      <a href="/tags/solidfire" class="page__taxonomy-item p-category" rel="tag">solidfire</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/automation" class="page__taxonomy-item p-category" rel="tag">automation</a><span class="sep">, </span>
    
      <a href="/categories/projects" class="page__taxonomy-item p-category" rel="tag">projects</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2021-06-18T00:00:00+08:00">2021-06-18 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=SolidBackup+with+alternative+backup+clients%20https%3A%2F%2Fscaleoutsean.github.io%2F2021%2F06%2F18%2Fsolidbackup-with-alternative-backup-clients.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2021/06/18/solidbackup-with-alternative-backup-clients.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2021/06/08/solidfire-networks-used-for-storage-replication.html" class="pagination--pager" title="Role of SolidFire networks in SolidFire storage replication">Previous</a>
    
    
      <a href="/2021/06/22/solidfire-backup-and-cloning-with-per-storage-node-queues.html" class="pagination--pager" title="Maximum parallelization of SolidFire Backup and Volume Copy/Clone jobs">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/15/santricity-go-language-library-cli.html" rel="permalink">E-Series SANtricity Go client for Day 1+ operations
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-15T00:00:00+08:00">2026-01-15 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Permissive OSS client Go library and CLI for E-Series SANtricity storage systems
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/14/e-series-santricity-clones-consistency-group-clones.html" rel="permalink">NetApp E-Series single volume and consistency group clones
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-14T00:00:00+08:00">2026-01-14 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          12 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">How to copy a volume into another, directly, from a snapshot, or from consistency group snapshot and more
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/14/e-series-disk-group-vg-raid-level-change.html" rel="permalink">Change disk group's RAID level on NetApp E-Series
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-14T00:00:00+08:00">2026-01-14 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">How to change a disk group's RAID protection schema on NetApp E-Series SANtricity arrays
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/11/windows-hyper-v-netapp-eseries-santricity.html" rel="permalink">Windows Server 2025 and Hyper-V with NetApp E-Series
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-11T00:00:00+08:00">2026-01-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Notes on Windows Server 2025 and E-Series SANtricity arrays in iSCSI and NVMe/RoCEv2 environments
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
