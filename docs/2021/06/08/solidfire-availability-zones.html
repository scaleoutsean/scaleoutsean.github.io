<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Does SolidFire support Availability Zones | Acting Technologist</title>
<meta name="description" content="Difference between SolidFire Protection Domains and Availablity Zones">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="Does SolidFire support Availability Zones">
<meta property="og:url" content="https://scaleoutsean.github.io/2021/06/08/solidfire-availability-zones.html">


  <meta property="og:description" content="Difference between SolidFire Protection Domains and Availablity Zones">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="Does SolidFire support Availability Zones">
  <meta name="twitter:description" content="Difference between SolidFire Protection Domains and Availablity Zones">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2021/06/08/solidfire-availability-zones.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2021-06-08T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2021/06/08/solidfire-availability-zones.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Does SolidFire support Availability Zones">
    <meta itemprop="description" content="Difference between SolidFire Protection Domains and Availability Zones">
    <meta itemprop="datePublished" content="2021-06-08T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2021/06/08/solidfire-availability-zones.html" itemprop="url">Does SolidFire support Availability Zones
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2021-06-08T00:00:00+08:00">2021-06-08 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2 id="solidfire-double-helix">SolidFire Double Helix</h2>

<p>As most of you know, up to the current version (12.3) SolidFire protects its data with Helix, which aims to make and maintain 2 replicas of each block. Some vendors call this approach RF2 (some implementations may maintain copies of segments or "chunks" of blocks).</p>

<p>When making copies, one of key requirement is to <em>not</em> store both copies on the same storage node because - in the case that node fails - you end up with nothing.</p>

<p>SolidFire Protection Domains introduce awareness in node locality within the cluster, so that Helix can also consider Protection Domain, and not just Node ID, when it creates redundant copies of data.</p>

<p>This means that you can tag all storage nodes in one NetApp HCI 2U Chassis as "PD1", all nodes in another chassis as PD2, and all the remaining nodes in the third chassis as PD3.</p>

<p>Now when Double Helix saves two copies of your data, it avoids using the same storage node as it's always done, but it also avoids using the same chassis or PD.</p>

<h2 id="are-pds-only-available-to-owners-of-the-hci-2u-chassis">Are PDs only available to owners of the HCI 2U chassis</h2>

<p>PDs don't have to correspond to HCI 2U chassis, it's just that with those it's fully automated because SolidFire detects chassis ID and if you have 3 and properly balance your storage nodes (e.g. put two equally sized nodes in each), your job is done and you can take advantage of the Protection Domain feature without doing anything else. You don't sacrifice any functionality and there's no added cost.</p>

<p>As you can imagine, you are expected to keep the capacity and storage node count balanced if you want PDs to work. You can't have one PD 90% full, have another one fail at the same time and still expect that your storage service will remain up and running. It won't.</p>

<p>But your cluster would still survive single node failures as it did before.</p>

<p>SolidFire users with H600 Series storage nodes can inform SolidFire about the PD layout (example: nodes 1-3 in Rack 1, nodes 4-6 Rack 2, nodes 7-9 Rack 3) and have Double Helix take PD configuration into account when deciding on the placement of Helix data copies.</p>

<h2 id="protection-domains-vs-availability-zones">Protection Domains vs. Availability Zones</h2>

<p>It's not quite the same. All SolidFire nodes in a PD must be connected with L2 network, both the management and iSCSI networks.</p>

<p>Naturally, iSCSI clients' storage network must also be the same L2 network used by SolidFire storage.</p>

<p><img src="/assets/images/solidfire-protection-domains-and-availability-zones.png" alt="SolidFire Protection Domains" /></p>

<p>As you can immediately see, the client's iSCSI connections connect to SolidFire nodes from any AZ (any SolidFire PD). That is random and it means on average 2/3 of connections will go to different PDs.</p>

<p>SolidFire schedules its volume placement based on its own criteria (number of connections, volume capacity &amp; performance utilization, storage node capacity &amp; performance specifications, and more), so with just a few volumes it is possible that some compute AZs would not connect to the local SolidFire Protection Domain:</p>

<p><img src="/assets/images/solidfire-protection-domain-connection-example.png" alt="iSCSI connections in SolidFire Protection Domains" /></p>

<h2 id="what-does-it-mean-for-my-vmware-kvm-kubernetes">What does it mean for my VMware, KVM, Kubernetesâ€¦</h2>

<p>iSCSI clients need no awareness of the SolidFire cluster layout. They just need to be able to reach all storage nodes in the cluster.</p>

<p>On the one hand users with nodes in different buildings get cross-AZ traffic from client traffic traversing PDs, but on the other in private cloud the cost of cross-PD traversal is insignificant. Not because there isn't a lot of traffic, but because those pipes must be fast and thick and in that situation "savings" from local-only reads are insignificant.</p>

<p>Because SolidFire volume scheduler does not consider PDs (only "data service" does) when scheduling individual volumes, NetApp Trident also needs no special settings for SolidFire with Protection Domains: it works the same as without them.</p>

<h2 id="does-this-use-storage-replication">Does this use storage replication</h2>

<p>Maybe this is clear to everyone who's made this this far, but no - there's no storage replication here, it's just a different take on RF2 in a single SolidFire storage cluster.</p>

<p>There are "block replicas" in the cluster because SolidFire uses RF2 (makes two copies of every stored block on different nodes because SolidFire does not use RAID), but that's just a way to protect data within a storage cluster.</p>

<p>Any Protection Domain-enabled SolidFire cluster still supports storage replication (synchronous and asynchronous) to another SolidFire or (async-only) ONTAP (SnapMirror) cluster, but that wasn't discussed. We could have a large SolidFire cluster with three PDs on Site A that replicates some volumes to a smaller SolidFire cluster in Site B.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/az" class="page__taxonomy-item p-category" rel="tag">az</a><span class="sep">, </span>
    
      <a href="/tags/failure-domain" class="page__taxonomy-item p-category" rel="tag">failure domain</a><span class="sep">, </span>
    
      <a href="/tags/ha" class="page__taxonomy-item p-category" rel="tag">ha</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/tags/pd" class="page__taxonomy-item p-category" rel="tag">pd</a><span class="sep">, </span>
    
      <a href="/tags/protection-domain" class="page__taxonomy-item p-category" rel="tag">protection domain</a><span class="sep">, </span>
    
      <a href="/tags/solidfire" class="page__taxonomy-item p-category" rel="tag">solidfire</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/solidfire" class="page__taxonomy-item p-category" rel="tag">solidfire</a><span class="sep">, </span>
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2021-06-08T00:00:00+08:00">2021-06-08 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=Does+SolidFire+support+Availability+Zones%20https%3A%2F%2Fscaleoutsean.github.io%2F2021%2F06%2F08%2Fsolidfire-availability-zones.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2021/06/08/solidfire-availability-zones.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2021/05/25/external-access-to-netapp-trident-solidfire-metrics.html" class="pagination--pager" title="Get Trident's SolidFire metrics from outside Kubernetes">Previous</a>
    
    
      <a href="/2021/06/08/solidfire-networks-used-for-storage-replication.html" class="pagination--pager" title="Role of SolidFire networks in SolidFire storage replication">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/12/22/kinetica-with-netapp-eseries.html" rel="permalink">Kinetica with NetApp E-Series
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-12-22T00:00:00+08:00">2025-12-22 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Why put Kinetic disk and persist tier on EF storage arrays
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/12/17/eseries-santricity-resource-provisioned-vols-groups-pools.html" rel="permalink">Resource Provisioning on E-Series SANtricity
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-12-17T00:00:00+08:00">2025-12-17 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">About resource provsioned volumes and groups/pools
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/12/05/eseries-santricity-lockout.html" rel="permalink">E-Series SANtricity Web UI lockout
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-12-05T00:00:00+08:00">2025-12-05 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">How to use (or not) lockout feature in E-Series SANtricity
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/10/15/mcp-tapout.html" rel="permalink">TAPOUT - MCP server for ONTAP to E-Series migration
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-10-15T00:00:00+08:00">2025-10-15 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Migrate to NetApp E-Series arrays with MCP
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
