<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            SolidFire Extension for Windows Admin Center 2025 | Acting Technologist
      
    </title>
    <meta name="description" content="
     SolidFire behind ASP-NET app server
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>SolidFire Extension for Windows Admin Center 2025 | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="SolidFire Extension for Windows Admin Center 2025" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SolidFire behind ASP-NET app server" />
<meta property="og:description" content="SolidFire behind ASP-NET app server" />
<link rel="canonical" href="https://scaleoutsean.github.io/2025/07/30/solidfire-windows-admin-center-extension.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2025/07/30/solidfire-windows-admin-center-extension.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:image" content="https://scaleoutsean.github.io/assets/images/dumb-and-dumber-extra-pair-of-gloves.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-07-30T00:00:00+08:00" />
<script type="application/ld+json">
{"image":"https://scaleoutsean.github.io/assets/images/dumb-and-dumber-extra-pair-of-gloves.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2025/07/30/solidfire-windows-admin-center-extension.html"},"author":{"@type":"Person","name":"scaleoutSean"},"description":"SolidFire behind ASP-NET app server","@type":"BlogPosting","url":"https://scaleoutsean.github.io/2025/07/30/solidfire-windows-admin-center-extension.html","headline":"SolidFire Extension for Windows Admin Center 2025","dateModified":"2025-07-30T00:00:00+08:00","datePublished":"2025-07-30T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">SolidFire Extension for Windows Admin Center 2025</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>30 Jul 2025</span> - <i class="far fa-clock"></i> 


  
  
    21 minute read
  

    </span>
  </div>
  
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#walk-through">Walk-through</a></li>
  <li><a href="#and-now">And now…</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
  <li><a href="#appendix-a-demo">Appendix A: demo</a>
    <ul>
      <li><a href="#animated-gif-no-playback-control">Animated GIF (no playback control)</a></li>
      <li><a href="#video-demo-with-voice-over">Video demo with voice-over</a></li>
    </ul>
  </li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>Continuing our “Dumb &amp; Dumber in Tech” series, I’m pleased to report that I can add another episode following that <a href="/2025/07/26/solidfire-windows-admin-center-gateway.html">SolidFire WAC Gateway</a> post.</p>

<p>I’ve kept cracking and have something to share.</p>

<p>As a reminder, the previous post was about the gateway thing at (1), whereas this one is more about (2) and (3) in this diagram.</p>

<p><img src="/assets/images/solidfire-wac-api-gateway.png" alt="SolidFire WAC API Gateway" /></p>

<h2 id="walk-through">Walk-through</h2>

<p>I am not sure what’s better - video or screenshots - so I’ll do it all: images, animated images (that appear like a video) and a video.</p>

<p>You saw the Windows Admin Center gateway thing in the other post. In this environment it’s running:</p>
<ul>
  <li>On IIS server (Windows Server 2025)</li>
  <li>On port HTTPS 5000 (right-hand side in the screenshot)</li>
  <li>It is configured for Windows authentication only, which is the key point (it’s “hidden” in Authentication settings, but you can see it in the animated GIF or video demo shared at the bottom)</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-01-iis-wac-gateway.png" alt="SolidFire WAC Gateway" /></p>

<p>The API gateway application:</p>

<p><img src="/assets/images/solidfire-wac-extension-02-iis-wac-gateway-asp-dot-net-app.png" alt="SolidFire WAC Gateway" /></p>

<p>With that we get:</p>
<ul>
  <li>Windows authentication to easily solve what had to be done years ago (RBAC/ABAC). See the previous post (on WAC Gateway) for more</li>
  <li>An improved SolidFire API (or you could say “additional custom” API methods as the original ones remain available to users with direct access to the SolidFire MVIP) because I can now fix and improve API. Also should have been done almost 10 years ago</li>
  <li>The proper API audit logs (that, too, should have been done years ago). SolidFire-bound JSON-RPC requests are logged (thin and thick version).</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-03-iis-wac-gateway-logging-auditing.png" alt="IIS and WAC Gateway Logs" /></p>

<p>Thin log:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"ListGroupSnapshots"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{</span><span class="nl">"volumes"</span><span class="p">:[</span><span class="mi">165</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span><span class="mi">211</span><span class="p">,</span><span class="mi">213</span><span class="p">]},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterInfo"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterStats"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterCapacity"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterInfo"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterStats"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"ListVolumesForAccount"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{</span><span class="nl">"accountID"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nl">"includeVirtualVolumes"</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"ListVolumesForAccount"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{</span><span class="nl">"accountID"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nl">"includeVirtualVolumes"</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Thick log:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"result"</span><span class="p">:{</span><span class="nl">"snapshots"</span><span class="p">:[{</span><span class="nl">"attributes"</span><span class="p">:{</span><span class="nl">"hyper-v"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">},</span><span class="nl">"checksum"</span><span class="p">:</span><span class="s2">"0x0"</span><span class="p">,</span><span class="nl">"createTime"</span><span class="p">:</span><span class="s2">"2025-07-28T13:51:34Z"</span><span class="p">,</span><span class="nl">"enableRemoteReplication"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"expirationReason"</span><span class="p">:</span><span class="s2">"None"</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="s2">"2025-07-30T07:52:34Z"</span><span class="p">,</span><span class="nl">"groupID"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"groupSnapshotUUID"</span><span class="p">:</span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="nl">"instanceCreateTime"</span><span class="p">:</span><span class="s2">"2025-07-28T13:51:34Z"</span><span class="p">,</span><span class="nl">"instanceSnapshotUUID"</span><span class="p">:</span><span class="s2">"d2b1de80-47bb-4a5d-8a73-9df5797043bc"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"2025-07-28T13:51:34Z"</span><span class="p">,</span><span class="nl">"snapMirrorLabel"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"snapshotID"</span><span class="p">:</span><span class="mi">2538</span><span class="p">,</span><span class="nl">"snapshotUUID"</span><span class="p">:</span><span class="s2">"d2b1de80-47bb-4a5d-8a73-9df5797043bc"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"done"</span><span class="p">,</span><span class="nl">"totalSize"</span><span class="p">:</span><span class="mi">1073741824</span><span class="p">,</span><span class="nl">"virtualVolumeID"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">,</span><span class="nl">"volumeName"</span><span class="p">:</span><span class="s2">"test-vol-DR-20250728204338"</span><span class="p">},{</span><span class="nl">"attributes"</span><span class="p">:{</span><span class="nl">"hyperv"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">},</span><span class="nl">"checksum"</span><span class="p">:</span><span class="s2">"0x0"</span><span class="p">,</span><span class="nl">"createTime"</span><span class="p">:</span><span class="s2">"2025-07-28T14:08:20Z"</span><span class="p">,</span><span class="nl">"enableRemoteReplication"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"expirationReason"</span><span class="p">:</span><span class="s2">"None"</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="s2">"2025-07-30T14:08:20Z"</span><span class="p">,</span><span class="nl">"groupID"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"groupSnapshotUUID"</span><span class="p">:</span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="nl">"instanceCreateTime"</span><span class="p">:</span><span class="s2">"2025-07-28T14:08:20Z"</span><span class="p">,</span><span class="nl">"instanceSnapshotUUID"</span><span class="p">:</span><span class="s2">"dd17ed12-1977-4ee8-b838-927593e6ceb6"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"2025-07-28T14:08:20Z"</span><span class="p">,</span><span class="nl">"snapMirrorLabel"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"snapshotID"</span><span class="p">:</span><span class="mi">2543</span><span class="p">,</span><span class="nl">"snapshotUUID"</span><span class="p">:</span><span class="s2">"dd17ed12-1977-4ee8-b838-927593e6ceb6"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"done"</span><span class="p">,</span><span class="nl">"totalSize"</span><span class="p">:</span><span class="mi">1073741824</span><span class="p">,</span><span class="nl">"virtualVolumeID"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">,</span><span class="nl">"volumeName"</span><span class="p">:</span><span class="s2">"test-vol-DR-20250728204338"</span><span class="p">},{</span><span class="nl">"attributes"</span><span class="p">:{</span><span class="nl">"hyperv"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">},</span><span class="nl">"checksum"</span><span class="p">:</span><span class="s2">"0x0"</span><span class="p">,</span><span class="nl">"createTime"</span><span class="p">:</span><span class="s2">"2025-07-28T14:09:10Z"</span><span class="p">,</span><span class="nl">"enableRemoteReplication"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"expirationReason"</span><span class="p">:</span><span class="s2">"None"</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="s2">"2025-07-30T14:09:10Z"</span><span class="p">,</span><span class="nl">"groupID"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"groupSnapshotUUID"</span><span class="p">:</span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="nl">"instanceCreateTime"</span><span class="p">:</span><span class="s2">"2025-07-28T14:09:10Z"</span><span class="p">,</span><span class="nl">"instanceSnapshotUUID"</span><span class="p">:</span><span class="s2">"2c4f6c6a-ae09-4e96-9e4a-a5388b673652"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"2025-07-28T14:09:10Z"</span><span class="p">,</span><span class="nl">"snapMirrorLabel"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"snapshotID"</span><span class="p">:</span><span class="mi">2544</span><span class="p">,</span><span class="nl">"snapshotUUID"</span><span class="p">:</span><span class="s2">"2c4f6c6a-ae09-4e96-9e4a-a5388b673652"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"done"</span><span class="p">,</span><span class="nl">"totalSize"</span><span class="p">:</span><span class="mi">1073741824</span><span class="p">,</span><span class="nl">"virtualVolumeID"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">,</span><span class="nl">"volumeName"</span><span class="p">:</span><span class="s2">"test-vol-DR-20250728204338"</span><span class="p">}]}}</span><span class="w">
</span></code></pre></div></div>

<p>Before, there was no good way to do it. <a href="/2021/10/18/solidfire-syslog-filebeat-logstash-elk-stack.html#log-forwarding-with-syslog-ng">This</a> was probably as good as it gets…. I don’t know what would have been the next best thing if I didn’t write that post.</p>

<p>My setup isn’t how you’d necessarily run it in your environment, but I’ll share it here for anyone who wants to try:</p>
<ul>
  <li>HTTPS reverse proxy on front-end - <code class="language-plaintext highlighter-rouge">https://win25:7000/</code>
    <ul>
      <li>Anything with <code class="language-plaintext highlighter-rouge">/ui</code> goes to a Web server with SolidFire Extension UI (no auth required) which you’ll see shortly</li>
      <li>The rest (API calls to SolidFir API gateway) goes to my SolidFire WAC Gateway on IIS at <code class="language-plaintext highlighter-rouge">https://win25:5000</code> (auth from IIS/Windows <em>and</em> <strong>authz</strong> from our WAC API Gateway)
        <ul>
          <li>SolidFire API Gateway passes native API requests to SolidFire cluster(s), e.g. the cluster <code class="language-plaintext highlighter-rouge">DR</code> has its MVIP at<code class="language-plaintext highlighter-rouge">https://192.168.1.34/json-rpc/12.5</code> ()</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-04-dev-setup.png" alt="Reverse proxy" /></p>

<p>The WAC gateway is <code class="language-plaintext highlighter-rouge">upstream</code> from secure Web proxy, at win25:5000, as you can see above.</p>

<p>The other upstream we have is win25:4200 which is the SolidFire WAC Extension i.e. Angular Web app running on NodeJS (standard development environment for Windows Admin Center).</p>

<p><img src="/assets/images/solidfire-wac-extension-05-wac-extension-angular.png" alt="WAC Extension inAngular" /></p>

<p>We have two preferred routes to SolidFire WAC Gateway (if we don’t limit access on IIS or otherwise):</p>

<ul>
  <li>via Angular UI app (i.e. from our extension in Windows Admin Center)</li>
  <li>“directly” from any RESTful client such as this example: <code class="language-plaintext highlighter-rouge">Invoke-RestMethod -Uri https://win25:7000/SolidFire/.... -UseDefaultCredentials</code></li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-06-wac-extension-to-wac-solidfire-gateway.png" alt="API exposed" /></p>

<p>In the highly unlikely case you are a SolidFire user who doesn’t see any point in all this, let’s do a quick “ELI 5”:</p>

<ul>
  <li>If I load my Angular UI into Windows Admin Center (WAC) as a WAC Extension, I can manage SolidFire from WAC</li>
  <li>I can run <strong>any</strong> other RESTful client against the improved SolidFire API endpint (this is important, so keep it in mind)</li>
</ul>

<p>All right, since this is about front-end i.e. SolidFire Extension (UI), let’s remind ourselves how the official SolidFire Web UI looks like.</p>

<p>I’ll mention just two things (I’m sure SolidFire users know them, so I’m trying to keep this brief):</p>

<ul>
  <li>I’d like my SolidFire users to manage just <em>one</em> (own) SolidFire tenant (or “account”) - “pve” for example - but I can’t. As a cluster admin I see all volumes (and more) from <em>all</em> storage tenants. See (1) in screenshot below.</li>
  <li>The SolidFire UI allows incompetent and/or negligent admin to create a mess of “customization” in terms of object (Volume, Snapshot, QoS Policy) name conventions, QoS settings and more. Enablement that existed when SolidFire was still shipping didn’t help make this better. See (2).</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-07-solidfire-ui-volumes.png" alt="SolidFire Volumes view" /></p>

<p>It’s similar in Snapshots. Notice I’m not even mentioning the horizontal scrolling thing.</p>

<p><img src="/assets/images/solidfire-wac-extension-08-solidfire-ui-snapshots.png" alt="SolidFire Snapshots view" /></p>

<p>Everyone’s snapshots are exposed to every cluster admin with Volumes (management) role and the UI is not easy to use (both viewing and filtering).</p>

<p>I didn’t even take any screenshot from Accounts, but that suffers from the same problem: any cluster admin who can see Accounts can see any account’s details. One of the reasons I don’t want to talk about the Accounts UI is I chose to not enable it on the gateway.</p>

<p>Going back to the poor enablement and evangelism: automation and best practices around (snapshot and other) Schedule objects also result in arbitrary names, random retention schedules and so on. It’s all right if the UI gives everyone the freedom to do a lot of stuff, but if you have admins who don’t <em>know</em> better, that won’t work well.</p>

<p>At the very least, proper Snapshot Schedules should (a) exist (to avoid the need for regular on-demand only snapshots) and (b) they should be named properly (even though in SolidFire automation only <code class="language-plaintext highlighter-rouge">id</code>s matter), and (c) they should be well-crafted.</p>

<p>This example shows 2 well-crafted schedules and two random-named ones.</p>

<p><img src="/assets/images/solidfire-wac-extension-09-solidfire-snapshot-schedules.png" alt="SolidFire Schedules" /></p>

<p>So there are a few things (“features”?) in the API and UI and there was poor enablement (when the product used to be sold). All together they damaged otherwise excellent value proposition of SolidFire which, despite these challenges, is still the best NetApp storage arrays (in my opinion).</p>

<p>My SolidFire WAC Gateway fixes that and <strong>it can work with any platform</strong> (Windows, Linux, whatever).</p>

<p>What I mean by that is <strong>not</strong> that you can now “route” your SolidFire VMware plugin through it (that won’t work because although it <em>could</em> be done, why do it?), but that you can fix or mitigate problems by using WAC Gateway’s APIs and possibly squeeze a bit of extra from your existing SolidFire clusters. For example, you may be able to enable multi-tenancy or more flexible self-administration in existing environments (especially Windows, but also Linux).</p>

<p>I get it: 70% of SolidFire users may be on VMware and they can’t take advantage of this, while 9 in 10 among the rest don’t want to waste time on it. And that’s okay.</p>

<p>My purpose isn’t to encourage you to spend 3 months developing to an unproven API gateway that works only with a product that won’t be around for much longer, but rather to show that if you want to, it is possible. And has been possible for close to a decade despite “experts” telling us how very complicated this is (or “has been” until now that we know it’s not hard).</p>

<p>OK, onto the gateway API:</p>

<p><img src="/assets/images/solidfire-wac-extension-10-solidfire-wac-gateway-swagger.png" alt="SolidFire WAC Gateway Swagger" /></p>

<p>As you can immediately see, there are <em>fewer</em> methods available here than you might remember from the native SolidFire API or “HCC” in NetApp HCI.</p>

<p>For example, I don’t want “volume-scoped managers” to be able to clone volumes just because they can. So there’s no <code class="language-plaintext highlighter-rouge">CloneVolume</code>.</p>

<p><img src="/assets/images/solidfire-wac-extension-11-solidfire-wac-gateway-swagger-details.png" alt="SolidFire WAC Gateway Swagger methods" /></p>

<p>One of the <em>key</em> methods is visible here, <code class="language-plaintext highlighter-rouge">ListVolumesForAccount</code>, which happens to be the same as the SolidFire API call with the same name.</p>

<p>The reason I highlight it is that <em>if</em> the gateway is configured to allow <code class="language-plaintext highlighter-rouge">DOMAIN\guy</code> to manage volumes-related stuff for AccountID <code class="language-plaintext highlighter-rouge">4</code>, than we filter objects that we can to make sure that’s the only thing the guy sees. (For now I implement that in Extension UI, but each API gateway can be locked to one Account ID, so it’s also achievable by deploying multiple gateways (which are just IIS Web sites), although before publishing the code I’d like to implement multi-accountID segregation within a gateway as well).</p>

<p>Another point - which I was oblivious to for a week and realized only as I was writing this blog post: multi-cluster view (and not just View).</p>

<p>It’s not hard and it’s useful. But we never had this done well with SolidFire plugins, including on VMware with”linked mode” vCenter bloatware.</p>

<p><img src="/assets/images/solidfire-wac-extension-12-solidfire-wac-extension-multi-cluster-management.png" alt="SolidFire WAC Extension - multi-cluster view" /></p>

<p>You may think: well, you can just see 2 rows of text -there’s nothing you can <em>do</em> with that.</p>

<p>Yes, there’s not <em>much</em> I can do with it (I can see my PROD cluster is still unreachable, which is something) because I don’t want to do it in this context of an Extension/Web UI for a user with a “volume-scoped” role, and not yet anyway. But it could be done - easily.</p>

<p>For example, remember SolidFire’s SRA which provided site fail-over for VMware? I could do this easily on with Extension and API gateway by adding just one button: <strong>Flip</strong> (from PROD to DR, or in reverse).</p>

<p>This below is Cluster Details view.</p>

<p>I just dump some stuff from the API into a table. It’s not really that important at this stage and obviously “in production” we’d show just a selection of key-value pairs that matter and in a much more compact view.</p>

<p><img src="/assets/images/solidfire-wac-extension-13-solidfire-wac-extension-cluster-details.png" alt="SolidFire WAC Extension - cluster details view" /></p>

<p>Similarly for capacity and performance - we could show these in fancy pie charts and whatnot.</p>

<p><img src="/assets/images/solidfire-wac-extension-14-solidfire-wac-extension-cluster-capacity-details.png" alt="SolidFire WAC Extension - cluster capacity view" /></p>

<p>I’d probably eliminate Thin Provisioning from cluster and account efficiency calculation (9 years old annoyance!) for starters.</p>

<p>Now this is where things get more interesting.</p>

<p>Most of these screenshots below show views of my SolidFire WAC Extension laid over SolidFire UI showing similar content.</p>

<p>The main - almost <strong>only</strong> - thing that matters: SolidFire WAC Extension shows you only <em>your</em> objects (volumes, snapshots, etc).</p>

<p>Meaning accountID 4 (<code class="language-plaintext highlighter-rouge">pve</code>) in these screenshots. More security, less accidental deletion, lower risk of malicious administration, ransomware and so on.</p>

<p><img src="/assets/images/solidfire-wac-extension-15-solidfire-wac-extension-volumes-vs-original.png" alt="SolidFire WAC Extension - volumes view" /></p>

<p>I also don’t like how the official UI lists volumes, by the way, but that’s a matter of preference whereas the security on the gateway is objective and quantifiable.</p>

<p>Of course, I know that running a gateway on IIS also <em>adds</em> new security risks, but if you want to manage storage from integrated environments, you already have a “management domain” where clients access the SolidFire API directly.</p>

<p>It’s easy to see how volumes can be easily shown on the same page and provide required details without scrolling, clicking twice or thrice, etc.</p>

<p><img src="/assets/images/solidfire-wac-extension-16-solidfire-wac-extension-volume-details-vs-original.png" alt="SolidFire WAC Extension - volume details view" /></p>

<p>Next, <code class="language-plaintext highlighter-rouge">ModifyVolume</code>:</p>
<ul>
  <li>You can’t <em>see</em> any volumes that aren’t yours, so you won’t even attempt to modify them either. And even if you tried, ABAC on API gateway would return <code class="language-plaintext highlighter-rouge">Forbidden</code>.</li>
  <li>You may be authenticated to List/View, but not authorized to Modify. In this case, the user is authorized to <code class="language-plaintext highlighter-rouge">ModifyVolume</code>.</li>
  <li>When you <em>are</em> authorized to modify, you’re limited in what you can do. For example, you won’t flip from a QoS Policy ID to some random QoS settings just because it felt right.</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-17-solidfire-wac-extension-volume-modify-vs-original.png" alt="SolidFire WAC Extension - volume modify view" /></p>

<p>Each of these three points protects SolidFire clusters from accidental or deliberate mal-administration.</p>

<p>While my Extension’s UI is crowded (it uses WAC SDK and Angular defaults - I haven’t tried to make any CSS improvements), you can see that <code class="language-plaintext highlighter-rouge">ModifyVolume</code> lets you:</p>

<ul>
  <li>Increase volume size</li>
  <li>Re-type it in terms of QoS Policy ID (which is why not all users are authorized to ModifyVolume)</li>
  <li>Add or remove attributes (<strong>very useful</strong> but SolidFire UI won’t let you do this and the related enablement, evangelism and tooling all failed to make this exposed to many users)</li>
</ul>

<p>The same volume after modification. We can view the new tag and size (summary table at the top), but QoS Policy ID was changed as well.</p>

<p><img src="/assets/images/solidfire-wac-extension-18-solidfire-wac-extension-volume-modified.png" alt="SolidFire WAC Extension - volume modify outcome" /></p>

<p>The same is done for <code class="language-plaintext highlighter-rouge">CreateVolume</code>. Look ma, no razors!</p>

<ul>
  <li>dimmed AccountID (volume can’t be created for another user)</li>
  <li>size (GiB only, no GB nonsense)</li>
  <li>Enable512e (default <code class="language-plaintext highlighter-rouge">false</code>, appropriate for Windows users)</li>
  <li>QoS Policy ID (for consistency in management, monitoring, planning, etc.) - QoS settings aren’t directly exposed to users</li>
  <li>up to 3 KVs in attributes per volume, so that you can tag your volumes if you wish to automate certain workflows (backup, DR, cloning, etc.). This isn’t available in SolidFire UI.</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-19-solidfire-wac-extension-volume-create.png" alt="SolidFire WAC Extension - volume create form" /></p>

<p>Like with <code class="language-plaintext highlighter-rouge">ModifyVolume</code>, you may be authorized to List/View, but not to Create. <code class="language-plaintext highlighter-rouge">DeleteVolume</code> I haven’t even exposed to Extension Users (the API gateway does have it and only SolidFire and Domain Admins are by default authorized to access it).</p>

<p><img src="/assets/images/solidfire-wac-extension-28-wac-gateway-volumes.png" alt="SolidFire Gateway Swagger - Volume methods" /></p>

<p>Delete should be restrictive. For example, I’d allow <code class="language-plaintext highlighter-rouge">DOMAIN\HyperVAdmins</code> to <code class="language-plaintext highlighter-rouge">CreateVolume</code>, but only <code class="language-plaintext highlighter-rouge">DOMAIN\SolidFireAdmins</code> to <code class="language-plaintext highlighter-rouge">DeleteVolume</code>… Because SolidFire admins are more likely to use the native API, I haven’t yet implemented <code class="language-plaintext highlighter-rouge">DeleteVolume</code> in the Extension. But it’s trivial to add.</p>

<p>Some people tell me that would be inconvenient. Really?</p>

<p>This is how <code class="language-plaintext highlighter-rouge">DeleteVolume</code> should work in an environment without workflow forms: <code class="language-plaintext highlighter-rouge">ModifyVolume</code>, tag it with <code class="language-plaintext highlighter-rouge">delete=true</code>. SolidFire or HyperV administrator runs a scheduled job that deletes such volumes hourly or daily. Done.</p>

<p>How <code class="language-plaintext highlighter-rouge">PurgeVolume</code> should work if you don’t have workflows and don’t want to have that exposed in WAC at all</p>

<ul>
  <li>Use <a href="/2025/06/18/sfc-2-dot-1.html">SFC</a> to watch deleted volume count/capacity, or set InfluxDB or Grafana alert for when deleted volume count hits 5 or more than 5 TB</li>
  <li>Review the situation and delete them. Done.</li>
</ul>

<p>What exactly is inconvenient in these workflows?</p>

<p>Next: snapshots. We solve the same problems that we have with volumes in native SolidFire UI and API:</p>
<ul>
  <li>Show snapshots in ways that are easier to view</li>
  <li>Don’t see snapshots that don’t belong to accountID 4 (security, etc.)</li>
  <li>Disable carelessness and incompetence</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-20-solidfire-wac-extension-snapshot-vs-original.png" alt="SolidFire WAC Extension - snapshots view" /></p>

<p>How do we put an end to carelessness and incompetence? Look at the snapshot names…</p>

<p><img src="/assets/images/solidfire-wac-extension-21-solidfire-wac-extension-snapshot-details.png" alt="SolidFire WAC Extension - snapshots view" /></p>

<ul>
  <li>Snapshots scheduled on SolidFire (or somewhere else) run on SolidFire schedules - nothing to do in WAC but to watch them and know you’re covered. <code class="language-plaintext highlighter-rouge">every-4hr-keep3</code>, <code class="language-plaintext highlighter-rouge">every-15m-dr-keep-4</code>, etc.</li>
  <li>On-demand snapshots (<code class="language-plaintext highlighter-rouge">2025-07...</code>) that one can take from WAC or on the API gateway are limited and restricted:
    <ul>
      <li>Won’t let you pick a name - there’s a template (in this case a simple timestamp) which helps us avoid arbitrary and confusing snapshot names</li>
      <li>Won’t let you take a snapshot that doesn’t ever expire (I set an artificial upper limit of 100 hours so you can pick between 5 min and 100 hours 59 minutes and 59 seconds). If you have a problem, get the storage admins to create a proper schedule for you!</li>
    </ul>
  </li>
</ul>

<p>Unlike in the official UI, it’s also easier to view snapshot details. Again, all snapshots you see in Extension UI belong to accountID 4. No mess, no ability to clone someone’s snapshot to yourself or delete it.</p>

<p>I haven’t created <code class="language-plaintext highlighter-rouge">DeleteSnapshot</code> and <code class="language-plaintext highlighter-rouge">RestoreSnapshot</code> because:</p>
<ul>
  <li>Snapshots taken through WAC API gateway <em>always expire</em>. You could take 32 per right away and max out, but it’d be on you and we have audit logs on IIS. We could control this by counting snapshots before we allow new ones, too, which you can’t do on SolidFire, but</li>
  <li>Carefully designed snapshot schedules won’t use more than say 20-26 snapshots, leaving about half a dozen for on-demand, and few for emergencies</li>
  <li>“Restore snapshot” API and UI is easy to create, but I wouldn’t expose it just like that, so I didn’t rush to implement it. I would probably authorize a selective group to do it, not generic volume- and account-scoped users.</li>
</ul>

<p>My API and UI for group snapshots is also better. I see only my own (one, as opposed to two group snapshots seen in the SolidFire UI) and I can show the details I need (although currently it’s just very basic details).</p>

<p><img src="/assets/images/solidfire-wac-extension-22-solidfire-wac-extension-group-snapshots-vs-original.png" alt="SolidFire WAC Extension - group snapshots view" /></p>

<p>Group snapshot details are also better, in my subjective opinion. See by yourself:</p>

<p><img src="/assets/images/solidfire-wac-extension-23-solidfire-wac-extension-group-snapshots-details.png" alt="SolidFire WAC Extension - group snapshots view" /></p>

<p>Yep, I spit that list out as raw JSON!</p>

<p>Why? Because in individual snapshots you’ll have one table with a handful of rows. But in group snapshots you will have 2 or 12 volumes in that sucker and you won’t be able to see anything anyway.</p>

<p>At least with JSON you can paste it anywhere (Excel? AI?) and do something with it there.</p>

<p>Of course, I could show them in a nice summary table followed by raw JSON… But “raw JSON” is much better, so I did that first.</p>

<p>A few comments on other SolidFire objects and APIs as implemented (or not) in Gateway and Extension:</p>

<ul>
  <li>The Gateway APIs for QoS objects are limited (List (Get) in the UI, with Modify (or Put, as Swagger calls it) and Delete in the Gateway API but not in the UI/Extension, as that should be done by SolidFire admins and they don’t need a gateway for that). Generic/custom QoS is <em>banned</em>. I’m not going to implement it, ever! Need a fancy QoS policy? Talk to the SolidFire admin!</li>
  <li>There’s no DeleteVolume and CloneVolume (for similar reasons) and absolutely no PurgeVolume exposed to to Extension users, while for API gateway it’s implemented (and is restricted and account/tenant-scoped)</li>
  <li>There’s no Accounts object at all. No one <em>using</em> SolidFire from WAC has any business dealing with tenant accounts. It can and should be done in a separate view for SolidFire and Domain Admins. Personally I’d prefer to not even have it (which is why it hasn’t been implemented) - it’s a rarely used feature (create account, delete account, change CHAP credentials) that shouldn’t be exposed in this extension, in my opinion.</li>
</ul>

<p>As you can see from the Swagger screenshot and the opinionated comments just above, I didn’t want to expose much to WAC Users, because it increases the attack surface. Exposing too much also “undoes” the simplification and makes it hard to follow the best practices (as I see them).</p>

<p>I view this as a way to achieve departmental and user RBAC/ABAC in a semi-trusted environment, not as a way to make fancy APIs for DevOps people who should continue using the native API - and they know how to make own API gateways, too.</p>

<p>But the Gateway will be open-sourced, so whatever you can add to it is possible…</p>

<h2 id="and-now">And now…</h2>

<p>SolidFire Extension for Windows Admin center!</p>

<p><img src="/assets/images/solidfire-wac-extension-24-solidfire-wac-extension-overlaid.png" alt="SolidFire Extension for Windows Admin center" /></p>

<p>That was a joke, sorry!</p>

<p>I overlaid a browser with WAC SolidFire Extension over WAC for this same system…</p>

<p>But that’s how it’d look like when packaged as WAC extension and imported to WAC. Its appearance would be slightly improved as WAC uses better CSS styles, and some fancy HTML elements could be used. I was planning to start working on that next. But it already looks “WAC-like” because WAC Development SDK is used to create these extensions.</p>

<p>This is the real WAC v2 on this development system (the lower window from screenshot above):</p>

<p><img src="/assets/images/solidfire-wac-extension-25-wac-storage-example.png" alt="WAC on this system" /></p>

<h2 id="conclusion">Conclusion</h2>

<p>This work on SolidFire WAC Gateway and Extension is probably one of the most fulfilling experiences I’ve had working with SolidFire, because I was able to find solutions for a bunch of problems in a single PoC.</p>

<p>And not only that: I’d always known they were solvable but I didn’t have a proof. Year in and year out, I was told it was difficult and complicated. Well, now we all know that it wasn’t. I did this in days.</p>

<p>So… when I’m going to release SolidFire Extension for WAC? Never.</p>

<p>I wanted to do it until last night, but here’s why I won’t: Microsoft doesn’t give a crap about WAC.</p>

<p>Check the WAC SDK updates in the right-most column: yep, 0 updates in 4 years.</p>

<p><img src="/assets/images/solidfire-wac-extension-26-wac-github.png" alt="WAC SDK is derelict" /></p>

<p>This is how happy WAC SDK developers are (taken today in <a href="https://github.com/microsoft/windows-admin-center-sdk/issues">WAC SDK issues on Github</a>): “stuff doesn’t work at all” issues reported between 2020 and 2023 (by that time everyone gave up) are still open.</p>

<p><img src="/assets/images/solidfire-wac-extension-27-wac-nightmare.png" alt="WAC SDK issues" /></p>

<p>As I’d almost finished SolidFire WAC Gateway and Extension (to the extent you can see in the screenshots - ready for community testing, I think) and was about to start improving the look of SolidFire Extension inside of WAC itself, I hit a bunch of issues realized there’s no reason to bother with that.</p>

<p>This is the same conclusion I reached when looking at <a href="/2025/06/24/initial-exploration-solidfire-proxmox-plugin.html">Proxmox</a> integration last month.</p>

<p>Packaging and integration for WAC are a <em>nightmare</em>. After I’d spent a ton of time I got to the point where I could load the extension but still had to deal with a bunch of WAC bugs, missing documentation, shitty logging, old Angular/NodeJS (LTS 16 - LOL!) bugs, etc. WTF… It takes more more to integrate and package than to develop!</p>

<p>Incredibly, Microsoft ships WAC in Windows Server 2025. It’s hard to believe that is a current product.</p>

<p>But, when I look at the list of available extensions, it is clear people no longer bother - there’s just a handful of them, most developed years ago. If SolidFire got its WAC extension on in time (2018-2019), we’d probably still have it as most older extensions can work in “legacy mode”.</p>

<p>Anyway, Microsoft partially let let me down (ASP.NET good, IIS so-so, WAC bad), so here’s what I plan to do next:</p>

<ul>
  <li>Release SolidFire WAC API Gateway code - so that anyone can improve it and use it if they will (I’ll use it as well). It may help those who want to build a WAC Extension for SolidFire</li>
  <li><em>Not</em> release SolidFire WAC Extension - I’d have to spend some extra time to improve it, but integration and packaging is a freaking nightmare while more pleasant work awaits</li>
  <li>Build a CLI tool for Windows with SolidFire to make use SolidFire WAC Gateway</li>
</ul>

<p>At the top I said one of the key points is that any client can use the WAC gateway, not just some extension running in Windows Admin Center.</p>

<p>When I looked at Proxmox, I gave up on building a plugin, but I built my own console tool (<a href="/2025/07/07/firemox.html">Firemox</a>) that is a native SolidFire API client.</p>

<p>Here, though, I’ve built a SolidFire API gateway which I think adds value (at least to me personally) and I think it’d be well worth to Windows-focused users to deliberately “restrict” a Firemox-like console tool to this “crippled” API gateway of mine.</p>

<p>Yes, that kind of a console would “force” one to run my API gateway, but it gives you RBAC and other goodies that don’t require anything that Windows users don’t already have: Active Directory Service, Windows Authentication, IIS. At the same time, you can expose SolidFire to more users and improve storage and compute utilization for free.</p>

<p>Anyone who doesn’t see value in that can modify Firemox for Hyper-V, so that’s possible as well. Or you can embark on your own adventure with <a href="/2025/06/29/solidfire-with-powershell-7.html">SolidFire Tools for PowerShell</a>.</p>

<p>If someone out there wants to build a SolidFire Extension for WAC with the SolidFire API gateway, let me know on X (@scaleoutSean) if you need help. Otherwise just grab the API gateway code on Github and use it as you wish. I plan to release it soon (need to tidy up the code, write the documentation…).</p>

<h2 id="appendix-a-demo">Appendix A: demo</h2>

<h3 id="animated-gif-no-playback-control">Animated GIF (no playback control)</h3>

<p>You may open it in a new tab - native resolution of this animated GIF is quite good.</p>

<p>It shows SolidFire WAC Gateway/App, API Gateway’s Swagger, my development setup for SolidFire Extension (reverse proxy with WAC SDK) and the Extension UI in action. It loops so don’t try to watch it “until it ends”.</p>

<p><img src="/assets/images/solidfire-wac-extension-26-demo.gif" alt="SolidFire Extension demo" /></p>

<h3 id="video-demo-with-voice-over">Video demo with voice-over</h3>

<p>TODO</p>

      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#automation">automation</a>
      &nbsp; 
    
      <a href="
      /categories/#solidfire">solidfire</a>
       
    
  </span>
</div>
    

  
    <div>
      <h3>Related Posts</h3>
      <ul>
      
        <li><a href="/2025/07/26/solidfire-windows-admin-center-gateway.html">SolidFire Gateway for Windows Admin Center 2025</a></li>
      
        <li><a href="/2024/04/01/windows-server-2025-with-solidfire-part-three-hyper-v.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI Part Three</a></li>
      
        <li><a href="/2024/04/01/windows-server-2025-with-solidfire-part-two-sql-server-2022.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI Part Two</a></li>
      
        <li><a href="/2024/03/31/windows-server-2025-with-solidfire-part-one.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI</a></li>
      
        <li><a href="/2024/08/28/convert-netapp-hci-from-vmware-to-hyperv.html">Convert NetApp HCI from VMware to Hyper-V</a></li>
      
      </ul>
    </div>
  

    
  </div><footer class= "footer">
    <p>2025-08-11 20:09 </p>
    <p>Copyright © 2025 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
