<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            SolidFire Extension for Windows Admin Center 2025 | Acting Technologist
      
    </title>
    <meta name="description" content="
     SolidFire behind ASP-NET app server
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>SolidFire Extension for Windows Admin Center 2025 | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="SolidFire Extension for Windows Admin Center 2025" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SolidFire behind ASP-NET app server" />
<meta property="og:description" content="SolidFire behind ASP-NET app server" />
<link rel="canonical" href="https://scaleoutsean.github.io/2025/07/30/solidfire-windows-admin-center-extension.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2025/07/30/solidfire-windows-admin-center-extension.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:image" content="https://scaleoutsean.github.io/assets/images/dumb-and-dumber-extra-pair-of-gloves.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-07-30T00:00:00+08:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"scaleoutSean"},"description":"SolidFire behind ASP-NET app server","@type":"BlogPosting","headline":"SolidFire Extension for Windows Admin Center 2025","dateModified":"2025-07-30T00:00:00+08:00","datePublished":"2025-07-30T00:00:00+08:00","image":"https://scaleoutsean.github.io/assets/images/dumb-and-dumber-extra-pair-of-gloves.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2025/07/30/solidfire-windows-admin-center-extension.html"},"url":"https://scaleoutsean.github.io/2025/07/30/solidfire-windows-admin-center-extension.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">SolidFire Extension for Windows Admin Center 2025</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>30 Jul 2025</span> - <i class="far fa-clock"></i> 


  
  
    16 minute read
  

    </span>
  </div>
  
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#walk-through">Walk-through</a></li>
  <li><a href="#and-now">And now…</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
  <li><a href="#appendix-a-demo">Appendix A: demo</a>
    <ul>
      <li><a href="#animated-gif-no-playback-control">Animated GIF (no playback control)</a></li>
      <li><a href="#video-demo-with-voice-over">Video demo with voice-over</a></li>
    </ul>
  </li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>Continuing our “Dumb &amp; Dumber in Tech” series, I’m pleased to report that I can add another episode following that <a href="/2025/07/26/solidfire-windows-admin-center-gateway.html">WAC Gateway</a> post.</p>

<p>I’ve kept cracking and have something to share.</p>

<h2 id="walk-through">Walk-through</h2>

<p>I am not sure what’s better - video or screenshots - so I’ll do something in between: images and animated images (that appear like a video) aka animated GIF.</p>

<p>You saw the Windows Admin Center gateway thing in the other post. In this environment it’s running:</p>
<ul>
  <li>On IIS server (Windows Server 2025)</li>
  <li>On port HTTPS 5000 (right-hand side in the screenshot)</li>
  <li>Not seen (because it’s hidden in Authentication settings) this thing uses Windows authentication which is the key point</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-01-iis-wac-gateway.png" alt="SolidFire WAC Gateawy" /></p>

<p>The API gateway application:</p>

<p><img src="/assets/images/solidfire-wac-extension-02-iis-wac-gateway-asp-dot-net-app.png" alt="SolidFire WAC Gateway" /></p>

<p>With that I get:</p>
<ul>
  <li>Windows authentication to easily solve what had to be done years ago (RBAC/ABAC)</li>
  <li>Improved SolidFire API because I can fix stuff that should have been done years ago</li>
  <li>Get full and proper audit logging (that should have been done years ago) - SolidFire-bound JSON-RPC requests are logged (thin and thick version)</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-03-iis-wac-gateway-logging-auditing.png" alt="IIS and WAC Gateway Logs" /></p>

<p>Thin logs:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"ListGroupSnapshots"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{</span><span class="nl">"volumes"</span><span class="p">:[</span><span class="mi">165</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span><span class="mi">211</span><span class="p">,</span><span class="mi">213</span><span class="p">]},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterInfo"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterStats"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterCapacity"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterInfo"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"GetClusterStats"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"ListVolumesForAccount"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{</span><span class="nl">"accountID"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nl">"includeVirtualVolumes"</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"ListVolumesForAccount"</span><span class="p">,</span><span class="nl">"params"</span><span class="p">:{</span><span class="nl">"accountID"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nl">"includeVirtualVolumes"</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Thick logs:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"result"</span><span class="p">:{</span><span class="nl">"snapshots"</span><span class="p">:[{</span><span class="nl">"attributes"</span><span class="p">:{</span><span class="nl">"hyper-v"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">},</span><span class="nl">"checksum"</span><span class="p">:</span><span class="s2">"0x0"</span><span class="p">,</span><span class="nl">"createTime"</span><span class="p">:</span><span class="s2">"2025-07-28T13:51:34Z"</span><span class="p">,</span><span class="nl">"enableRemoteReplication"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"expirationReason"</span><span class="p">:</span><span class="s2">"None"</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="s2">"2025-07-30T07:52:34Z"</span><span class="p">,</span><span class="nl">"groupID"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"groupSnapshotUUID"</span><span class="p">:</span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="nl">"instanceCreateTime"</span><span class="p">:</span><span class="s2">"2025-07-28T13:51:34Z"</span><span class="p">,</span><span class="nl">"instanceSnapshotUUID"</span><span class="p">:</span><span class="s2">"d2b1de80-47bb-4a5d-8a73-9df5797043bc"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"2025-07-28T13:51:34Z"</span><span class="p">,</span><span class="nl">"snapMirrorLabel"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"snapshotID"</span><span class="p">:</span><span class="mi">2538</span><span class="p">,</span><span class="nl">"snapshotUUID"</span><span class="p">:</span><span class="s2">"d2b1de80-47bb-4a5d-8a73-9df5797043bc"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"done"</span><span class="p">,</span><span class="nl">"totalSize"</span><span class="p">:</span><span class="mi">1073741824</span><span class="p">,</span><span class="nl">"virtualVolumeID"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">,</span><span class="nl">"volumeName"</span><span class="p">:</span><span class="s2">"test-vol-DR-20250728204338"</span><span class="p">},{</span><span class="nl">"attributes"</span><span class="p">:{</span><span class="nl">"hyperv"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">},</span><span class="nl">"checksum"</span><span class="p">:</span><span class="s2">"0x0"</span><span class="p">,</span><span class="nl">"createTime"</span><span class="p">:</span><span class="s2">"2025-07-28T14:08:20Z"</span><span class="p">,</span><span class="nl">"enableRemoteReplication"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"expirationReason"</span><span class="p">:</span><span class="s2">"None"</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="s2">"2025-07-30T14:08:20Z"</span><span class="p">,</span><span class="nl">"groupID"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"groupSnapshotUUID"</span><span class="p">:</span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="nl">"instanceCreateTime"</span><span class="p">:</span><span class="s2">"2025-07-28T14:08:20Z"</span><span class="p">,</span><span class="nl">"instanceSnapshotUUID"</span><span class="p">:</span><span class="s2">"dd17ed12-1977-4ee8-b838-927593e6ceb6"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"2025-07-28T14:08:20Z"</span><span class="p">,</span><span class="nl">"snapMirrorLabel"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"snapshotID"</span><span class="p">:</span><span class="mi">2543</span><span class="p">,</span><span class="nl">"snapshotUUID"</span><span class="p">:</span><span class="s2">"dd17ed12-1977-4ee8-b838-927593e6ceb6"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"done"</span><span class="p">,</span><span class="nl">"totalSize"</span><span class="p">:</span><span class="mi">1073741824</span><span class="p">,</span><span class="nl">"virtualVolumeID"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">,</span><span class="nl">"volumeName"</span><span class="p">:</span><span class="s2">"test-vol-DR-20250728204338"</span><span class="p">},{</span><span class="nl">"attributes"</span><span class="p">:{</span><span class="nl">"hyperv"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">},</span><span class="nl">"checksum"</span><span class="p">:</span><span class="s2">"0x0"</span><span class="p">,</span><span class="nl">"createTime"</span><span class="p">:</span><span class="s2">"2025-07-28T14:09:10Z"</span><span class="p">,</span><span class="nl">"enableRemoteReplication"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"expirationReason"</span><span class="p">:</span><span class="s2">"None"</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="s2">"2025-07-30T14:09:10Z"</span><span class="p">,</span><span class="nl">"groupID"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"groupSnapshotUUID"</span><span class="p">:</span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="nl">"instanceCreateTime"</span><span class="p">:</span><span class="s2">"2025-07-28T14:09:10Z"</span><span class="p">,</span><span class="nl">"instanceSnapshotUUID"</span><span class="p">:</span><span class="s2">"2c4f6c6a-ae09-4e96-9e4a-a5388b673652"</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"2025-07-28T14:09:10Z"</span><span class="p">,</span><span class="nl">"snapMirrorLabel"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"snapshotID"</span><span class="p">:</span><span class="mi">2544</span><span class="p">,</span><span class="nl">"snapshotUUID"</span><span class="p">:</span><span class="s2">"2c4f6c6a-ae09-4e96-9e4a-a5388b673652"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"done"</span><span class="p">,</span><span class="nl">"totalSize"</span><span class="p">:</span><span class="mi">1073741824</span><span class="p">,</span><span class="nl">"virtualVolumeID"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nl">"volumeID"</span><span class="p">:</span><span class="mi">206</span><span class="p">,</span><span class="nl">"volumeName"</span><span class="p">:</span><span class="s2">"test-vol-DR-20250728204338"</span><span class="p">}]}}</span><span class="w">
</span></code></pre></div></div>

<p>My setup - which isn’t how you’d necessarily run it, but I have it here for anyone who wants to try:</p>
<ul>
  <li>HTTPS reverse proxy on front-end - <code class="language-plaintext highlighter-rouge">https://win25:7000/</code>
    <ul>
      <li>Anything with <code class="language-plaintext highlighter-rouge">/ui</code> goes to the UI (no auth required) which you’ll see shortly</li>
      <li>The rest (API calls, basically) goes to SolidFire WAC Gateway on IIS at <code class="language-plaintext highlighter-rouge">https://win25:5000</code> (auth is from IIS/Windows <em>and</em> <strong>authz</strong> is from my WAC API Gateway)
        <ul>
          <li>SolidFire Gateway passes requests to SolidFire clusters, e.g. the cluster <code class="language-plaintext highlighter-rouge">DR</code> has MVIP at<code class="language-plaintext highlighter-rouge">https://192.168.1.34/json-rpc/12.5</code> ()</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-04-dev-setup.png" alt="Reverse proxy" /></p>

<p>The WAC gateway is <code class="language-plaintext highlighter-rouge">upstream</code> at win25:5000, as you can see above.</p>

<p>The other upstream we have is win25:4200 which is the SolidFire WAC Extension i.e. Angular Web app running on NodeJS (the standard dev environment for WAC).</p>

<p><img src="/assets/images/solidfire-wac-extension-05-wac-extension-angular.png" alt="WAC Extension inAngular" /></p>

<p>Now we have two preferred routes to the API gateway:</p>

<ul>
  <li>via Angular Web app (i.e. Windows Admin Center)</li>
  <li>“directly” from any client, such as: <code class="language-plaintext highlighter-rouge">Invoke-RestMethod -Uri https://win25:7000/SolidFire/....</code></li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-06-wac-extension-to-wac-solidfire-gateway.png" alt="API exposed" /></p>

<p>In the highly unlikely case you are a SolidFire user who doesn’t see any point in all this, let’s do an “ELI 5”:</p>

<ul>
  <li>If can load my Angular Web UI into Windows Admin Center (WAC) as a WAC Extension, I can manage SolidFire from WAC</li>
  <li>I can run <strong>any</strong> other RESTful client against the SolidFire API gateway (very important, so keep this in mind)</li>
</ul>

<p>All right, so let’s see how the SolidFire Web UI looks like. I’ll mention just two things (I’m sure SolidFire users know them, so I’m trying to keep this brief):</p>

<ul>
  <li>(1) I’d like my WAC user to manage just <em>one</em> SolidFire tenant (or “account”) - “pve”, for example), but I can’t. I see all volumes from all users.</li>
  <li>(2) The UI allows incompetent and/or lazy admins to create a mess of “customization” in terms of QoS settings (and the weak enablement that existed when SolidFire was shipping didn’t help make this better)</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-07-solidfire-ui-volumes.png" alt="SolidFire Volumes view" /></p>

<p>It’s similar in Snapshots. (Notice I’m not even mentioning the horizontal scrolling thing!)</p>

<p><img src="/assets/images/solidfire-wac-extension-08-solidfire-ui-snapshots.png" alt="SolidFire Snapshots view" /></p>

<p>Everyone’s snapshots are exposed to every cluster admin with Volumes (management) role and the UI is not easy to use (both viewing and filtering).</p>

<p>I didn’t even take any screenshot from Accounts, but it suffers from the same problem - any cluster admin who can see Accounts can see any account’s details.</p>

<p>Going back to the poor enablement and evangelism: automation and best practices around (snapshot and other) schedules also result in arbitrary names, retention schedules and so on. It’s all right if the UI gives everyone the freedom to do a lot of stuff in it, but if you have admins who don’t <em>know</em> better, that won’t work well.</p>

<p>At the very least, these should (a) exist (to avoid on-demand only snapshots) and (b) they should be named properly (even though in SolidFire automation only <code class="language-plaintext highlighter-rouge">id</code>s matter), and (c) they should be well-crafted (I posted about this including related to Ansible, before).</p>

<p>This example shows 2 well crafted schedules.</p>

<p><img src="/assets/images/solidfire-wac-extension-09-solidfire-snapshot-schedules.png" alt="SolidFire Schedules" /></p>

<p>So there are things in the API, UI and weak enablement (when the product used to be sold) which all damage otherwise excellent value proposition (which, despite these things is still better than in other storage arrays, in my opinion).</p>

<p>SolidFire WAC Gateway fixes that and <strong>it can work with any platform</strong> (Windows, Linux, whatever). What I mean by that is <strong>not</strong> that you can now “route” your SolidFire VMware plugin through it (that won’t work because it <em>could</em> be done, but why?), but that you can fix or mitigate problems by using WAC Gateway’s APIs.</p>

<p>I get it, 70% of SolidFire users may be on VMware, so they can’t take advantage of it, and 9 in 10 of the rest don’t want to waste time.</p>

<p>My purpose isn’t to encourage you to spend 3 months developing for an unproven API gateway to a product that won’t be around much longer, but rather to show you can if you want to, and that this was doable since last decade despite “experts” telling us how very complicated this is (or “was”, until now that we know it’s not).</p>

<p>OK, the API:</p>

<p><img src="/assets/images/solidfire-wac-extension-10-solidfire-wac-gateway-swagger.png" alt="SolidFire WAC Gateway Swagger" /></p>

<p>As you can see, there are <em>fewer</em> methods available than you might remember in from the native SolidFire API. For example, I don’t want “volume-scoped managers” to be able to clone volumes. So there’s no <code class="language-plaintext highlighter-rouge">CloneVolume</code>.</p>

<p><img src="/assets/images/solidfire-wac-extension-11-solidfire-wac-gateway-swagger-details.png" alt="SolidFire WAC Gateway Swagger methods" /></p>

<p>One of the <em>key</em> methods is visible here, <code class="language-plaintext highlighter-rouge">ListVolumesForAccount</code>, which happens to be the same as the SolidFire API call with the same name.</p>

<p>The reason I highlight it is that <em>if</em> the gateway is configured to allow <code class="language-plaintext highlighter-rouge">DOMAIN\guy</code> to manage volumes-related stuff for AccountID <code class="language-plaintext highlighter-rouge">4</code>, than we filter objects that we can to make sure that’s the only thing the guy sees.</p>

<p>Another point - which I realized only as I was writing this post: multi-cluster view (and more). It’s not hard, and it’s useful. But yet this always sucked with SolidFire including on VMware with their “linked mode” vCenter bloatware.</p>

<p><img src="/assets/images/solidfire-wac-extension-12-solidfire-wac-extension-multi-cluster-management.png" alt="SolidFire WAC Extension - multi-cluster view" /></p>

<p>I know you may think: well, you can just see 2 rows, there’s nothing you can <em>do</em> with it.</p>

<p>Yes, there’s not <em>much</em> I can do with it (I can see my PROD cluster is still unreachable, which is something) because I don’t want to do it in this context (of a UI for a “volume-scoped” role) and nor not yet anyway. But it could be done - easily.</p>

<p>For example, remember SolidFire’s SRA which provided site fail-over for VMware? I could do this easily on my gateway by adding one button: <strong>Flip</strong>.</p>

<p>This below is Cluster Details view. I just dump some stuff from the API into a table. It’s not really that important and obviously “in production” we’d show just a selection of KVs that matter.</p>

<p><img src="/assets/images/solidfire-wac-extension-13-solidfire-wac-extension-cluster-details.png" alt="SolidFire WAC Extension - cluster details view" /></p>

<p>Similarly for capacity and performance - we could show these in fancy pie charts and whatnot. I’d probably eliminate Thin Provisioning from default efficiency calculation (9 years old annoyance!) for starters.</p>

<p><img src="/assets/images/solidfire-wac-extension-14-solidfire-wac-extension-cluster-capacity-details.png" alt="SolidFire WAC Extension - cluster capacity view" /></p>

<p>Now this is where things get interesting. Most of these show my WAC Extension laid over the SolidFire cluster showing similar “official” view.</p>

<p>The main - almost <strong>only</strong> thing that matters: SolidFire WAC Extension shows you only <em>your</em> volumes. Meaning accountID 4 (<code class="language-plaintext highlighter-rouge">pve</code>), in this case. More security, less accidental deletion, less risk of malicious administration.</p>

<p><img src="/assets/images/solidfire-wac-extension-15-solidfire-wac-extension-volumes-vs-original.png" alt="SolidFire WAC Extension - volumes view" /></p>

<p>I also don’t like how the official UI shows volumes, but that’s a matter of preference whereas the security is objective.</p>

<p>But you can see - as an example - how volumes can be easily shown on the same page and provide required details without scrolling, clicking twice or thrice, etc.</p>

<p><img src="/assets/images/solidfire-wac-extension-16-solidfire-wac-extension-volume-details-vs-original.png" alt="SolidFire WAC Extension - volume details view" /></p>

<p>Next, <code class="language-plaintext highlighter-rouge">ModifyVolume</code>:</p>
<ul>
  <li>You can’t <em>see</em> any volumes that aren’t yours, so you won’t even attempt to modify them either. And even if you tried the ABAC on API gateway would return <code class="language-plaintext highlighter-rouge">Forbidden</code>.</li>
  <li>You may be authenticated to List/View, but not authorized to Modify. In this case, the user is authorized.</li>
  <li>When you <em>are</em> in fact authorized to modify, you don’t get to do any nonsense or damage in there.</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-17-solidfire-wac-extension-volume-modify-vs-original.png" alt="SolidFire WAC Extension - volume modify view" /></p>

<p>All three points protect SolidFire clusters from mal-administration. While the UI is crowded (it’s all defaults, I haven’t tried to make any CSS improvements), you can see that <code class="language-plaintext highlighter-rouge">ModifyVolume</code> lets you:</p>

<ul>
  <li>Grow volume</li>
  <li>Re-type in terms of QoS Policy ID (which is why not all users are authorized to ModifyVolume)</li>
  <li>Add or remove attributes (very useful, but like with other things - the UI won’t let you do this and the related enablement, evangelism and tooling all failed)</li>
</ul>

<p>The volume after modification (we can view the new tag, but retyping and size were changed as well).</p>

<p><img src="/assets/images/solidfire-wac-extension-18-solidfire-wac-extension-volume-modified.png" alt="SolidFire WAC Extension - volume modify outcome" /></p>

<p>The same is done for <code class="language-plaintext highlighter-rouge">CreateVolume</code>. Look ma, no razors:</p>
<ul>
  <li>dimmed AccountID (volume can’t be assigned to another user on same iSCSI SAN)</li>
  <li>size (GiB only, no GB nonsense)</li>
  <li>Enable512e (default <code class="language-plaintext highlighter-rouge">false</code>)</li>
  <li>QoS Policy ID (for consistency in management, monitoring, planning, etc.)</li>
  <li>up to 3 KVs in attributes (which SolidFire UI can’t do) so that you can tag your volumes if you wish to automate certain workflows (backup, DR, cloning, etc.)</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-19-solidfire-wac-extension-volume-create.png" alt="SolidFire WAC Extension - volume create form" /></p>

<p>Like with <code class="language-plaintext highlighter-rouge">ModifyVolume</code>, you may be authorized to List/View, but not to Create. <code class="language-plaintext highlighter-rouge">DeleteVolume</code> I haven’t even exposed to Extension Users (the API gateway does have it and only SolidFire and Domain Admins are by default authorized to access it).</p>

<p><img src="/assets/images/solidfire-wac-extension-28-wac-gateway-volumes.png" alt="SolidFire Gateway Swagger - Volume methods" /></p>

<p>Delete should be restrictive. For example, I’d allow <code class="language-plaintext highlighter-rouge">DOMAIN\HyperVAmins</code> to <code class="language-plaintext highlighter-rouge">Create</code>, but only <code class="language-plaintext highlighter-rouge">DOMAIN\SolidFireAdmins</code> to <code class="language-plaintext highlighter-rouge">DeleteVolume</code>… Because SolidFire admins are more likely to use the native API, I haven’t yet implemented <code class="language-plaintext highlighter-rouge">DeleteVolume</code>. But it’s trivial to add it.</p>

<p>How volume deletion should work if you don’t have workflows and don’t want to have that exposed in WAC:</p>

<ul>
  <li>Use <a href="/2025/06/18/sfc-2-dot-1.html">SFC</a> to watch deleted volume count/capacity, or set InfluxDB or Grafana alert for when deleted volume count hits 5 or more than 5 TB</li>
  <li>Review the situation and delete them</li>
</ul>

<p>Next: snapshots. We solve the same problems that we have with volumes:</p>
<ul>
  <li>Show snapshots in ways that are easier to view</li>
  <li>Don’t see snapshots that don’t belong to accountID 4 (security, etc.)</li>
  <li>Disable carelessness and incompetence</li>
</ul>

<p><img src="/assets/images/solidfire-wac-extension-20-solidfire-wac-extension-snapshot-vs-original.png" alt="SolidFire WAC Extension - snapshots view" /></p>

<p>How do we disable carelessness and incompetence? Look at the snapshot names…</p>
<ul>
  <li>Snapshots scheduled on SolidFire (or somewhere else) run on SolidFire schedules - nothing to do in WAC but to watch them</li>
  <li>On-demand snapshots that one can take in WAC or the API gateway are limited and restricted:
    <ul>
      <li>Won’t let you pick a name (avoiding random names)</li>
      <li>Won’t let you take a snapshot that doesn’t expire (I set an artificial limit of 100 hours). If you have a problem, get the admins to create a proper schedule</li>
    </ul>
  </li>
</ul>

<p>Unlike in the official UI, it’s easier to view snapshot details. Again, all snapshot belong to accountID 4.</p>

<p><img src="/assets/images/solidfire-wac-extension-21-solidfire-wac-extension-snapshot-details.png" alt="SolidFire WAC Extension - snapshots view" /></p>

<p>I haven’t created <code class="language-plaintext highlighter-rouge">DeleteSnapshot</code> and <code class="language-plaintext highlighter-rouge">RestoreSnapshot</code> because:</p>
<ul>
  <li>This is just a PoC</li>
  <li>Snapshots taken through WAC API gateway <em>always expire</em>. You could take 32 right away and max them out, but it’d be on you. We could control this by counting snapshots before we allow new ones, too.</li>
  <li>Carefully designed snapshot schedules won’t use more than say 20-26 snapshots, leaving about half a dozen for on-demand, and few for emergencies</li>
  <li>“Restore snapshot” is easy to create, but I wouldn’t expose it just like that, so I didn’t rush to implement it. I would probably authorize a selective group to do it, not generic volume- and account-scoped users.</li>
</ul>

<p>Group snapshots are also better. I see only my own (one, as opposed to two in the SolidFire UI) and I can show the details I need (although currently it’s just very basic details).</p>

<p><img src="/assets/images/solidfire-wac-extension-22-solidfire-wac-extension-group-snapshots-vs-original.png" alt="SolidFire WAC Extension - group snapshots view" /></p>

<p>Group snapshot details are also better, in my subjective opinion. See by yourself:</p>

<p><img src="/assets/images/solidfire-wac-extension-23-solidfire-wac-extension-group-snapshots-details.png" alt="SolidFire WAC Extension - group snapshots view" /></p>

<p>Yep, I spit that list out as raw JSON. Why? Because you will have 2 or 12 volumes in that sucker, and you won’t be able to see anything anyway. At least with JSON you can paste it anywhere (Excel?) and use it there.</p>

<p>Of course, I could add a nice table followed by raw JSON as well… But “raw JSON” is much better so I did that first.</p>

<p>Other SolidFire objects and APIs:</p>

<ul>
  <li>Gateway APIs for QoS objects are limited (List (Get) in the UI, with Modify (or Put, as Swagger calls it) and Delete in the Gateway API but not the UI/Extension, as that should be done by SolidFire admins and they don’t need an API gateway for that). Generic/custom QoS is <em>banned</em>. I’m not going to implement it, ever! Need a fancy QoS policy? Talk to the SolidFire admin!</li>
  <li>There’s no DeleteVolume and CloneVolume (similar reasons) and absolutely no PurgeVolume exposed to to Extension users, while for API gateway it’s implemented (also can be account/tenant-scoped)</li>
  <li>There’s no Accounts object at all. No one <em>using</em> SolidFire from WAC has any business dealing with tenant accounts. It can and should be done in a separate view for SolidFire and Domain Admins. Personally I’d prefer to not even have it (which is why it hasn’t been implemented) - it’s a rarely used feature (create account, delete account, change password) that shouldn’t be exposed in this extension, in my opinion.</li>
</ul>

<p>As you can see from the Swagger screenshot and the list above, I didn’t want to expose much to WAC Users, because it increases attack surface. Exposing too much also “undoes” the simplification and makes it hard to follow the best practices (as I see them).</p>

<p>I view this as a way to achieve departmental and user RBAC/ABAC, not as a way to make fancy APIs for DevOps people (who should continue using the native API - and they know how to make own API gateways, too).</p>

<p>But the API Gateway will be open-sourced, so whatever you want will be possible…</p>

<h2 id="and-now">And now…</h2>

<p>SolidFire Extension for Windows Admin center!</p>

<p><img src="/assets/images/solidfire-wac-extension-24-solidfire-wac-extension-overlaid.png" alt="SolidFire Extension for Windows Admin center" /></p>

<p>That was a joke, sorry!</p>

<p>I overlaid a browser with WAC SolidFire Extension over WAC for this same system…</p>

<p>But that’s how it’d look like when packaged and then imported this extension to WAC. Its appearance would be slightly improved and some fancy HTML stuff could be added, but it already looks “WAC-like” because WAC Dev SDK is used to create extensions.</p>

<p>This is the real WAC on this development system (the lower window from screenshot above).</p>

<p><img src="/assets/images/solidfire-wac-extension-25-wac-storage-example.png" alt="WAC on this system" /></p>

<h2 id="conclusion">Conclusion</h2>

<p>Work on SolidFire WAC gateway and extension is probably one of the most fulfilling experiences I’ve had working with SolidFire, because I was able to find solutions for a bunch of problems in a single PoC.</p>

<p>And not only that: I’d always known they were solvable but I didn’t have a proof. Year in and year out, I was told it was difficult and complicated. Well, now we all know that it wasn’t.</p>

<p>So… when I’m going to release this? Never.</p>

<p>I wanted to do it, but here’s why I won’t: Microsoft doesn’t give a crap about WAC. Check the SDK updates in the right-most column: yep, 0 updates in 4 years.</p>

<p><img src="/assets/images/solidfire-wac-extension-26-wac-github.png" alt="WAC SDK is derelict" /></p>

<p>These how happy WAC SDK developers are (from <a href="https://github.com/microsoft/windows-admin-center-sdk/issues">WAC SDK issues</a>): “stuff doesn’t work at all” issues reported between 2020 and 2023 (by that time everyone gave up) are still open.</p>

<p><img src="/assets/images/solidfire-wac-extension-27-wac-nightmare.png" alt="WAC SDK issues" /></p>

<p>As I almost finished SolidFire WAC Gateway and SolidFire WAC Extension (to the extent you can see in the screenshots) and was about to start testing and improving the look of SolidFire Extension inside of WAC itself, I realized there’s no reason to bother with that.</p>

<p>This is the same conclusion I reached when looking at <a href="/2025/06/24/initial-exploration-solidfire-proxmox-plugin.html">Proxmox</a> last month.</p>

<p>Packaging and integration for WAC are a <em>nightmare</em>. After I spent a ton of time I got to the point where I could load the extension, but still had to deal with a bunch of WAC bugs, missing documentation, shitty logging, then the old Angular/NodeJS (LTS 16 - LOL!) bugs, etc. WTF… It takes more more to integrate and package than to develop!</p>

<p>Incredibly, Microsoft ships WAC in Windows Server 2025. It’s hard to believe that is a current product. But, when I look at the list of available extensions, it’s clear people no longer bother - there’s just a handful of them, most developed years ago. If SolidFire got its on in time (2018-2019), we’d probably still have it as most older extensions can work in WAC’s “legacy mode”.</p>

<p>Anyway, Microsoft partially let let me down (ASP.NET good, IIS so-so, WAC bad) so here’s what I plan to do:</p>

<ul>
  <li>Release SolidFire WAC API gateway code - so that anyone can improve it and use it if they will (and I’ll use it as well), and it can also help those who want to build a WAC Extension for SolidFire</li>
  <li><em>Not</em> release SolidFire WAC Extension - I’d have to spend some extra time to improve it, but integration and packaging is a freaking nightmare while more pleasant work awaits</li>
  <li>Build a CLI tool for Windows with SolidFire to make use SolidFire WAC Gateway</li>
</ul>

<p>At the top I said one of the key points is that any client can use the WAC gateway, not just some extension running in Windows Admin Center.</p>

<p>When I looked at Proxmox, I gave up on building a plugin, but I built my own console tool (<a href="/2025/07/07/firemox.html">Firemox</a>) that is a native SolidFire API client.</p>

<p>Here, though, I’ve built a SolidFire API gateway which I think adds value (at least to me personally) and I think it’d be well worth - for Windows-focused users - to deliberately “restrict” a Firemox-like console tool to this “crippled” API gateway.</p>

<p>Yes, that kind of console would “force” you to run my API gateway, but it gives you RBAC and other goodies that don’t require anything that Windows users don’t already have: Active Directory Service, Windows Authentication, IIS.</p>

<p>Anyone who doesn’t see value in that can modify Firemox for Hyper-V, so that’s possible as well. Or you can embark on your own adventure with <a href="/2025/06/29/solidfire-with-powershell-7.html">SolidFire Tools for PowerShell</a>.</p>

<p>If someone out there wants to build a SolidFire Extension for WAC with the SolidFire API gateway, let me know on X (@scaleoutSean) if you need help. Otherwise just grab the API gateway code on Github (should release it within a week, I hope) and use it as you wish.</p>

<h2 id="appendix-a-demo">Appendix A: demo</h2>

<h3 id="animated-gif-no-playback-control">Animated GIF (no playback control)</h3>

<p>You may open it in a new tab - native resolution is quite good.</p>

<p>It shows SolidFire WAC Gateway/App, API Gateway’s Swagger, my dev setup for SolidFire Extension (reverse proxy with WAC SDK) and the Extension UI.</p>

<p><img src="/assets/images/solidfire-wac-extension-26-demo.gif" alt="SolidFire Extension demo" /></p>

<h3 id="video-demo-with-voice-over">Video demo with voice-over</h3>

<p>TODO</p>

      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#automation">automation</a>
      &nbsp; 
    
      <a href="
      /categories/#solidfire">solidfire</a>
       
    
  </span>
</div>
    

  
    <div>
      <h3>Related Posts</h3>
      <ul>
      
        <li><a href="/2025/07/26/solidfire-windows-admin-center-gateway.html">SolidFire Gateway for Windows Admin Center 2025</a></li>
      
        <li><a href="/2024/04/01/windows-server-2025-with-solidfire-part-three-hyper-v.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI Part Three</a></li>
      
        <li><a href="/2024/04/01/windows-server-2025-with-solidfire-part-two-sql-server-2022.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI Part Two</a></li>
      
        <li><a href="/2024/03/31/windows-server-2025-with-solidfire-part-one.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI</a></li>
      
        <li><a href="/2024/08/28/convert-netapp-hci-from-vmware-to-hyperv.html">Convert NetApp HCI from VMware to Hyper-V</a></li>
      
      </ul>
    </div>
  

    
  </div><footer class= "footer">
    <p>2025-07-30 18:35 </p>
    <p>Copyright © 2025 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
