<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            SolidFire Gateway for Windows Admin Center 2025 | Acting Technologist
      
    </title>
    <meta name="description" content="
     SolidFire behind ASP-NET app server
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>SolidFire Gateway for Windows Admin Center 2025 | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="SolidFire Gateway for Windows Admin Center 2025" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SolidFire behind ASP-NET app server" />
<meta property="og:description" content="SolidFire behind ASP-NET app server" />
<link rel="canonical" href="https://scaleoutsean.github.io/2025/07/26/solidfire-windows-admin-center-gateway.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2025/07/26/solidfire-windows-admin-center-gateway.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:image" content="https://scaleoutsean.github.io/assets/images/dumb-and-dumber-extra-pair-of-gloves.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-07-26T00:00:00+08:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"scaleoutSean"},"description":"SolidFire behind ASP-NET app server","@type":"BlogPosting","headline":"SolidFire Gateway for Windows Admin Center 2025","dateModified":"2025-07-26T00:00:00+08:00","datePublished":"2025-07-26T00:00:00+08:00","image":"https://scaleoutsean.github.io/assets/images/dumb-and-dumber-extra-pair-of-gloves.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2025/07/26/solidfire-windows-admin-center-gateway.html"},"url":"https://scaleoutsean.github.io/2025/07/26/solidfire-windows-admin-center-gateway.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">SolidFire Gateway for Windows Admin Center 2025</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>26 Jul 2025</span> - <i class="far fa-clock"></i> 


  
  
    5 minute read
  

    </span>
  </div>
  
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#what-it-is">What it is</a></li>
  <li><a href="#what-it-does">What it does</a></li>
  <li><a href="#iis-setup">IIS Setup</a></li>
  <li><a href="#why-this-matters">Why this matters</a></li>
  <li><a href="#what-about-it">What about it?</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>Yet another “extra gloves” flashback today.</p>

<p><img src="/assets/images/dumb-and-dumber-extra-pair-of-gloves.jpg" alt="Dumb &amp; Dumber" /></p>

<p>I won’t say who I think “Dumber” is, but I have a very accurate list of suspects.</p>

<h2 id="what-it-is">What it is</h2>

<p>SolidFire WAC Gateway is an API gateway for Windows Admin Center.</p>

<p>It essentially acts as a smart proxy to your SolidFire API endpoint also known as MVIP.</p>

<p>Remember HCC from NetApp HCI? This is like HCC, but probably better.</p>

<p>It’s about (1) in this diagram below, and a little bit about the why of it - related to (2, (3) and (4). I’ll write another post about (2) and (3) later.</p>

<p><img src="/assets/images/solidfire-wac-api-gateway.png" alt="SolidFire WAC API Gateway" /></p>

<h2 id="what-it-does">What it does</h2>

<p>I already mentioned it acts as a proxy. That’s nothing special, I agree.</p>

<p>But it does a few other things and can do even more.</p>

<p>Here I use the gateway API to get to SolidFire API.</p>

<p><img src="/assets/images/solidfire-wac-01-static-cluster.png" alt="SolidFire Cluster Info" /></p>

<p>What’s so special here? Nothing special.</p>

<ul>
  <li>clusterinfo.html is served from static Web server without authentication</li>
  <li>I can show status of multiple SolidFire clusters and their details this way</li>
  <li>JavaScript reloads status every few minutes, so I get the same effect I did years ago <a href="/2023/01/17/automation-with-powershell-server.html">in this post</a></li>
</ul>

<p>Already a bit useful!</p>

<p>As an example, here’s a list of volumes owned by an account.</p>

<p><img src="/assets/images/solidfire-wac-02-static-volumes.png" alt="SolidFire List Volumes for Account" /></p>

<p>This is already interesting. Not because we can see volume info, but because:</p>

<ul>
  <li>SolidFire volume info is stripped of all the unnecessary details on SolidFire WAC Gateway</li>
  <li>Responses I get (in JavaScript) is just the useful and usable content we need to easily and quickly build nice clients</li>
</ul>

<p>Why is that useful?</p>

<p>Because this is a static server with JavaScript <strong>that calls the gateway’s API endpoint</strong>.</p>

<p>Because I can consume these RESTful responses natively from Windows.</p>

<p>Or PowerShell on Windows. Or even WAC.</p>

<p>And your API calls can always be IIS TLS 1.3 and use the most secure ciphers IIS has.</p>

<p>That’s what SolidFire WAC Gateway - with simple static Web server - can do for now. Additional objects (Accounts, etc.) and methods (especially those that you know as <code class="language-plaintext highlighter-rouge">New-</code> and <code class="language-plaintext highlighter-rouge">Modify-</code> PowerShell cmdlets from SolidFire Tools that <a href="/2025/06/29/solidfire-with-powershell-7.html">no longer work on PS 7</a>, by the way) can be added easily.</p>

<p>Is it starting to make sense now?</p>

<p>And - since I already view multiple clusters (one of which (<code class="language-plaintext highlighter-rouge">PROD</code>) is down, as you can see in the screenshots) - that also means I may be able to add actions that instruct SolidFire clusters fail-over from A to B by promoting one of them to “active”. Isn’t that interesting?</p>

<p>One issue with this setup is this is a static server with JavaScript and I have no authentication and authorization. It’s JavaScript-to-API gateway.</p>

<p>But the gateway (application) can run on IIS Server. And then we can put some safeguards in place to use this from authenticated and authorized clients.</p>

<p>But it can be tricky. Took me three hours to get this to work (2 hours with Kestrel, 1 with IIS).</p>

<h2 id="iis-setup">IIS Setup</h2>

<p>For Windows authorization to work, SolidFire WAC gateway must be deployed on a secure site (TLS, FQDN).</p>

<p><img src="/assets/images/solidfire-wac-03-wac-gateway-app.png" alt="SolidFire WAC GW at https://win25:5000" /></p>

<p>The gateway application should be set to “No Managed Code”.</p>

<p><img src="/assets/images/solidfire-wac-04-wac-application-server.png" alt="SolidFire WAC Application" /></p>

<p>I had major problems getting this non-default site to work. Anonymous and Windows authentication both had to be enabled on IIS server core configuration, which overrode the first (and wrong) default value.</p>

<p><img src="/assets/images/solidfire-wac-06-iis-site-allow-anonymous-and-windows-auth.png" alt="IIS - couldn't disable Anonymous Disabled" /></p>

<p>This IIS part isn’t related to some special SolidFire WAC Gateway feature. It’s just an IIS thing - how it has to be set up for Windows authentication to work.</p>

<p>I hope you can do it out of the box without fiddling, but if you can’t, then the gateway won’t work either. It’s HTTPS-only and ABAC is enabled by default. If you disable it, then anyone with access to gateway can access the upstream SolidFire APIs and wipe everything, which is why we don’t want to disable HTTPS and ABAC.</p>

<h2 id="why-this-matters">Why this matters</h2>

<p>Once IIS works as it’s supposed to work with ASP NET applications that have Windows authentication enabled, SolidFire WAC Gateway works like this:</p>

<ul>
  <li>Non-authenticated or unauthorized users can’t access gateway’s API</li>
  <li>Windows AD user who is a member of one of white-listed AD groups can access gateway’s API endpoint</li>
</ul>

<p><img src="/assets/images/solidfire-wac-07-solidfire-wac-rbac-abac.png" alt="RBAC/ABAC" /></p>

<p>Related to RBAC, I’ve revisited this in the context of Linux a number of times, e.g. in <a href="/2023/12/07/solidfire-rbac-for-json-rpc-api.html">RBAC and delegation for SolidFire JSON-RPC API with Lua</a>.</p>

<p>In the context of Windows, the “static PowerShell server” post from early 2023 <a href="/2023/01/17/automation-with-powershell-server.html#provide-rbac-to-powershell-automation">gave me the idea</a> (“provide RBAC to PowerShell automation”) and I knew it wasn’t difficult. Heck, the page even has valid JSON-RPC examples.</p>

<p>But I’d never tried it on Windows until today and I’d never seen the path from there to Windows Admin Center.</p>

<p>Ages ago, when I last looked at Windows Admin Center, I couldn’t do much because TypeScript was too hard for me.</p>

<h2 id="what-about-it">What about it?</h2>

<ul>
  <li>What you’ve just seen is <a href="https://learn.microsoft.com/en-us/windows-server/manage/windows-admin-center/extend/develop-gateway-plugin">this step</a></li>
  <li><a href="https://learn.microsoft.com/en-us/windows-server/manage/windows-admin-center/extend/developing-extensions">Two additional steps</a> are needed to reach the goal (WAC-managed SolidFire clusters). This includes the annoying TypeScript part, but now I no longer have to massage API output because it’s trimmed down</li>
</ul>

<p>Once the remaining steps will have been finished, I’ll be able to have ABAC for storage operations down to SolidFire volume level.</p>

<p>I’ll be able to provision CSVs on Hyper-V clusters with 3-4 clicks.</p>

<p>I’ll be able to fail over one SolidFire cluster to another in seconds.</p>

<p>I’ll have nice li’l charts with all relevant SolidFire storage details.</p>

<p>Oh, and how about granular action authorizations down to volume level?</p>

<p>Everything that we should have had ages years ago. That’s the goal and I’m ~40% done.</p>

<h2 id="conclusion">Conclusion</h2>

<p>So the second pair of gloves has been there all this time (and this reminds me of the S3 vector indexing blog post from the other day).</p>

<p>“Who could have known?”</p>

<p>Right.</p>

<p>Well, this works on latest &amp; greatest Windows Server 2025 which <a href="/2025/05/22/windows-2025-netapp-solidfire.html">should work fine</a> with SolidFire.</p>

<p>The source code for SolidFire Windows Admin Center Gateway will be posted to Github when I tidy up the code and complete the documents. After that, I hope we can finish the additional steps (SolidFire WAC Tools/Extension) and then add additional functions - that should be easy based on the existing two examples with cluster information and volumes methods.</p>

<p>Something speculative for the end: could this gateway be used to manage SolidFire attached to Azure Local clusters using Windows Admin Center in Azure? That’s quite possibly another pair of gloves in hiding.</p>

      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#automation">automation</a>
      &nbsp; 
    
      <a href="
      /categories/#solidfire">solidfire</a>
       
    
  </span>
</div>
    

  
    <div>
      <h3>Related Posts</h3>
      <ul>
      
        <li><a href="/2025/07/30/solidfire-windows-admin-center-extension.html">SolidFire Extension for Windows Admin Center 2025</a></li>
      
        <li><a href="/2024/04/01/windows-server-2025-with-solidfire-part-three-hyper-v.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI Part Three</a></li>
      
        <li><a href="/2024/04/01/windows-server-2025-with-solidfire-part-two-sql-server-2022.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI Part Two</a></li>
      
        <li><a href="/2024/03/31/windows-server-2025-with-solidfire-part-one.html">Windows Server 2025 with NetApp SolidFire 12 iSCSI</a></li>
      
        <li><a href="/2024/08/28/convert-netapp-hci-from-vmware-to-hyperv.html">Convert NetApp HCI from VMware to Hyper-V</a></li>
      
      </ul>
    </div>
  

    
  </div><footer class= "footer">
    <p>2025-08-11 20:02 </p>
    <p>Copyright © 2025 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
