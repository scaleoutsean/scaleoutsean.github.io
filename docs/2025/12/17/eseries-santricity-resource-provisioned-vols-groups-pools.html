<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Resource Provisioning on E-Series SANtricity | Acting Technologist</title>
<meta name="description" content="To resource-provision or not?">


  <meta name="author" content="Sean">
  
  <meta property="article:author" content="Sean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="Resource Provisioning on E-Series SANtricity">
<meta property="og:url" content="https://scaleoutsean.github.io/2025/12/17/eseries-santricity-resource-provisioned-vols-groups-pools.html">


  <meta property="og:description" content="To resource-provision or not?">



  <meta property="og:image" content="https://scaleoutsean.github.io/assets/images/eseries-santricity-resource-provisioned-01-dg-dpp.png">



  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="Resource Provisioning on E-Series SANtricity">
  <meta name="twitter:description" content="To resource-provision or not?">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2025/12/17/eseries-santricity-resource-provisioned-vols-groups-pools.html">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://scaleoutsean.github.io/assets/images/eseries-santricity-resource-provisioned-01-dg-dpp.png">
  

  



  <meta property="article:published_time" content="2025-12-17T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2025/12/17/eseries-santricity-resource-provisioned-vols-groups-pools.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Resource Provisioning on E-Series SANtricity">
    <meta itemprop="description" content="About resource provsioned volumes and groups/pools">
    <meta itemprop="datePublished" content="2025-12-17T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2025/12/17/eseries-santricity-resource-provisioned-vols-groups-pools.html" itemprop="url">Resource Provisioning on E-Series SANtricity
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-12-17T00:00:00+08:00">2025-12-17 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#introduction">Introduction</a></li><li><a href="#hosts">Hosts</a></li><li><a href="#how-much-does-it-cost">How much does it cost?</a></li><li><a href="#what-if">What if…</a></li><li><a href="#summary">Summary</a></li></ul>
            </nav>
          </aside>
        
        <h2 id="introduction">Introduction</h2>

<p>What the heck is "resource provisioning" (or RP, for short) on SANtricity?</p>

<p>From <a href="https://docs.netapp.com/us-en/e-series-santricity/sm-storage/faq-pools-volume-groups.html#what-is-resource-provisioning-capable">the documentation</a>:</p>

<blockquote>
  <p>Resource Provisioning is a feature available in the EF300 and EF600 storage arrays, which allows volumes to be put in use immediately with no background initialization process.</p>
</blockquote>

<p>This doesn't mean that non-RP volumes are allocated before a volume is available - it's just that their allocation happens on-demand. See <a href="/2021/07/06/e-series-ddp-expansion-and-rebalancing.html">this post</a> about background allocation with non-RP volumes: it shows how non-RP volumes are available right away, but all stripes are pre-emptively initialized in the background.</p>

<p>Here's how it looks like when RP is enabled on a group or pool (with supported flash media):</p>

<p><img src="/assets/images/eseries-santricity-resource-provisioned-01-dg-dpp.png" alt="Resource Provisioned DDP in action" /></p>

<p>Let's check out some other, more or less obvious details.</p>

<h2 id="hosts">Hosts</h2>

<p>RP is seemingly unrelated to what hosts (storage clients) do, but that's not correct. From the documentation link above:</p>

<blockquote>
  <p>In addition, hosts can deallocate logical blocks in the volume using the NVMe Dataset Management command or the SCSI Unmap command.</p>
</blockquote>

<p>Additionally, unused space in RP volumes can be "deallocated" by hosts' <code class="language-plaintext highlighter-rouge">unmap</code> (iSCSI) or NVMe Dataset Management (NVMe) commands. This then makes empty stripes accessible for wear levelling (see about under-provisioning) which is helpful if you cut corners and don't <a href="/2023/01/17/eseries-ssd-overprovisioning.html">under-provision</a> enough.</p>

<h2 id="how-much-does-it-cost">How much does it cost?</h2>

<p>RP isn't free. The NetApp <a href="https://www.netapp.com/media/17009-tr4800.pdf">TR-4800</a> discussess these on page 15 (in current version).</p>

<p>From the TR:</p>

<blockquote>
  <p>A resource-provisioned volume is a thick volume in an SSD volume group or pool where drive capacity is allocated (assigned to the volume) when the volume is created, but the drive blocks are deallocated (unmapped).</p>
</blockquote>

<p>So there you have it. If you give someone a 10TB volume, they may whine about "slower than expected" performance.</p>

<p>The EF[3,6]00 arrays don't support Thin Provisioning, which means a DG (I prefer Disk Group over Volume Group, as a volume group can have no volumes or just one volume, but always has more than one disk so it is in fact considered a <em>group</em>) or pool can't gradually allocate drive blocks on demand. It's an all (non-RP, in background) or nothing (RP allocation-on-demand) approach to initial disk space allocation at creation.</p>

<p>The user doesn't have to wait either way, but there are trade-offs. From the TR:</p>

<blockquote>
  <p>For random write workloads, the first write to each stripe has higher latency because the partial stripe writes are turned into a full-stripe operation.</p>
</blockquote>

<p><img src="/assets/images/eseries-santricity-resource-provisioned-02-volume.png" alt="Resource Provisioned Volume in action" /></p>

<p>Roughly speaking:</p>
<ul>
  <li>if you like "super-consistent" performance, disable RP on a volume and suffer a bit until blocks are allocated in background</li>
  <li>if you didn't under-provision enough and have &gt;1 DWPD and/or don't mind the slight loss of performance on initial writes to a stripe, enable RP
    <ul>
      <li>if you additionally enable <code class="language-plaintext highlighter-rouge">unmap</code> or its NVMe equivalent, the RP allocation will happen regularly on repated allocation of unmapped volume regions (and physical disk regions RAID or DDP writes to)</li>
    </ul>
  </li>
</ul>

<p>A semi-extreme database example:</p>

<ul>
  <li>Enable RP on the pool to be able to use RP (default with SSDs in EF600/EF300)</li>
  <li>Enable RP on table volumes - just-in-time allocation is fine here</li>
  <li>Enable RP on index volumes - more or less the same as with tables</li>
  <li>Disable RP on log volumes - avoid slower first write</li>
  <li>Enable RP on dump volume - here writes are sequential and infrequent</li>
</ul>

<p>In the extreme case, you'd disable RP on all DB volumes. Probably 90% of all database users could leave it enabled across the board.</p>

<h2 id="what-if">What if…</h2>

<p>This stuff isn't exposed (or at least not obviously) in the Web UI, so here are some common ideas and recipes for the other other UI (Swagger).</p>

<p><strong>… you want a mix of Resource Provision enabled and disabled volumes</strong> in a DG/DDP, then the DG/DDP must be Resource Provisioned. You then must individually disable Resource Provisioning on the volumes that shouldn't use it. This is done by setting the <code class="language-plaintext highlighter-rouge">hostUnmapEnabled=False</code> (<code class="language-plaintext highlighter-rouge">POST /storage-systems/{system-id}/volumes/{volume-id}</code>).</p>

<p><strong>… you want all the volumes in a VG/DPP have Resource Provisioning disabled</strong>, then Resource Provisioning should be disabled at that level (<code class="language-plaintext highlighter-rouge">POST to /storage-systems/{system-id}/storage-pools/{storage-pool-id}/full-provisioning-format</code> and set the <code class="language-plaintext highlighter-rouge">disableDulbe=True</code> to prevent auto-RPing. After this is done, the DP/VG, all existing volumes in the DP/VG, and newly created volumes in the DP/VG will have Resource Provisioning disabled.</p>

<p><strong>… the VG/DPP has not been created and you only want volumes without Resource Provisioning on it</strong>, disable Resource Provisioning for with <code class="language-plaintext highlighter-rouge">POST /storage-systems/{system-id}/settings</code> - set <code class="language-plaintext highlighter-rouge">enableResourceProvisionedVolumes=False</code>. DP/VG created <em>after</em> this setting is changed will have Resource Provisioning disabled as will all volumes created in them. This field will not affect existing volumes or DP/VG or new volumes created on existing DP/VG.</p>

<h2 id="summary">Summary</h2>

<p>(The confusingly named) Resource Provisioning eliminates the initial background churn after provisioning, but user pays for it through slower performance on first random write to each yet-to-be-allocated-on-disk (or de-alocated) stripe. RP has benefits benefits for flash media (wear leveling), so it is recommended to keep it enabled unless you absolutely need random writes to run at full speed on Day 2 and beyond.</p>

<p>RP management is easier to do in the API. The API for RP isn't very intuitive (there are multiple endpoints, inconsistent keys), but if you find it in one place (such as a blog post), it makes sense.</p>

<p>The RP "penalty" isn't high and may not be apparent to most users. It is observable in repated consecutive runs of <code class="language-plaintext highlighter-rouge">fio</code> (random write and re-write) on a new volume, for example, but to 99% of users waits for background churn will be more obvious than the slightly slower performance of freshly created RP volumes or nightly unmap runs.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/e-series" class="page__taxonomy-item p-category" rel="tag">e-series</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/tags/santricity" class="page__taxonomy-item p-category" rel="tag">santricity</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-12-17T00:00:00+08:00">2025-12-17 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=Resource+Provisioning+on+E-Series+SANtricity%20https%3A%2F%2Fscaleoutsean.github.io%2F2025%2F12%2F17%2Feseries-santricity-resource-provisioned-vols-groups-pools.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2025/12/17/eseries-santricity-resource-provisioned-vols-groups-pools.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2025/12/05/eseries-santricity-lockout.html" class="pagination--pager" title="E-Series SANtricity Web UI lockout">Previous</a>
    
    
      <a href="/2025/12/22/kinetica-with-netapp-eseries.html" class="pagination--pager" title="Kinetica with NetApp E-Series">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/21/eseries-performance-analyzer-v353.html" rel="permalink">NetApp E-Series Performance Analyzer v3.5.3
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-21T00:00:00+08:00">2026-01-21 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">About new Prometheus metrics and PiT volume performance
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/20/kubernetes-netapp-eseries-santricity-csi.html" rel="permalink">Kubernetes with NetApp E-Series SANtricity
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-20T00:00:00+08:00">2026-01-20 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">CSI drivers you can use with NetApp E-Series arrays
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/19/netapp-eseries-santricity-csi.html" rel="permalink">NetApp E-Series SANtricity CSI
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-19T00:00:00+08:00">2026-01-19 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          11 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Community CSI driver for NetApp E-Series arrays: what it is and what it does
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/16/santricity-eseries-datalake-storage.html" rel="permalink">Big Data &amp; analytics patterns for NetApp object &amp; block
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-16T00:00:00+08:00">2026-01-16 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2026 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
