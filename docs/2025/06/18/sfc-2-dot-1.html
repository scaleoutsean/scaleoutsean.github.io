<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            SFC (SolidFire Collector) 2.1 | Acting Technologist
      
    </title>
    <meta name="description" content="
     What's new in SolidFire Collector 2.1
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>SFC (SolidFire Collector) 2.1 | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="SFC (SolidFire Collector) 2.1" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="What’s new in SolidFire Collector 2.1" />
<meta property="og:description" content="What’s new in SolidFire Collector 2.1" />
<link rel="canonical" href="https://scaleoutsean.github.io/2025/06/18/sfc-2-dot-1.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2025/06/18/sfc-2-dot-1.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:image" content="https://scaleoutsean.github.io/assets/images/sfc-2.1.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-06-18T00:00:00+08:00" />
<script type="application/ld+json">
{"image":"https://scaleoutsean.github.io/assets/images/sfc-2.1.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2025/06/18/sfc-2-dot-1.html"},"author":{"@type":"Person","name":"scaleoutSean"},"description":"What’s new in SolidFire Collector 2.1","@type":"BlogPosting","url":"https://scaleoutsean.github.io/2025/06/18/sfc-2-dot-1.html","headline":"SFC (SolidFire Collector) 2.1","dateModified":"2025-06-18T00:00:00+08:00","datePublished":"2025-06-18T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">SFC (SolidFire Collector) 2.1</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>18 Jun 2025</span> - <i class="far fa-clock"></i> 


  
  
    3 minute read
  

    </span>
  </div>
  
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#sfc-21">SFC 2.1</a></li>
  <li><a href="#queries">Queries</a></li>
  <li><a href="#summary">Summary</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>tldr;</p>

<ul>
  <li>My SolidFire metrics collector, SFC, was posted to Github <a href="/2024/05/29/sfc-v2.html">last year</a>. v2 was a complete rewrite; I changed back-end to InfluxDB 1, made performance improvements so that it could scale to mid-sized clusters (or better), and eliminated SolidFire SDK</li>
  <li>As I’ve blogged at the time, before, and after, I liked InfluxDB 1 (didn’t want to touch version 2 with its weird SQL dialect). InfluxDB 1 was old-ish, but we already knew (from Influx Data cloud features) that version 3 was going to be great</li>
</ul>

<p>Things turned out just as expected (if not better) as I wrote <a href="/2025/01/24/influxdb-3-core-alpha.html">here in a post on InfluxDB 3 Alpha</a> back in January.</p>

<p>I’d been busy and didn’t find time to work on it (the other reason being I’ve never heard of a single person who uses the damn thing), but this month InfluxDB released 3.1 and 3.2 is well on its way.</p>

<p>With 3.2 (supposedly later this month) we may also get retention and down-sampling (which I didn’t even try to implement in SFC v2.0 because in InfluxDB 1, it wasn’t developer- or user-friendly at all).</p>

<p>With InfluxDB 3.2 coming there isn’t much else to wait on:</p>

<ul>
  <li>Excellent performance - available in 3.0</li>
  <li>Excellent storage efficiency - available in 3.0</li>
  <li>S3 tiering - available in 3.0</li>
  <li>Good developer tools and docs - available in 3.1</li>
  <li>Official UI - available in 3.1 (I haven’t used it, but it’s a great new improvement for users who like the UI)</li>
  <li>Retention management - 3.2 (?)</li>
  <li>RBAC - 3.2 (?) - not really necessary in SFC, but it would enable multi-tenancy for SolidFire users with many clusters</li>
</ul>

<p>So I’ve started working on updating SFC for Influx DB 3.</p>

<h2 id="sfc-21">SFC 2.1</h2>

<p>The SFC v2.0.0 post has (slightly) better screenshots, as does the Github repository, but the point is: SFC is storing metrics in InfluxDB 3.</p>

<p><img src="/assets/images/sfc-2.1.png" alt="SFC 2.1" /></p>

<p>Completed:</p>

<ul>
  <li>InfluxDB 1 replaced by InfluxDB 3 Core</li>
  <li>Tested with Grafana v12.0</li>
  <li>Better error handling (hopefully - I don’t do tests)</li>
  <li>Documentation updates including a list of InfluxDB measurement fields and keys</li>
</ul>

<p>To-do items:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Dockerfile</code> updates and testing</li>
</ul>

<p>Once I’m done with <code class="language-plaintext highlighter-rouge">Dockerfile</code> I’ll post the code to <a href="https://github.com/scaleoutsean/sfc">the Github repo</a>.</p>

<p>When 2.0 was released I thought about doing more with Kubernetes and whatnot, but as I’ve said above - I’ve never gotten any feedback or help, so I assume no one uses SFC in Kubernetes, or existing <code class="language-plaintext highlighter-rouge">Dockerfile</code> and README.md are enough.</p>

<h2 id="queries">Queries</h2>

<p>Even if you don’t use Grafana, you can use SFC for reporting. For example, to get latest storage deduplication ratio for user “sean”:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>influxdb3 query <span class="nt">-d</span> sfc <span class="se">\</span>
    <span class="s1">'SELECT name, deduplication, time \
    FROM account_efficiency ORDER BY time DESC LIMIT 1'</span> <span class="se">\</span>
    <span class="nt">--host</span> https://192.168.1.146:8181

</code></pre></div></div>

<p>Result:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+------+---------------+-------------------------------+
| name | deduplication | <span class="nb">time</span>                          |
+------+---------------+-------------------------------+
| sean | 1.9           | 2025-06-18T06:09:04.957405167 |
+------+---------------+-------------------------------+
</code></pre></div></div>

<p>Alternatively, get a CSV report for use in Excel, for example.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>influxdb3 query <span class="nt">-d</span> sfc <span class="nt">--format</span> csv <span class="se">\</span>
    <span class="s2">"SELECT time, deduplication </span><span class="se">\</span><span class="s2">
    FROM account_efficiency </span><span class="se">\</span><span class="s2">
    WHERE name='sean' ORDER BY time ASC"</span>
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">time</span>,deduplication
2025-06-17T12:13:29.952463962,1.9
2025-06-17T13:13:29.961647635,1.9
2025-06-17T14:13:29.958100991,1.9
2025-06-17T15:13:29.959858844,1.9
2025-06-17T19:09:04.952439641,1.9
2025-06-17T20:09:04.955352015,1.9
2025-06-17T21:09:04.949941921,1.9
2025-06-17T22:09:04.948299784,1.9
2025-06-17T23:09:04.952727462,1.9
2025-06-18T00:09:04.954448577,1.9
2025-06-18T01:09:04.949649938,1.9
2025-06-18T02:09:04.959137501,1.9
2025-06-18T03:09:04.959599778,1.9
2025-06-18T04:09:04.950650446,1.9
2025-06-18T05:09:04.947883764,1.9
2025-06-18T06:09:04.957405167,1.9
2025-06-18T07:09:04.954023409,1.9
</code></pre></div></div>

<p>Examples will be provided in documentation. In fact they’ve been available in existing SFC v2.0.0 documentation and one of the great things about InfluxDB 3 is the same InfluxQL from version 1 still works, so they’re already available.</p>

<h2 id="summary">Summary</h2>

<p>Folks who use SFC 2 and folks who didn’t use SFC 2 because of InfluxDB 1 was “old” can use SFC with InfluxDB 3 (which will likely outlive all SolidFire clusters out there).</p>

<p>With tiering to S3 available now and retention and down-sampling likely coming soon, SFC 2.1 with InfluxDB eliminates the need for manual pruning without increasing the cost or complexity.</p>

<p>I haven’t fully re-tested all of the SFC 2 features - for that, I’d need two SolidFire clusters with replication relationships, and I don’t get the impression anyone out there needs it, so if something “advanced” turns out to not work, if you use and need that - create a Github issue once SFC 2.1.0 gets posted.</p>


      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#solidfire">solidfire</a>
      &nbsp; 
    
      <a href="
      /categories/#storage">storage</a>
       
    
  </span>
</div>
    

  
    <div>
      <h3>Related Posts</h3>
      <ul>
      
        <li><a href="/2024/05/03/netapp-solidfire-collector-next.html">Towards next SolidFire Collector (SFC)</a></li>
      
        <li><a href="/2024/05/29/sfc-v2.html">SolidFire Collector v2.0.0 is ready</a></li>
      
        <li><a href="/2024/05/28/netapp-solidfire-volume-qos-histograms.html">Make use of storage QoS histograms on NetApp SolidFire</a></li>
      
        <li><a href="/2024/05/20/netapp-solidfire-input-for-telegraf.html">Use Telegraf to send NetApp SolidFire metrics to InfluxDB</a></li>
      
        <li><a href="/2024/04/24/netapp-solidfire-monitor-backup-influx-grafana-11.html">Metrics for NetApp SolidFire backup-to-S3 in InfluxDB and Grafana</a></li>
      
      </ul>
    </div>
  

    
  </div><footer class= "footer">
    <p>2025-07-09 01:54 </p>
    <p>Copyright © 2025 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
