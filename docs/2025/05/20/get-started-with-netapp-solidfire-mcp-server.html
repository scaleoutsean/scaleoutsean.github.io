<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            Build NetApp SolidFire MCP server | Acting Technologist
      
    </title>
    <meta name="description" content="
     Build your SolidFire MCP server in minutes
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Build NetApp SolidFire MCP server | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Build NetApp SolidFire MCP server" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en" />
<meta name="description" content="Build your SolidFire MCP server in minutes" />
<meta property="og:description" content="Build your SolidFire MCP server in minutes" />
<link rel="canonical" href="https://scaleoutsean.github.io/2025/05/20/get-started-with-netapp-solidfire-mcp-server.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2025/05/20/get-started-with-netapp-solidfire-mcp-server.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:image" content="https://scaleoutsean.github.io/assets/images/solidfire-mcp-01-get-started.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-05-20T00:00:00+08:00" />
<script type="application/ld+json">
{"image":"https://scaleoutsean.github.io/assets/images/solidfire-mcp-01-get-started.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2025/05/20/get-started-with-netapp-solidfire-mcp-server.html"},"author":{"@type":"Person","name":"scaleoutSean"},"description":"Build your SolidFire MCP server in minutes","@type":"BlogPosting","url":"https://scaleoutsean.github.io/2025/05/20/get-started-with-netapp-solidfire-mcp-server.html","headline":"Build NetApp SolidFire MCP server","dateModified":"2025-05-20T00:00:00+08:00","datePublished":"2025-05-20T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">Build NetApp SolidFire MCP server</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>20 May 2025</span> - <i class="far fa-clock"></i> 


  
  
    6 minute read
  

    </span>
  </div>
  
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#mcp">MCP</a></li>
  <li><a href="#use-cases">Use cases?</a></li>
  <li><a href="#get-set-and-security">Get, set, and security</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
  <li><a href="#additional-reading">Additional reading</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>I noticed some storage vendors have been highlighting their “commitment” to AI by posting about their MCP servers.</p>

<p>I’ve received zero queries about GenAI, AIOps and such in the context of SolidFire.</p>

<p>But:</p>

<ul>
  <li>I know SolidFire is fine for RAG AI in small and medium environments (IO requirements for those are mostly insignificant)</li>
  <li>Even after years of no updates, SolidFire is still better for AIOps and MCP-style integration than almost any mainstream storage out there</li>
</ul>

<p>Because of that, I hoped to find time to check it out.</p>

<h2 id="mcp">MCP</h2>

<p>So… How hard is it?</p>

<p>It’s laughably easy - with SolidFire.</p>

<p>First, get some MCP SDK. For example, <a href="https://github.com/modelcontextprotocol/python-sdk">for Python</a>. Note that SolidFire SDK for Python <a href="https://github.com/solidfire/solidfire-sdk-python/issues/67">doesn’t work</a> with Python 3.12 (what awesome sustaining!). I used Ubuntu 22.04 and Python 3.10, which worked. Maybe 3.11 is OK, but I haven’t tried. Python 3.9 is considered old, so don’t even try that one. You <em>don’t have to</em> use SolidFire SDK, you can use <code class="language-plaintext highlighter-rouge">requests</code> which is what I did in SFC 2, for example.</p>

<p>Second, copy the top section of some MCP server example to server.py.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># server.py
</span><span class="kn">from</span> <span class="n">mcp.server.fastmcp</span> <span class="kn">import</span> <span class="n">FastMCP</span>

<span class="c1"># Create an MCP server
</span><span class="n">mcp</span> <span class="o">=</span> <span class="nc">FastMCP</span><span class="p">(</span><span class="sh">"</span><span class="s">Demo</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>Third, add some SolidFire stuff to it.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@mcp.resource</span><span class="p">(</span><span class="sh">"</span><span class="s">volumes://{top}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_large_volumes</span><span class="p">(</span><span class="n">top</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Get top volumes by size (default: 5)</span><span class="sh">"""</span>
    <span class="c1"># don't use an admin account in production! Even read-only admins can get CHAP creds.
</span>    <span class="n">sfe</span> <span class="o">=</span> <span class="n">ElementFactory</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="sh">"</span><span class="s">192.168.1.30</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">admin</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">buggger-off-pentest-idiots</span><span class="sh">"</span><span class="p">,</span> <span class="n">print_ascii_art</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="sh">"</span><span class="s">12.5</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">common</span><span class="p">.</span><span class="nf">setLogLevel</span><span class="p">(</span><span class="n">logging</span><span class="p">.</span><span class="n">ERROR</span><span class="p">)</span>    
    <span class="n">volumes</span> <span class="o">=</span> <span class="p">(</span><span class="n">sfe</span><span class="p">.</span><span class="nf">list_volumes</span><span class="p">().</span><span class="nf">to_json</span><span class="p">())[</span><span class="sh">'</span><span class="s">volumes</span><span class="sh">'</span><span class="p">]</span>
    <span class="n">sorted_volumes</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">volumes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="sh">'</span><span class="s">totalSize</span><span class="sh">'</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">large_volumes</span> <span class="o">=</span> <span class="n">sorted_volumes</span><span class="p">[:</span><span class="n">top</span><span class="p">]</span>
    <span class="n">volume_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">volume</span> <span class="ow">in</span> <span class="n">large_volumes</span><span class="p">:</span>
        <span class="n">volume_list</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">:</span> <span class="n">volume</span><span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">],</span> <span class="sh">'</span><span class="s">totalSize</span><span class="sh">'</span><span class="p">:</span> <span class="n">volume</span><span class="p">[</span><span class="sh">'</span><span class="s">totalSize</span><span class="sh">'</span><span class="p">],</span> <span class="sh">'</span><span class="s">iqn</span><span class="sh">'</span><span class="p">:</span> <span class="n">volume</span><span class="p">[</span><span class="sh">'</span><span class="s">iqn</span><span class="sh">'</span><span class="p">]})</span>
    <span class="k">return</span> <span class="n">volume_list</span>
</code></pre></div></div>

<p>Take a break after this exhausting hackathon and then run your MCP server in dev mode like so:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mcp dev server.py
</code></pre></div></div>

<p>It will tell you something like “MCP Inspector is up and running at http://127.0.0.1:6274”.</p>

<p>Visit the page, find <code class="language-plaintext highlighter-rouge">get_large_volumes</code> under Resource Templates, pick that, enter some number for <code class="language-plaintext highlighter-rouge">top</code> value (e.g. 3, if you don’t have 5) and you should see something like this:</p>

<p><img src="/assets/images/solidfire-mcp-00-get-started.png" alt="SolidFire MCP Resource Template output" /></p>

<p>If you copy that, you’ll get full response onto your clipboard (I’ve inserted some extra line breaks for easier viewing):</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"volumes://3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mimeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/plain"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[</span><span class="se">\n</span><span class="s2">  
        {</span><span class="se">\n</span><span class="s2"> </span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">win2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\n</span><span class="s2">
            </span><span class="se">\"</span><span class="s2">totalSize</span><span class="se">\"</span><span class="s2">: 20000538624,</span><span class="se">\n</span><span class="s2">
            </span><span class="se">\"</span><span class="s2">iqn</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">iqn.2010-01.com.solidfire:wcwb.win2.135</span><span class="se">\"\n</span><span class="s2">  },</span><span class="se">\n</span><span class="s2"> 
        {</span><span class="se">\n</span><span class="s2"> </span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">syncJobTest</span><span class="se">\"</span><span class="s2">,</span><span class="se">\n</span><span class="s2">
            </span><span class="se">\"</span><span class="s2">totalSize</span><span class="se">\"</span><span class="s2">: 10737418240,</span><span class="se">\n</span><span class="s2">
            </span><span class="se">\"</span><span class="s2">iqn</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">iqn.2010-01.com.solidfire:wcwb.syncjobtest.172</span><span class="se">\"\n</span><span class="s2">  },</span><span class="se">\n</span><span class="s2">  
        {</span><span class="se">\n</span><span class="s2"> </span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">vol10g</span><span class="se">\"</span><span class="s2">,</span><span class="se">\n</span><span class="s2">    
            </span><span class="se">\"</span><span class="s2">totalSize</span><span class="se">\"</span><span class="s2">: 10000269312,</span><span class="se">\n</span><span class="s2">
            </span><span class="se">\"</span><span class="s2">iqn</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">iqn.2010-01.com.solidfire:wcwb.vol10g.167</span><span class="se">\"\n</span><span class="s2">  }
        </span><span class="se">\n</span><span class="s2">]"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Yeah, yeah, I could have shown GiB and/or some other details…</p>

<p>If you wonder why the UI looks like crap, that’s not the case. It’s just the dev Web server.</p>

<p><img src="/assets/images/solidfire-mcp-01-get-started.png" alt="SolidFire MCP in development mode" /></p>

<p>“Real-life” AI that uses SolidFire MCP server would be something like Claude Desktop or other front-ends.</p>

<p>I didn’t feel like subscribing (or installing) Claude Desktop or other software because the convenient dev Web server gives me everything I need to test.</p>

<h2 id="use-cases">Use cases?</h2>

<p>Are there any use cases for this stuff with SolidFire?</p>

<p>I think there are, mostly in AIOps.</p>

<p>If you’re still using SolidFire and have workflows that you haven’t been automated because it was too expensive or you didn’t want to invest in it, that would be one situation.</p>

<p>I picked IQN as one of volume properties included in “top N volumes” response because mapping volumes to Linux and Windows devices is one annoying area of server-storage automation.</p>

<p>That’s not hard to solve (examples can be found in <a href="https://github.com/scaleoutsean/solidfire-windows/tree/master/SolidFireDbaTools">SolidFire DBA Tools</a> for Windows or <a href="https://github.com/scaleoutsean/solidbackup">SolidBackup</a> for Linux and containers), but for <em>ad-hoc</em> experimentation and dev-test use, it’s probably faster to create workflows with MCP than create automation workflows that’s are enough to accomplish the same.</p>

<p>Another area of opportunity is the situation where information is easily available, but difficult to correlate. For example, having a pair of MCP servers - Kubernetes and SolidFire - one should be able to easily identify over-provisioned (in terms of capacity or performance) volumes and get the commands to patch/modify them which could be executed outside of AI context.</p>

<p>Another: most of <a href="https://www.netapp.com/bluexp/workload-factory/">BlueXP Workload Factory</a> features related to storage configuration could be done in AIOps with an SolidFire MCP server. If <a href="https://github.com/scaleoutsean/longhorny">Longhorny</a> was put behind an API, SolidFire replication, cluster fail-over and fail-back would all become “AI-ready” as well.</p>

<p>Some MCP servers out there are targeted at DevOps (rather than AIOps or “ChatOps”). One example I saw today is Hashicorp’s Terraform MCP server. It seems to just provide access to the Terraform documentation. In other words, it can help with DevOps, but won’t tell you anything about your Terraform environment. I don’t have this use case for SolidFire MCP server in mind because SolidFire APIs are very easy to use.</p>

<h2 id="get-set-and-security">Get, set, and security</h2>

<p>Getting large volumes doesn’t actually do anything for you. If you have <a href="/2024/05/29/sfc-v2.html">SFC</a> and Grafana, you can see top volumes in a Grafana dashboard on your own and inspect volumes faster than by interacting with an AI.</p>

<p>But an AI can also create API calls that modify existing resources (e.g. QoS) or create new ones.</p>

<p>We wouldn’t want to let MCP server be able to make changes. In fact (as mentioned in sample code), you must be careful even with MCPs that only use “GET” (or “LIST”) types of requests, because once they gain access there’s no additional authorization for “DELETE”.</p>

<p>In summary, I’d be very careful with “GET” and put the SolidFire API endpoint behind a <a href="/2023/12/07/solidfire-rbac-for-json-rpc-api.html">reverse proxy</a> or otherwise protect it. For “SET” type operations, DevTest environments are as far as I’d go. (See the MCP Security link at the bottom for a good overview by Cisco.)</p>

<h2 id="conclusion">Conclusion</h2>

<p>The SolidFire API is almost perfect, which is why it’s easy to create an MCP server for it.</p>

<p>Because the API is easy to use, most users already have proper automation workflows and probably don’t need ChatOps. Additionally, the security risks of MCP must not be underestimated.</p>

<p>I’d recommend MCP for DevTest environments where SolidFire automation doesn’t exist, but can be beneficial. That includes situations where iSCSI clients (Hyper-V, Windows, Proxmox, ESXi) no longer have officially supported methods of integrating with SolidFire.</p>

<p>And - who knows? - maybe it’s easier to use an AI with a SolidFire MCP server to get a SolidFire workflow done than using an AI on its own. One such example would be a native SolidFire Proxmox storage plugin - if you’re not a Perl guy, you’d probably get it done faster by creating a basic SolidFire MCP server in Python or TS first (something I’ve been thinking of lately), than struggling with Perl, even with AI’s help (when there’s no MCP to tell it how to call the SolidFire API).</p>

<p>Another example for this may be Kubernetes operators. I put together <a href="/2022/04/28/solidfire-operator-kubernetes.html">this minimal example</a> “before the age of AI”, but it may be much easier to create a more complete one with the help of an AI.</p>

<p>Another practical example: if I wanted to automate a VMware-SolidFire workflow, I may not be able to do that well without a VMware stack. But with vSphere and SolidFire MCP servers, I would probably be able to create a reasonable prototype if not functioning code.</p>

<h2 id="additional-reading">Additional reading</h2>

<ul>
  <li>If you’re curious about SolidFire MCP in the context of AIOps, check out <a href="https://medium.com/@native-cloud/mcp-the-aiops-game-changer-8408996b8a05">this post</a></li>
  <li><a href="https://medium.com/@rapidinnovation/mcp-server-101-use-cases-applications-to-know-ec4ce2e56b0f">MCP Server 101: Use Cases &amp; Applications To Know!</a></li>
  <li><a href="https://community.cisco.com/t5/security-blogs/ai-model-context-protocol-mcp-and-security/ba-p/5274394">AI Model Context Protocol (MCP) and Security</a></li>
</ul>


      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#storage">storage</a>
      &nbsp; 
    
      <a href="
      /categories/#ai">ai</a>
      &nbsp; 
    
      <a href="
      /categories/#solidfire">solidfire</a>
       
    
  </span>
</div>
    

  
    <div>
      <h3>Related Posts</h3>
      <ul>
      
        <li><a href="/2023/11/28/postgres-pgvector-instacluster-eseries.html">Postgres, pgvector, E-Series and Instaclustr</a></li>
      
        <li><a href="/2023/11/22/genai-with-netapp-solidfire.html">NetApp SolidFire with GenAI and inferencing workloads</a></li>
      
        <li><a href="/2025/06/05/simple-filesystem-and-s3-analytics-and-mcp.html">Simple file share and S3 analytics and MCP ops</a></li>
      
        <li><a href="/2025/05/23/beegfs-data-pipeline.html">Data pipelines with ThinParQ BeeGFS and NetApp E-Series</a></li>
      
        <li><a href="/2025/05/21/opean-ai-with-netapp-eseries.html">OPEA AI with NetApp E-Series</a></li>
      
      </ul>
    </div>
  

    
  </div><footer class= "footer">
    <p>2025-07-23 22:50 </p>
    <p>Copyright © 2025 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
