<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            InfluxDB 3 Core Alpha available for testing | Acting Technologist
      
    </title>
    <meta name="description" content="
     InfluxDB 3 Core is out for early testing
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>InfluxDB 3 Core Alpha available for testing | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="InfluxDB 3 Core Alpha available for testing" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="InfluxDB 3 Core is out for early testing" />
<meta property="og:description" content="InfluxDB 3 Core is out for early testing" />
<link rel="canonical" href="https://scaleoutsean.github.io/2025/01/24/influxdb-3-core-alpha.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2025/01/24/influxdb-3-core-alpha.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-01-24T00:00:00+08:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2025/01/24/influxdb-3-core-alpha.html"},"author":{"@type":"Person","name":"scaleoutSean"},"description":"InfluxDB 3 Core is out for early testing","@type":"BlogPosting","url":"https://scaleoutsean.github.io/2025/01/24/influxdb-3-core-alpha.html","headline":"InfluxDB 3 Core Alpha available for testing","dateModified":"2025-01-24T00:00:00+08:00","datePublished":"2025-01-24T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">InfluxDB 3 Core Alpha available for testing</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>24 Jan 2025</span> - <i class="far fa-clock"></i> 


  
  
    4 minute read
  

    </span>
  </div>
  
        <h2 id="introduction">Introduction</h2>

<p>When I forked E-Series Performance Analyzer (EPA), I didn’t want to waste time on InfluxDB 2 because that would also require a rework of front-end (Grafana dashboards) and I had a strong dislike for FluxQL.</p>

<p>Then when I rewrote SolidFire Collector (SFC) <a href="/2024/05/03/netapp-solidfire-collector-next.html">I noted I’d pick InfluxDB v1 so that SFC and EPA use the same back-end DB</a>.</p>

<p>The idea behind it all was that <strong>when</strong> InfluxDB 3 comes out - considering the intent to retain compatibility with version 1 - it shouldn’t be hard to upgrade and it’d be possible to completely avoid Flux.</p>

<p>That day <a href="https://www.influxdata.com/blog/influxdb3-open-source-public-alpha/">has come</a>.</p>

<h2 id="whats-backwards-compatible-and-whats-not-in-influxdb-3">What’s backwards compatible and what’s not in InfluxDB 3</h2>

<p>What’s compatible:</p>

<blockquote>
  <p>Support for InfluxDB 1.x and 2.x write APIs</p>
</blockquote>

<blockquote>
  <p>InfluxDB Line Protocol support</p>
</blockquote>

<blockquote>
  <p>InfluxQL query support (and the v1 query API)</p>
</blockquote>

<p>What won’t work is the addition of new tag columns after a table is created.</p>

<p>I don’t remember if EPA or SFC add new tag columns, but we’ll find out as we go.</p>

<h2 id="evaluate-with-e-series-performance-analyzer">Evaluate with E-Series Performance Analyzer</h2>

<p>Currently, InfluxDB 3 Core alpha version may be downloaded and installed to Docker or natively on OS. Choosing the latter is easier if we want to inspect data and just avoid hassle until we know more about it.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-O</span> https://www.influxdata.com/d/install_influxdb3.sh <span class="o">&amp;&amp;</span> sh install_influxdb3.sh
</code></pre></div></div>

<p>Create a database:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ influxdb3 create database epa
Database "epa" created successfully

$ influxdb3 show databases
+---------------+
| iox::database |
+---------------+
| epa           |
+---------------+

$ export INFLUXDB3_DATABASE_NAME="epa"
</code></pre></div></div>

<p>Now we’re set to use the new DB and can write to <code class="language-plaintext highlighter-rouge">epa</code>.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>influxdb3 write <span class="nt">-h</span>
Perform a <span class="nb">set </span>of writes to a running InfluxDB 3 Core server

Usage: influxdb3 write <span class="o">[</span>OPTIONS] <span class="nt">--database</span> &lt;DATABASE_NAME&gt; <span class="nt">--file</span> &lt;FILE_PATH&gt;

Options:
  <span class="nt">-H</span>, <span class="nt">--host</span> &lt;HOST_URL&gt;           The host URL of the running InfluxDB 3 Core server <span class="o">[</span><span class="nb">env</span>: <span class="nv">INFLUXDB3_HOST_URL</span><span class="o">=]</span> <span class="o">[</span>default: http://127.0.0.1:8181]
  <span class="nt">-d</span>, <span class="nt">--database</span> &lt;DATABASE_NAME&gt;  The name of the database to operate on <span class="o">[</span><span class="nb">env</span>: <span class="nv">INFLUXDB3_DATABASE_NAME</span><span class="o">=]</span>
      <span class="nt">--token</span> &lt;AUTH_TOKEN&gt;        The token <span class="k">for </span>authentication with the InfluxDB 3 Core server <span class="o">[</span><span class="nb">env</span>: <span class="nv">INFLUXDB3_AUTH_TOKEN</span><span class="o">=]</span>
  <span class="nt">-f</span>, <span class="nt">--file</span> &lt;FILE_PATH&gt;          File path to load the write data from
      <span class="nt">--accept-partial</span>            Flag to request the server accept partial writes
  <span class="nt">-h</span>, <span class="nt">--help</span>                      Print <span class="nb">help </span>information
</code></pre></div></div>

<p>At this point I’m stuck because I don’t have any sample EPA or SFC data that I could send!</p>

<p>I’d have to get access to E-Series or SolidFire to give EPA or SFC a try. I’ll update this post if/when I manage to get that done.</p>

<p>We need to test (and maybe modify) just two things:</p>

<ul>
  <li>if EPA and SFC add tags after database has been created and if yes, modify the code to avoid that</li>
  <li>if the Grafana dashboards from EPA have to be modified (probably not, since InfluxQL is mentioned as supported). SFC v2 does not have Grafana dashboards, but I do have all the <a href="https://github.com/scaleoutsean/sfc/blob/master/docs/dashboards.md">InfluxQL queries</a> documented, so we can go down that list and try if all queries work as they work with InfluxDB 1.</li>
</ul>

<h2 id="other-details">Other details</h2>

<p>I haven’t written much about the great new features in InfluxDB 3 since for EPA and SFC users moving to version 3 is not a question of better features but of security requirements.</p>

<p>InfluxDB 3 Core looks very promising, though, I’ve been keeping an eye on it for well over a year and tried using even their public pre-alpha builds.</p>

<p>You may read the official announcement and details <a href="https://www.influxdata.com/blog/influxdb3-open-source-public-alpha/">here</a>.</p>

<p>The only thing I wish to highlight here is that version 3 will be able to store data on S3 in the fashion similar to other modern time series databases.</p>

<p><em>If</em> I get to updating SFC or EPA, I may include a MinIO container so that S3 is included by default and users can start with S3 right away and switch to other S3 if they want. That way SolidFire (i.e. SFC) users will have the option to not hoard metrics data on SolidFire volumes as long as they redirect InfluxDB data store to another S3 rather than MinIO on SolidFire block devices. Built-in S3 back-end in EPA should be valuable to E-Series users with all-flash storage as well.</p>

<h2 id="conclusion">Conclusion</h2>

<p>The decisions to skip version 2 and (for SFC) migrate to InfluxDB 1 were very good.</p>

<p>SFC doesn’t even use any any Python libraries for InfluxDB 1 - all documents are composed “by hand” before being sent to InfluxDB. That was done on purpose so that I don’t have another outdated dependency (in Python library for InfluxDB 1).</p>

<p>Now we can reap rewards by skipping InfluxDB 2 and Flux (yaeah!) while most others are stuck on v2 and have to rewrite queries and re-create dashboards (notice there’s <em>no query support for Flux</em> in InfluxDB 3)!. (You can <a href="https://docs.influxdata.com/influxdb/cloud/reference/syntax/flux/flux-vs-influxql/">read about Flux vs InfluxQL here</a>).</p>

<p>EPA and SFC users may be able to switch to InfluxDB 3 early because EPA and SFC are almost trivial workloads and backward compatibility has been preserved. InfluxDB 3 could be ready for casual production with EPA or SFC in just 2-3 months.</p>

      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#storage">storage</a>
      &nbsp; 
    
      <a href="
      /categories/#monitoring">monitoring</a>
       
    
  </span>
</div>
    

  
    <div>
      <h3>Related Posts</h3>
      <ul>
      
        <li><a href="/2023/02/18/epa-eseries-monitor-sensors-psu-power-consumption.html">Gather and visualize E-Series temperature and power consumption metrics with EPA</a></li>
      
        <li><a href="/2024/05/03/netapp-solidfire-collector-next.html">Towards next SolidFire Collector (SFC)</a></li>
      
        <li><a href="/2023/02/25/elasticsearch-eseries-performance.html">Elasticsearch performance with E-Series</a></li>
      
        <li><a href="/2023/01/14/eseries-performance-analyzer-container-orchestrator-kubernetes.html">NetApp E-Series Performance Analyzer in orchestrated container environments</a></li>
      
        <li><a href="/2023/01/08/eseries-flash-ssd-wear-level-monitoring.html">Monitor wear level of NetApp E-Series flash drives via the API and from the CLI</a></li>
      
      </ul>
    </div>
  

    
  </div><footer class= "footer">
    <p>2025-01-24 01:24 </p>
    <p>Copyright © 2025 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
