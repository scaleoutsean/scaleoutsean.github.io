<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            VMware license calculator for VVF and VCF | Acting Technologist
      
    </title>
    <meta name="description" content="
     VMware license options for NetApp HCI users in 2024
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>VMware license calculator for VVF and VCF | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="VMware license calculator for VVF and VCF" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="VMware license options for NetApp HCI users in 2024" />
<meta property="og:description" content="VMware license options for NetApp HCI users in 2024" />
<link rel="canonical" href="https://scaleoutsean.github.io/2024/02/18/netapp-hci-broadcom-vmware-new-license-calculator.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2024/02/18/netapp-hci-broadcom-vmware-new-license-calculator.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-02-18T00:00:00+08:00" />
<script type="application/ld+json">
{"headline":"VMware license calculator for VVF and VCF","dateModified":"2024-02-18T00:00:00+08:00","datePublished":"2024-02-18T00:00:00+08:00","url":"https://scaleoutsean.github.io/2024/02/18/netapp-hci-broadcom-vmware-new-license-calculator.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2024/02/18/netapp-hci-broadcom-vmware-new-license-calculator.html"},"description":"VMware license options for NetApp HCI users in 2024","author":{"@type":"Person","name":"scaleoutSean"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">VMware license calculator for VVF and VCF</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>18 Feb 2024</span> - <i class="far fa-clock"></i> 


  
  
    3 minute read
  

    </span>
  </div>
  
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#vmwares-calculator-kb-96426">VMware’s calculator (KB 96426)</a></li>
  <li><a href="#example-for-netapp-hci">Example for NetApp HCI</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p><a href="/2024/02/07/migrate-netapp-hci-from-vmware.html#challenges-with-vsphere-8-on-netapp-hci">Recently I blogged</a> about how NetApp HCI customers can migrate from VMware. As I mentioned in that post, more NetApp HCI users appear to be interested in continuing to use vSphere (either 7 or 8), than in migrating to something else.</p>

<p>NetApp didn’t (re)sell VMware licenses, so all users out there have regular retail licenses for vSphere. If you’re on Gen 2 hardware and (see the earlier post) can and want to use vSphere 8, your main options include VMware Cloud Foundation, VMware vSphere Foundation.</p>

<p>Even users of vSphere 7 may need to extend they maintenance and support, so they may be interested in their options as well - especially if they’re on Gen 1 compute nodes.</p>

<p>Smaller vSphere clusters can also consider <a href="https://blogs.vmware.com/cloud-foundation/2024/01/22/vmware-end-of-availability-of-perpetual-licensing-and-saas-services/">other vSphere licenses</a>.</p>

<h2 id="vmwares-calculator-kb-96426">VMware’s calculator (KB 96426)</h2>

<p>Get it <a href="https://kb.vmware.com/s/article/96426">here</a>, together with the instructions.</p>

<p>Note that the files (sample input file and the script) are in the top right corner.</p>

<h2 id="example-for-netapp-hci">Example for NetApp HCI</h2>

<p>The main thing here is NetApp HCI clusters aren’t vSAN clusters, so <code class="language-plaintext highlighter-rouge">VSAN_ENABLED_CLUSTER</code> should be a <code class="language-plaintext highlighter-rouge">No</code>.</p>

<p>The second thing is NetApp HCI’s storage nodes are SolidFire (which runs Element OS),so don’t count those in <code class="language-plaintext highlighter-rouge">NUMBER_OF_HOSTS</code>.</p>

<p>Example:</p>

<ul>
  <li>Two HCI clusters; the first has 5 compute (ESXi) nodes (e.g. PROD) and the second 3 compute nodes (e.g. DR site)</li>
  <li><code class="language-plaintext highlighter-rouge">NUMBER_OF_CPU_SOCKETS</code> is consistently 2 on all NetApp HCI nodes from Gen 2</li>
  <li><code class="language-plaintext highlighter-rouge">NUMBER_OF_CPU_CORES_PER_SOCKET</code> - I randomly picked 18; there are different models so you need to find your count by yourself</li>
  <li>Gen 1 (see <a href="/2024/02/07/migrate-netapp-hci-from-vmware.html#challenges-with-vsphere-8-on-netapp-hci">here</a>)</li>
</ul>

<p>My hci.csv (input file in the CSV format):</p>

<pre><code class="language-raw">CLUSTER_NAME,   NUMBER_OF_HOSTS,    NUMBER_OF_CPU_SOCKETS,  NUMBER_OF_CPU_CORES_PER_SOCKET, VSAN_ENABLED_CLUSTER,   TOTAL_RAW_VSAN_TIB
HCI1,5,2,18, No,0
HCI2,3,2,18, No,0

</code></pre>

<p>If you have a vSphere clusters with 2 or 3 different CPU models, create multiple rows for such clusters (e.g. HCI1_8C, HCI2_12c).</p>

<p>Now run the script from that KB article with pwsh (PowerShell), or change the file extension to <code class="language-plaintext highlighter-rouge">.ps1</code> and make it executable.</p>

<p>For me <code class="language-plaintext highlighter-rouge">-InputFile</code> didn’t work, but I was prompted to enter it manually (hci.csv, which was in the same directory) and I picked the VVF option. The result:</p>

<pre><code class="language-raw">
Calculator Results for VMware vSphere Foundation (VVF):

Required VVF Compute Licenses Per Cluster

CLUSTER NUM_HOSTS NUM_CPU_SOCKETS_PER_HOST NUM_CPU_CORES_PER_SOCKET FOUNDATION_LICENSE_CORE_COUNT
------- --------- ------------------------ ------------------------ -----------------------------
HCI1    5                                2                       18                           180
HCI2    3                                2                       18                           108

Total Required VVF Compute Licenses: 288
Total Required vSAN Add-on Licenses: 

</code></pre>

<p>Well, this wasn’t complicated. We could have done that manually as well - for HCI1: 5 x 2 x 18 = 180 vCPU.</p>

<p>But if you have several clusters, some of which may have non-NetApp HCI compute nodes with different core count, then it can become less trivial.</p>

<h2 id="conclusion">Conclusion</h2>

<p>That VMware PowerShell license calculator may be useful for users with multiple clusters.</p>

<p>Users of small (2-3 compute nodes) vSphere clusters on NetApp HCI can consider not just VVF or VCF, but also a lower-cost license (such as vSphere Essentials Plus Kit) that may be cheaper but still get vSphere High Availability (HA), vMotion, and vSphere Distributed Switch’s (VDS).</p>

<p>You may need to “downgrade” from vSphere Standard (or whatever you may have now) and some features may need to be disabled or removed prior to that. Please consult your VMware partner or the VMware Web site about VMware products and licensing options.</p>


      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#virtualization">virtualization</a>
      &nbsp; 
    
      <a href="
      /categories/#netapp-hci">netapp hci</a>
      &nbsp; 
    
      <a href="
      /categories/#netapp">netapp</a>
      &nbsp; 
    
      <a href="
      /categories/#hci">hci</a>
       
    
  </span>
</div>
    

  
    <div>
      <h3>Related Posts</h3>
      <ul>
      
        <li><a href="/2024/02/07/migrate-netapp-hci-from-vmware.html">How to change NetApp HCI from VMware to alternatives</a></li>
      
        <li><a href="/2024/02/11/add-solidfire-storage-from-kvm.html">Add NetApp SolidFire iSCSI storage to KVM</a></li>
      
        <li><a href="/2020/12/24/netapp-hci-network-segregation.html">Adapter, network and VLAN isolation on NetApp HCI</a></li>
      
        <li><a href="/2023/03/29/zeroout-with-storage-vmotion-rethin.html">Zero-out and rethin VMDKs on NFS</a></li>
      
        <li><a href="/2022/05/18/vmware-tanzu-netapp-eseries.html">VMware Tanzu, vSphere CSI Plugin and NetApp E-Series</a></li>
      
      </ul>
    </div>
  

    
  </div><footer class= "footer">
    <p>2024-05-04 05:07 </p>
    <p>Copyright © 2024 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
