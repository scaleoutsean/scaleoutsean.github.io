<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Convert NetApp HCI from VMware to Hyper-V | Acting Technologist</title>
<meta name="description" content="How to convert  NetApp HCI VMs to Hyper-V (VMDK to VHD)">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="Convert NetApp HCI from VMware to Hyper-V">
<meta property="og:url" content="https://scaleoutsean.github.io/2024/08/28/convert-netapp-hci-from-vmware-to-hyperv.html">


  <meta property="og:description" content="How to convert  NetApp HCI VMs to Hyper-V (VMDK to VHD)">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="Convert NetApp HCI from VMware to Hyper-V">
  <meta name="twitter:description" content="How to convert  NetApp HCI VMs to Hyper-V (VMDK to VHD)">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2024/08/28/convert-netapp-hci-from-vmware-to-hyperv.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2024-08-28T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2024/08/28/convert-netapp-hci-from-vmware-to-hyperv.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Convert NetApp HCI from VMware to Hyper-V">
    <meta itemprop="description" content="How to convert NetApp HCI VMs to Hyper-V (VMDK to VHD)">
    <meta itemprop="datePublished" content="2024-08-28T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2024/08/28/convert-netapp-hci-from-vmware-to-hyperv.html" itemprop="url">Convert NetApp HCI from VMware to Hyper-V
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2024-08-28T00:00:00+08:00">2024-08-28 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <ul>
  <li><a href="#requirement">Requirement</a></li>
  <li><a href="#workflow">Workflow</a>
    <ul>
      <li><a href="#storage-considerations">Storage considerations</a></li>
    </ul>
  </li>
  <li><a href="#tools">Tools</a></li>
</ul>

<h2 id="requirement">Requirement</h2>

<p>If you have NetApp HCI or SolidFire with vSphere 7 and want to move to Hyper-V, how to do that?</p>

<p>For NetApp HCI, the tricky part is compute, which likely isn't certified for latest Windows Server. I wrote about that <a href="/2024/02/07/migrate-netapp-hci-from-vmware.html">here</a>.</p>

<p>As far as SolidFire (HCI storage nodes) is concerned, Windows Server's iSCSI initiator and MPIO doesn't seem to be any different to how it was years ago.</p>

<p>Assuming your compute nodes support Windows Server version you want to use, or you decide to recycle some NetApp HCI on your own, you should be good to go.</p>

<h2 id="workflow">Workflow</h2>

<ul>
  <li>On SolidFire, create another tenant (storage) account for your Hyper-V cluster</li>
  <li>Stand up a Hyper-V cluster</li>
  <li>If you want to use Volume Access Groups (VAGs), get Windows initiators' IQNs and add them to a new VAG (not to any existing VAG that you may have for vSphere)</li>
  <li>Create several volumes on SolidFire and enable access to these volumes</li>
  <li>Perform VM migration</li>
  <li>Leave old vSphere cluster online and keep VMs (powered off) in the case you need to revert</li>
</ul>

<p>Here you can find my notes on <a href="https://github.com/scaleoutsean/solidfire-windows">Microsoft Windows with NetApp HCI and SolidFire</a> as well as some simple scripts to get you started.</p>

<p>I tried even <a href="/2024/03/31/windows-server-2025-with-solidfire-part-one.html">Windows Server 2025</a> with SolidFire, as well as earlier Windows releases and haven't had any issues.</p>

<h3 id="storage-considerations">Storage considerations</h3>

<p>SolidFire volumes are always thin-provisioned by default, so you can create similarly large volumes (e.g. 4 or 8 or 16 TB) that you use on vSphere, but if you're short on capacity, you may need to migrate VMs in batches rather than copy them all at once because while deduplication may deduplicate content from VMDK copied to Hyper-V, you also need space for Hyper-V disks (VHD) which should be deduplicated, but it's best to confirm rather than assume.</p>

<p>If you have a 2-VM stack (e.g. IIS, SQL), copy two VMs, convert, complete migration, and then remove the VMware copies if they aren't deduplicated. Then do the next app.</p>

<p>Some tools may perform conversion on the fly, but you still need to make sure deduplication between VMDKs and VHDs works fine, otherwise you may run out of capacity.</p>

<p>SolidiFire garbage collection runs at the top of the hour, so in order to see whether deduplication works across hypervisors, wait until the next run and compare efficiency before vs. after. If efficiency has gone up after copying (and also after conversion), that means deduplication works fine and you can move more VMs at a time.</p>

<h2 id="tools">Tools</h2>

<p>There are various how-to's out there, but each has some problems or "gotchas", so I'd first consider these two "packaged" solutions rather than some DIY scripts.</p>

<ul>
  <li>Microsoft System Center VMM 2022
    <ul>
      <li>Works out of the box, supported by Microsoft</li>
      <li>Read <a href="https://learn.microsoft.com/en-us/system-center/vmm/vm-convert-vmware?view=sc-vmm-2022">this</a> for more</li>
    </ul>
  </li>
  <li>StarWind V2V Converter
    <ul>
      <li>Can convert in both directions, in the case you decide to bail</li>
      <li>Zero-Copy: converts on the fly, no need to copy VMDKs to Windows Hyper-V before conversion</li>
      <li>Get it for free <a href="https://www.starwindsoftware.com/starwind-v2v-converter">here</a></li>
    </ul>
  </li>
</ul>

<p>Enterprise customers who use MS SC may find it more convenient as no external tools are required (which eliminates "compliance" and "security" concerns).</p>

<p>If you don't have MS SC, use a 3rd party tool such as StarWind V2V Converter.</p>

<p>If you can leave your vSphere online for a week or two and get stuck StarWind V2V Converter can also help you move the VMs back (as they will have been updated, you wouldn't be able to simply shut down Hyper-V VMs and power up old vSphere VMs).</p>

<p>Among other tools I like (conceptually at least) is Veeam's approach, as they leverage backup and restore - extra assurance in the case something goes wrong.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/hyper-v" class="page__taxonomy-item p-category" rel="tag">hyper-v</a><span class="sep">, </span>
    
      <a href="/tags/netapp" class="page__taxonomy-item p-category" rel="tag">netapp</a><span class="sep">, </span>
    
      <a href="/tags/netapp-hci" class="page__taxonomy-item p-category" rel="tag">netapp hci</a><span class="sep">, </span>
    
      <a href="/tags/solidfire" class="page__taxonomy-item p-category" rel="tag">solidfire</a><span class="sep">, </span>
    
      <a href="/tags/vsphere" class="page__taxonomy-item p-category" rel="tag">vsphere</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/solidfire" class="page__taxonomy-item p-category" rel="tag">solidfire</a><span class="sep">, </span>
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2024-08-28T00:00:00+08:00">2024-08-28 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=Convert+NetApp+HCI+from+VMware+to+Hyper-V%20https%3A%2F%2Fscaleoutsean.github.io%2F2024%2F08%2F28%2Fconvert-netapp-hci-from-vmware-to-hyperv.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2024/08/28/convert-netapp-hci-from-vmware-to-hyperv.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2024/08/04/fixing-ui-annoyance-with-element-blocking.html" class="pagination--pager" title="Fixing Web UI annoyances with element blocking">Previous</a>
    
    
      <a href="/2024/10/10/eseries-volume-copy.html" class="pagination--pager" title="Using NetApp E-Series Volume Copy">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/12/17/eseries-santricity-resource-provisioned-vols-groups-pools.html" rel="permalink">Resource Provisioning on E-Series SANtricity
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-12-17T00:00:00+08:00">2025-12-17 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">About resource provsioned volumes and groups/pools
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/12/05/eseries-santricity-lockout.html" rel="permalink">E-Series SANtricity Web UI lockout
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-12-05T00:00:00+08:00">2025-12-05 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">How to use (or not) lockout feature in E-Series SANtricity
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/10/15/mcp-tapout.html" rel="permalink">TAPOUT - MCP server for ONTAP to E-Series migration
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-10-15T00:00:00+08:00">2025-10-15 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Migrate to NetApp E-Series arrays with MCP
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/10/10/post-quantum-crypto-proxy-for-solidfire-eseries-api.html" rel="permalink">Post-Quantum API proxy for E-Series and SolidFire
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-10-10T00:00:00+08:00">2025-10-10 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Enterprise-grade PQC TLS encryption for E-Series and SolidFire API endpoints
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2025 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
