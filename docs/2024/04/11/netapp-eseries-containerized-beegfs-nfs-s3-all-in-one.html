<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>NetApp E-Series with containerized BeeGFS, NFS, S3 | Acting Technologist</title>
<meta name="description" content="Get started in minutes: E-Series, BeeGFS, S3 and NFS 4">


  <meta name="author" content="scaleoutSean">
  
  <meta property="article:author" content="scaleoutSean">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Acting Technologist">
<meta property="og:title" content="NetApp E-Series with containerized BeeGFS, NFS, S3">
<meta property="og:url" content="https://scaleoutsean.github.io/2024/04/11/netapp-eseries-containerized-beegfs-nfs-s3-all-in-one.html">


  <meta property="og:description" content="Get started in minutes: E-Series, BeeGFS, S3 and NFS 4">





  <meta name="twitter:site" content="@scaleoutSean">
  <meta name="twitter:title" content="NetApp E-Series with containerized BeeGFS, NFS, S3">
  <meta name="twitter:description" content="Get started in minutes: E-Series, BeeGFS, S3 and NFS 4">
  <meta name="twitter:url" content="https://scaleoutsean.github.io/2024/04/11/netapp-eseries-containerized-beegfs-nfs-s3-all-in-one.html">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2024-04-11T00:00:00+08:00">






<link rel="canonical" href="https://scaleoutsean.github.io/2024/04/11/netapp-eseries-containerized-beegfs-nfs-s3-all-in-one.html">







  <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />


  <meta name="msvalidate.01" content="7cf5b7d96a77410a8ad035f764dc81b3">





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Acting Technologist Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">


  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/scaleoutsean-acting-technologist.png" alt="Acting Technologist"></a>
        
        <a class="site-title" href="/">
          Acting Technologist
          <span class="site-subtitle">human action through technology</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                
                
              >Archive</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects.html"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="NetApp E-Series with containerized BeeGFS, NFS, S3">
    <meta itemprop="description" content="Get started in minutes: E-Series, BeeGFS, S3 and NFS 4">
    <meta itemprop="datePublished" content="2024-04-11T00:00:00+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://scaleoutsean.github.io/2024/04/11/netapp-eseries-containerized-beegfs-nfs-s3-all-in-one.html" itemprop="url">NetApp E-Series with containerized BeeGFS, NFS, S3
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2024-04-11T00:00:00+08:00">2024-04-11 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#reinventing-the-wheel">Reinventing the wheel</a></li>
  <li><a href="#components">Components</a></li>
  <li><a href="#workflow">Workflow</a></li>
  <li><a href="#expected-outcome">Expected outcome</a></li>
  <li><a href="#next-steps">Next steps</a></li>
  <li><a href="#security">Security</a>
    <ul>
      <li><a href="#quotas-and-acls">Quotas and ACLs</a></li>
    </ul>
  </li>
  <li><a href="#monitoring">Monitoring</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>Everyone likes to say their storage platform makes AI easy to automate, get started in no time, and so on.</p>

<p>Well, I am 100% sure that is the case with NetApp SolidFire. Related to (Gen)AI, I gave some examples in a post where I went beyond the usual "create disks" stuff and showed how easy it is to make SolidFire do exactly what you need such as, for example, keep a stash of 5 freshly cloned data volumes, so that users don't even need to wait for a few seconds until their data volume is cloned.</p>

<p>On the other hand, E-Series has an API exists, but I'll be the first to say - it isn't a DevOps paradise.</p>

<p>But very recently I realized I don't need a paradise. I just need to create a few of LUNs, and that has to be done once.</p>

<p>Why is that? Because when we use BeeGFS with E-Series, the rest of automation and workflows don't involve E-Series.</p>

<p>We create (or remove) volumes when we make changes to BeeGFS, which is rare. That's all. The rest is BeeGFS, BeeGFS CSI, and so on.</p>

<h2 id="reinventing-the-wheel">Reinventing the wheel</h2>

<p>I wouldn't suggest what I recommend here is good for production use, but it's a start and likely good enough for functional Dev/Test.</p>

<p>In fact, many E-Series users who new to AI want to start somewhere. Others already use AI in production, but need another environment for testing (preferably fast and economical).</p>

<p>Previously I explained (not that it wasn't explained by ThinkParQ, but I hope I explained it a bit better) how to stand-up containerized BeeGFS. So, that's already "solved".</p>

<p>But why not go a step further, and solve it even more? Say, add NFS and S3 services.</p>

<p>With that, all you need is two E-Series volumes, and once that is done you can have a singleton BeeGFS cluster with NFS and S3 ready-to-use.</p>

<h2 id="components">Components</h2>

<p>From bottom up:</p>

<ul>
  <li>NetApp E-Series</li>
  <li>ThinkParQ BeeGFS</li>
  <li>Linux NFS 4.1 (kernel-based) server</li>
  <li>Versity S3 Gateway</li>
</ul>

<p>What to expect?</p>

<ul>
  <li>BeeGFS, a parallel file system</li>
  <li>Ability to deploy BeeGFS CSI (if you're a Kubernetes user) or use BeeGFS locally on the Docker host</li>
  <li>Ability to upload or download data from external clients using NFS or S3, which makes synchronization with production environments easy</li>
</ul>

<p>What to not expect?</p>

<p>For scale-out BeeGFS you'd need a bit more work, to make the BeeGFS containers work with external, preferably RDMA-enabled, networks. See the BeeGFS containers-related documentation, or just use non-containerized BeeGFS.</p>

<p>Our singleton BeeGFS approach can ignore external networks aside from non-BeeGFS services, which need to be exposed over plain TCP/IP which is easy.</p>

<h2 id="workflow">Workflow</h2>

<p>1) Create E-Series volumes (on DDP or traditional Disk Group, for testing either is fine)</p>

<p>2) Create E-Series hosts (this lets the array know which clients (FC, iSCSI, etc.) are out there, and map LUNs to selected host(s))</p>

<p>3) Map volumes to hosts</p>

<p>4) Configure multi-pathing or, if it's already in place, rescan storage to detect new disks</p>

<p>5) Edit YAML and Docker configuration file</p>

<p>6) Go! <code class="language-plaintext highlighter-rouge">docker compose up</code></p>

<p>7) Install BeeGFS client and mount BeeGFS from containers</p>

<p>Steps 1-4 are routine for most E-Series users. You can complete them from the SANtricity UI (5 minutes of work) or or via the API (10 seconds of staring). The NetApp BeeGFS deployment scripts for Ansible (find 'em on Github) may be used if you're not in the mood for writing to the SANtricity API.</p>

<p>You can see screenshots of some of the steps 1-4 in my post about Ubuntu with iSER.</p>

<p>Steps 5-7 are explained in my post about containerized BeeGFS.</p>

<h2 id="expected-outcome">Expected outcome</h2>

<p>Maybe this heading will eventually be changed to "result", but until I get that done I'll refer to it as "expected outcome".</p>

<p><img src="/assets/images/netapp-eseries-containerized-beegfs-nfs-s3.svg" alt="Containerized BeeGFS, NFS and S3" /></p>

<h2 id="next-steps">Next steps</h2>

<p>Mild stress test for your stack (S3, NFS, filesystem) would be a good first step.</p>

<p>In order to install Kubernetes and ThinParQ BeeGFS CSI driver on the host we may need to deploy these containers on Kubernetes. As-is, it's meant for Docker, but if your environment and workflows depend on Kubernetes, you can modify the YAML to suit your needs.</p>

<h2 id="security">Security</h2>

<p>If you handle sensitive data, just use the plain BeeGFS container set as explained in that earlier post. You can still use WinSCP or SCP to get your data in and out.</p>

<p>NFS and S3 expose data on LAN, so users with sensitive data need to restrict access, especially to NFS. S3 is probably easier and harder to make mistakes with, as key pairs need to be created and provided to users.</p>

<h3 id="quotas-and-acls">Quotas and ACLs</h3>

<p>BeeGFS users with (commercial) enterprise support get quotas and ACLs.</p>

<p>Versity S3 gateway may be able to provide some quota control as well, but it won't apply to local (BeeGFS) users on the host.</p>

<h2 id="monitoring">Monitoring</h2>

<p>You can throw in a few more containers to get BeeGFS monitoring, and 3-4 more from my EPA project to get E-Series monitoring as well.</p>

<p>As this setup is for Dev/Test and demo environments, it's likely not necessary to add all the gizmos one would want in Production.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Production deployments and integrations usually require a lot of work, but non-production do not.</p>

<p>This approach aims to make it easy to get an idea of how BeeGFS with E-Series works and uses more batteries than the previous post on BeeGFS containers. Now even upload and download to this environment should be convenient.</p>

<p>Although this example requires just a single server attached to one E-Series, if your server and storage has enough IO resources you can run hundreds of Dev/Test containers on it. Even the entry-level EF-Series EF300 - given enough disks - can give you over 10 GB/s in mixed read-write performance.</p>

<p>And it takes less than minutes to get started.</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/ai" class="page__taxonomy-item p-category" rel="tag">ai</a><span class="sep">, </span>
    
      <a href="/tags/beegfs" class="page__taxonomy-item p-category" rel="tag">beegfs</a><span class="sep">, </span>
    
      <a href="/tags/beegfs-csi" class="page__taxonomy-item p-category" rel="tag">beegfs csi</a><span class="sep">, </span>
    
      <a href="/tags/csi" class="page__taxonomy-item p-category" rel="tag">csi</a><span class="sep">, </span>
    
      <a href="/tags/e-series" class="page__taxonomy-item p-category" rel="tag">e-series</a><span class="sep">, </span>
    
      <a href="/tags/eseries" class="page__taxonomy-item p-category" rel="tag">eseries</a><span class="sep">, </span>
    
      <a href="/tags/kubernetes" class="page__taxonomy-item p-category" rel="tag">kubernetes</a><span class="sep">, </span>
    
      <a href="/tags/versity" class="page__taxonomy-item p-category" rel="tag">versity</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/ai" class="page__taxonomy-item p-category" rel="tag">ai</a><span class="sep">, </span>
    
      <a href="/categories/kubernetes" class="page__taxonomy-item p-category" rel="tag">kubernetes</a><span class="sep">, </span>
    
      <a href="/categories/storage" class="page__taxonomy-item p-category" rel="tag">storage</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2024-04-11T00:00:00+08:00">2024-04-11 00:00</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?via=scaleoutSean&text=NetApp+E-Series+with+containerized+BeeGFS%2C+NFS%2C+S3%20https%3A%2F%2Fscaleoutsean.github.io%2F2024%2F04%2F11%2Fnetapp-eseries-containerized-beegfs-nfs-s3-all-in-one.html" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://scaleoutsean.github.io/2024/04/11/netapp-eseries-containerized-beegfs-nfs-s3-all-in-one.html" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

</section>


      
  <nav class="pagination">
    
      <a href="/2024/04/09/solidbackup-velero-backup-non-k8s-volumes-netapp-solidfire-to-s3.html" class="pagination--pager" title="Backup NetApp SolidFire's non-Kubernetes volumes with Velero">Previous</a>
    
    
      <a href="/2024/04/23/econfig-update.html" class="pagination--pager" title="EConfig v2">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/20/kubernetes-netapp-eseries-santricity-csi.html" rel="permalink">Kubernetes with NetApp E-Series SANtricity
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-20T00:00:00+08:00">2026-01-20 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">CSI drivers you can use with NetApp E-Series arrays
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/19/netapp-eseries-santricity-csi.html" rel="permalink">NetApp E-Series SANtricity CSI
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-19T00:00:00+08:00">2026-01-19 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          11 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Community CSI driver for NetApp E-Series arrays: what it is and what it does
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/16/santricity-eseries-datalake-storage.html" rel="permalink">Big Data &amp; analytics patterns for NetApp object &amp; block
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-16T00:00:00+08:00">2026-01-16 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2026/01/16/eseries-santricity-terraform-provider.html" rel="permalink">NetApp E-Series SANtricity Terraform Provider
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-16T00:00:00+08:00">2026-01-16 00:00</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          15 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Provision storage in seconds with Terraform and E-Series
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/scaleoutsean" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2020-2026 scaleoutSean.github.io | <a href="https://scaleoutsean.github.io">Acting Technologist</a> | Terms: <a href="https://creativecommons.org/licenses/by/4.0/deed.en" target="_blank">CC BY 4.0</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
