<!doctype html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="googlebot" content="noarchive">
    <meta name="googlebot" content="max-snippet:60">
    <meta name="googlebot" content="max-image-preview:small">
    <meta name="bingbot" content="noarchive">
    <meta name="bingbot" content="max-snippet:60">
    <meta name="bingbot" content="max-image-preview:small">
    <meta name="robots" content="noarchive">
    <meta name="robots" content="max-snippet:60">
    <meta name="google-site-verification" content="F6q7vIwQ2G0j8tk-KL9rAXOMLXMDMMUkEz4fRs1Nnnc" />
    <title>
        
            Helpful waste of time | Acting Technologist
      
    </title>
    <meta name="description" content="
     You too can save time by following helpful UI hints
     ">

    <!-- LINK TO ATOM FEED FOR SEO -->
    <link rel="alternate" type="application/atom+xml" href="https://scaleoutsean.github.io/feed.xml" />

    <!-- FAVICON -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">

    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
    <div id="search"></div>
    <script src="https://cdn.counter.dev/script.js" data-id="83dc700a-b821-4e57-9425-02b8336a9456" data-utcoffset="0"></script>
    <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search" });
        });
    </script>

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Helpful waste of time | Acting Technologist</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Helpful waste of time" />
<meta name="author" content="scaleoutSean" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="You too can save time by following helpful UI hints" />
<meta property="og:description" content="You too can save time by following helpful UI hints" />
<link rel="canonical" href="https://scaleoutsean.github.io/2020/11/24/scary-bs-postman-ssl-certs.html" />
<meta property="og:url" content="https://scaleoutsean.github.io/2020/11/24/scary-bs-postman-ssl-certs.html" />
<meta property="og:site_name" content="Acting Technologist" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-24T00:00:00+08:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://scaleoutsean.github.io/2020/11/24/scary-bs-postman-ssl-certs.html"},"author":{"@type":"Person","name":"scaleoutSean"},"description":"You too can save time by following helpful UI hints","@type":"BlogPosting","url":"https://scaleoutsean.github.io/2020/11/24/scary-bs-postman-ssl-certs.html","headline":"Helpful waste of time","dateModified":"2020-11-24T00:00:00+08:00","datePublished":"2020-11-24T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

<body>

  <div class="container">
    <header id="header">
	<div id = site_title>
		<a href="https://scaleoutsean.github.io/">
			<h2 style="font-size:1.8em;">Acting Technologist</h2>
		</a>
		
		<h3>
			civilizations are created by individuals
		</h3>
		
	</div>

	<div id="subheader">
		
		<nav class="pages">
<a href="/about.html">About</a>

<a href="/archive.html">Archive</a>

<a href="/categories/">Categories</a>

<a href="/projects.html">Projects</a>
</nav>
		
		
		<nav class="social">
			
  
    <a href="https://www.github.com/scaleoutsean" target="_blank" id="github"><i class="fab fa-github" aria-hidden="true"></i></a>
  
   

  
    <a href="https://twitter.com/scaleoutsean" target="_blank" id="twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  
   

  
  
    <a href="/feed.xml" target="_blank" id="rss"><i class="fas fa-rss" aria-hidden="true"></i></a>
   

		</nav>
		
	</div>
</header>


    <div class="post-container">
      <article id = "post">
        <h1 id = "post-title">Helpful waste of time</h1>

  
  <div class = "post-info">
    <span>
        <i class="far fa-calendar" aria-hidden="true"></i> <span>24 Nov 2020</span> - <i class="far fa-clock"></i> 


  
  
    3 minute read
  

    </span>
  </div>
  
        <ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#update-1-20230830">Update 1 (2023/08/30)</a></li>
  <li><a href="#update-2-20250503">Update 2 (2025/05/03)</a></li>
  <li><a href="#update-3-20250607">Update 3 (2025/06/07)</a>
    <ul>
      <li><a href="#faqs">FAQs</a></li>
    </ul>
  </li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>When dealing with input that consists of unweildy TLS certificates Postman can helpfully hint at potential JSON validity problems and save you time. I’m sure some other tools are like that as well.</p>

<p><img src="/assets/images/postman-scary-bs-setsslcertificate.png" alt="Scary Bullshit" /></p>

<p>With such help, instead of trying like an idiot you can fix your inputs before that, get things done and have a nice rest of the day.</p>

<p>All right, let’s try to remove all line breaks until Postman stops hinting.</p>

<p>After having removed 10 lines, I start thinking “oh man, this is slow! Let’s automate!”</p>

<p>Try sed, get stuck, Google it, done!</p>

<p>Back to Postman. No hints. Send. Yikes!!! Invalid cert!</p>

<p>Aha! Back to checking if my cert is in the right format. DER. PEM, etc. What a hassle!</p>

<p>All right, the certs are fine as I had thought. I see - I should replace line breaks with <code class="language-plaintext highlighter-rouge">\n</code>’s, says a helpful Stack Overflow answer.</p>

<p>More sed. Done! Damn, it still doesn’t work!</p>

<p>Let’s recheck those certs…</p>

<p>Eventually I got desperate and tried to work by <a href="https://github.com/scaleoutsean/awesome-solidfire/blob/master/encryption/kmip-thales-keysecure.md">my own notes</a> from Github which led me to believe I should simply paste that junk as-is and hit Send. It worked.</p>

<p>I don’t blame Postman, those visual hints probably saved me more than 30 minutes over the years.</p>

<p>But why things have to be so complicated?</p>

<h2 id="update-1-20230830">Update 1 (2023/08/30)</h2>

<p>To save you time:</p>

<ul>
  <li>Line breaks must remain at the end of the header and before the footer row. <code class="language-plaintext highlighter-rouge">\n</code> in green circles must be left in place. The last <code class="language-plaintext highlighter-rouge">\n</code> at the very end is optional so I haven’t marked it with a circle; it’s the end of certificate itself.</li>
  <li>Line breaks must be removed from certificate’s content (all breaks in red rectangle).</li>
</ul>

<p><img src="/assets/images/solidfire-tls-certificate-upload.png" alt="Strip line breaks from body" /></p>

<p>Now as we submit JSON-RPC request, <code class="language-plaintext highlighter-rouge">\n</code>s would be visible like here.</p>

<pre><code class="language-raw">    "params": {
    	"certificate": "-----BEGIN CERTIFICATE-----\nMIIDEzC....
        ...VMQ=\n-----END CERTIFICATE-----\n"
        ...
    }
</code></pre>

<h2 id="update-2-20250503">Update 2 (2025/05/03)</h2>

<p>I hit this crap again… Even as I found this post, I still failed several times because I didn’t notice the green circles in the screenshot above!</p>

<p>So, when uploading two-part TLS certificates to NetApp SolidFire using JSON, use RSA private keys (others won’t be accepted) and remove/add line breaks as per below:</p>

<ul>
  <li><strong>Insert</strong> a <code class="language-plaintext highlighter-rouge">\n</code> where you’d “expect” end of line in a proper text editor (meaning in the rows that end with <code class="language-plaintext highlighter-rouge">------</code>  (green))</li>
  <li><strong>Remove</strong> line breaks inside of certificate content itself (red) to make that gibberish flows end to end. The flow of gibberish must go until the end so that it’s wrapped by Postman, not manually by you</li>
</ul>

<p>tldr; your Postman pane should look like this:</p>

<p><img src="/assets/images/solidfire-tls-certificate-upload-again.png" alt="" /></p>

<p>Then you may connect securely using FQDN, hostname (or IP if your cert has an IP alias).</p>

<p><img src="/assets/images/solidfire-tls-certificate-upload-after.png" alt="" /></p>

<h2 id="update-3-20250607">Update 3 (2025/06/07)</h2>

<p>Not again!!!</p>

<p>This is truly a gift that never stops giving…</p>

<p>It also pisses me off that there’s no official script.</p>

<p>They’d rather write 5 different “KB” articles than create a script that works and doesn’t need to be “read” except for online help such as:</p>

<pre><code class="language-pwsh">PS&gt; .\update-SolidFire-Tls-Certificate.ps1 -mvip 192.168.1.34 \
  -username admin \
  -password 'l3tZGoBraNd0n!' \
  -certificateFile C:\Users\Administrator\Downloads\sf.crt \
  -privateKeyFile C:\Users\Administrator\Downloads\sf.key
</code></pre>

<p>I had to break it into several lines for easier viewing, but yeah - that’s all you need to read if there’s a script.</p>

<p>And it appears to work. PowerShell 5.1 only, sorry!</p>

<p><img src="/assets/images/solidfire-tls-certificate-upload-gift-never-stops-giving.png" alt="SolidFire TLS Certificate Renew Script" /></p>

<p>The script can be found <a href="https://github.com/scaleoutsean/awesome-solidfire/blob/master/scripts/updateTlsCertificate.ps1">here</a>.</p>

<h3 id="faqs">FAQs</h3>

<p><strong>Q:</strong> How come you hit this twice in just two months? Do you update your certs every month?</p>

<p><strong>A:</strong> No, I have 2 SolidFire “clusters” :-)</p>


      </article>
    </div>
    
      <div class="categories">
    <span><p>Categories:</p>
    
    
      <a href="
      /categories/#random">random</a>
       
    
  </span>
</div>
    

  
    <div>
      <h3>Related Posts</h3>
      <ul>
      
        <li><a href="/2025/07/09/the-shocking-truth-about-createschedule.html">The shocking truth about SolidFire ModifySchedule method</a></li>
      
        <li><a href="/2025/07/07/firemox.html">Firemox - an anti-plugin for Proxmox PVE with NetApp SolidFire</a></li>
      
        <li><a href="/2025/06/30/solidfire-backup-to-disk-with-versity-s3-gateway.html">SolidFire backup to disk with Versity S3 Gateway</a></li>
      
        <li><a href="/2025/06/29/solidfire-with-powershell-7.html">Connecting to SolidFire from PowerShell 7.5</a></li>
      
        <li><a href="/2025/06/24/initial-exploration-solidfire-proxmox-plugin.html">Do we need a NetApp SolidFire plugin for Proxmox</a></li>
      
      </ul>
    </div>
  

    
  </div><footer class= "footer">
    <p>2025-07-13 13:49 </p>
    <p>Copyright © 2025 scaleoutSean. Content is released under the CC BY license. Design: Alessio Franceschi</p>
</footer>

</body>
</html>
